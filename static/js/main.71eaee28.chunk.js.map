{"version":3,"sources":["assets/Knipsel.png","assets/star.png","assets/logo.png","../node_modules/@trust/webcrypto/src/algorithms sync","model/HolderComponents/Observable.js","model/HolderComponents/CheckIn.js","solid/rdf/Constants.js","solid/rdf/Prefixes.js","solid/SolidMethods.js","solid/rdf/SolidTtlTemplates.js","solid/solidCommunicatorInits/PodFolderBuilder.js","error/AccessError.js","solid/solidCommunicatorInits/AccessChecker.js","model/HolderComponents/CheckInHandler.js","model/HolderComponents/Friend.js","model/HolderComponents/Group.js","solid/solidCommunicatorInits/SolidCommunicatorBuilder.js","solid/solidCommunicatorInits/PreApplicationHandelings.js","model/HolderComponents/Beer.js","model/HolderComponents/InboxMessage.js","solid/SolidCommunicator.js","component/NavBar.js","routes/page/Home.js","routes/page/LogIn.js","component/GroupMakerOverlay.js","routes/page/Groups.js","routes/page/Friends.js","component/BeerCheckInComponent.js","routes/page/FriendPage.js","routes/page/CheckIns.js","routes/page/BeerResults.js","routes/page/Profile.js","routes/page/User.js","routes/page/Inbox.js","component/BeerCheckInOverlay.js","model/HolderComponents/Brewer.js","routes/page/BeerDetailScreen.js","routes/page/BrewerPage.js","routes/page/GroupDetail.js","routes/AppRoutes.js","routes/extrapage/AclErrorPage.js","routes/extrapage/FetchingPage.js","model/HolderComponents/User.js","model/ModelHolder.js","App.js","serviceWorker.js","index.js","assets/profilePic.png"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","Observable","this","_subscribers","map","subscriber","update","push","filter","subscriberList","CheckIn","fileLocation","_fileLocation","userWebId","userName","beerLocation","beerName","checkInTime","rating","review","_type","_userWebId","_userName","_beerLocation","_beerName","_checkInTime","_rating","_review","updateSubscribers","APPLICATION_NAME_PTI","APPFOLDER_NAME","CHECKIN_FOLDER","BEERDRINKERFOLDER","CONTENT_TYPE_TURTLE","INBOX_FOLDER","APPDATA_FILE","FRIENDS_FILE","APPDATA_FILENAME","FRIENDS_FILENAME","FRIENDSGROUPNAME","FRIENDSSENTGROUPNAME","GROUPFOLDER","GROUP_MEMBERS","GROUP_DATA_FILE","CHECKIN_INDEX_FILE","BEERREVIEWFILENAME","FRIENDSHIPREQUEST_ACCEPTED_NAME","rdfLib","require","SOLID","Namespace","PIM","VCARD","TERMS","RDF","SOLIDLINKEDBEER","FOAF","LDP","DBPEDIA","SCHEMA","ACL","fileClient","authClient","postSolidFile","folder","filename","body","a","fetch","method","headers","putSolidFile","url","getUserFile","userttt","graph","status","text","parse","any","undefined","profile","sym","publicProfileIndex","readFile","value","ppiTTL","ppigraph","app","appQuery","nameFN","imageURL","inbox","result","name","imageUrl","appLocation","loadFriendData","friend","getUri","userDetails","setUserDetails","friendAppdataLocation","then","friendsAppdata","blankNode","startdate","points","setAppData","Date","getCheckInHandler","setBeerPoints","getTenUserCheckIns","getBeerDrinkerFolder","res","setReviesCheckInsAndUserCheckIns","reviews","checkIns","userBeerCheckIns","beerDrinkerFolder","checkinLocation","readFolder","fileContents","files","reverse","i","length","loadValuesInCheckInFile","beerCheckIn","includes","getAllUserCheckIns","beerdrinkerFolder","getFileLocation","ttlFile","namedNode","webId","userId","beerlocation","beername","checkinTime","loadInAttributes","getInviteToLSBInvitation","urlInvitee","invitation","postLocation","add","getFriendShipRequest","getDeclineFriendshipRequest","from","getAcceptFriendshipRequest","description","getGroupInvitaion","groupUrl","groupName","beerCheckInTemplate","time","beerReviewInTemplate","getGroupAppDataTTL","urlFile","friends","leader","friendsgroup","forEach","getGroupAclTTL","groupLocation","groupAppDataLocation","groupAcl","webIdOwner","owner","ownerAgent","members","resource","getGroupCheckInsAclTTL","getGroupOtherPersonTTL","postlocation","getCheckInIndexBody","user","member","groupCheckInIndexAcl","buildFolders","storePublicProfileIndex","storagePublic","createAppNodeForPublicTypeIndex","applocation","makeAppFolderStructure","sleep","ms","Promise","setTimeout","checkFolderIntegrity","appfolder","groupFolder","groupFolderAcl","getAclGroupFolder","store","publicTypeIndex","publicLocation","findEmptyFolder","appLocationNN","rdflib","newTTLpublicTypeindex","makeRandomString","characters","charactersLength","charAt","Math","floor","random","appFolderUrl","aclUrl","getAclAppFolder","beerDrinkerUrl","getFriendsFile","friendsUrl","appDataFileAcl","appDataFile","getAppDataInit","getAclAppData","getACLInboxFolder","inboxUrl","inboxUrlacl","reviewUrlacl","reviewUrl","getACLSubmittersFriends","bn","appUrl","webIdUserLoggedIn","agent","friendsgroupRequested","_public","resourceUrl","group1","fgroup1","fgroup2","AccessError","args","message","checkacess","storeProfileCard","readAcess","match","Write","Append","Control","CheckInHandler","_checkInsAmount","_beerReviewsAmount","_beerPoints","_userCheckIns","_allCheckinsGotten","checkIn","subscribe","bool","amount","beerPoints","beerReviews","userCheckins","unsubscribe","concat","Friend","uri","_profileUri","_name","_imageUrl","_beerDrinkerFolder","_startDate","_checkInHandler","clearAll","pictureurl","getUserName","replace","getTime","Group","createdByMe","_url","_createdByMe","_groupLeader","_members","naam","checkInsLocation","groupDataLocation","groupCheckInIndex","groupLeader","groupMembers","_checkInsLocation","_groupDataLocation","_groupCheckInIndex","slice","buildSolidCommunicator","modelHolder","solidCommunicator","returnObject","getUser","checkInHandler","webIdNN","getUserCard","getPPILocation","ppiObject","getStorePublic","getApplicationLocation","ppi","applicationLocation","sc","getUserDetails","loadInUserValues","setFileLocations","getAppData","loadInAppData","parseInt","loadInAppStore","addUserCheckIns","setBeerReviewsAmount","setCheckInsAmount","getFriends","addFriends","loadInFriendsStore","group","sentGroup","friendsStore","getGroups","setGroups","groupsLocation","groups","myGroups","folders","friendsGroups","loadGroupInformation","loadFriendGroupData","getUrl","file","urlGroup","setUrl","groupCheckInsLocation","checkIndexLocation","groupDataGraph","hasMemberGroup","checkInIndex","checkInIndexGraph","pointsMemberGroup","each","setProperties","webIdUrl","profileCardTTl","storePublicTypeIndex","publicTypeIndexTTL","appdataLocation","appdatattl","friendsLocation","ttlFriends","query","index","friendGroup","friendsRequestedGroup","FriendsStore","inboxContent","acceptedRequests","checkAcceptedFriendShipRequests","declinedRequests","checkDeclinedFriendShipRequests","friendsGroup","friendsSent","friendGraph","filettl","removeMatches","addFriend","serialize","friendsTtl","deleteFile","Beer","type","style","brewer","location","_style","_brewer","_location","containers","_description","_containers","InboxMessage","_uri","_from","_desc","_groupName","desc","SolidCommunicator","_modelHolder","_user","_friendsStore","_friendGroup","_friendsRequestedGroup","preApplicationHandelings","_appStore","_blankNodeAppStore","_checkInFolder","_appStoreLocation","loadFileContents","setInboxMessages","fileTTL","blanknode","setContents","query1","query2","console","log","fileName","getName","invitationTTL","SolidTemplates","checkIfUserIsFriend","fileNameName","friendsFile","friendsTTL","getFrom","declineTTL","acceptedTTL","beersIndexTTl","beers","beer","beerTTl","container","updateInformation","hasReview","date","checkingFolder","beerpoints","getCheckInLocation","addBeerPoints","sendBeerPoints","addBeerReviewToAmount","addToCheckInsAmount","getGroupFromCheckInLocationUri","getGroupCheckInIndex","userNamedNode","BeerCheckIn","getUTCDate","beerPointsQueryNow","appTTL","brewerTTl","groep","opgericht","owners","provincie","email","taxid","telephone","beerIndex","blankNodeAdress","postalcode","streetaddress","addressregion","addresslocality","loadInBrewerInformation","fetchBeerData","addBeers","getAllCheckInsGotten","setUserCheckIns","setAllCheckInsGotten","beerdrinkerUrl","groupUrlAcl","appdataName","checkInsAcl","checkins","groupCheckInAclTtl","groupAclTtl","checkInsIndexAcl","checkInsIndex","checkInIndexBody","aclBody","addGroup","getFriendFromUri","folderLocation","getGroupName","getLocation","ownGroupBody","NavBar","onInput","props","onBeerSearch","target","input","cldn","React","Children","toArray","children","child","key","to","loggedIn","placeholder","searchQuery","onChange","onClick","onSearchBarButtonClick","splice","Component","Home","className","href","src","Knipsel","alt","color","LogIn","onChangeCheckBox","setState","loginAsBrewer","state","onButtonClick","solidAuth","popupLogin","popupUri","currentSession","session","onLoggedIn","history","onRegisterClick","window","assign","typeLogIn","loginButton","disabled","activeClass","join","GroupMakerOverlay","onDivClick","stopPropagation","onOverLayCancelClick","overlay","display","makeGroup","isMulti","options","valuesSelector","selectedFriends","onSelect","Groups","onMakeGroupClick","test","makeNewGroup","onSelectFriend","onGroupNameChange","friendsComs","label","getLeader","onAddReviewClick","addReview","checkInBeer","onPostBeerReview","Friends","inputText","checkIfUser","toUpperCase","friendUri","friendUri2","friendUri3","friendUri4","pathname","error","friendsElements","BeerCheckInComponent","context","checkin","FriendPage","getFriendFromIndex","params","content","imgUrl","getImageUrl","userCheckIns","getUserCheckIns","getStartDate","profilePic","getCheckInsAmount","getBeerReviewsAmount","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","dateToString","getBeerPoints","getAllCheckIns","getAllCheckInsLoggedInUser","BeerResults","onLinkClick","setBeer","setBeers","elements","getBeers","listItem","Profile","getBeginDate","User","onNotJoinedButtonClick","inviteUserToSolib","clicked","sendFriendShipRequest","sendFriendshipRequest","button","Inbox","declineFriendShipRequest","spliceAtIndex","declineFriendSchipRequest","acceptFriendShipRequest","acceptFriendSchipRequest","declineGroupRequest","acceptGroupRequest","getInboxContents","items","getInboxMessages","buttonDiv","getType","getDesc","BeerCheckInOverlay","Rating","beerRating","precision","event","newValue","setBeerRating","beerReview","onBeerReviewChange","groupsOptions","selectedOptions","Brewer","_beers","taxID","postalCode","streetAddress","addressRegion","addressLocality","_groep","_opgericht","_owners","_provincie","_email","_taxid","_telephone","_postalcode","_streetAdress","_addressRegion","_addressLocality","BeerDetailScreen","postBeerReview","onCheckInClick","onSelectGroup","getBeer","setBrewer","getBrewer","fetchBeer","brewerName","BrewerPage","getBrewerInformation","section","getGroep","GroupDetail","getGroupFromIndex","getMembers","sort","b","Star","title","AppRoutes","exact","path","component","isLoggedIn","UserPage","FriendsPage","clearSearchQuery","CheckIns","PrivateRoute","rest","render","PrivateRouteLogIn","withRouter","AclErrorPage","FetchingPage","_appFolder","_beerDrinkerFoler","appFolder","checkInFolder","startDate","ModelHolder","_friends","_slectedBeer","_groups","_inboxMessages","inboxMessages","newFriends","newFriend","App","checkLoggedIn","fetchingFiles","setUri","build","accessError","onClickLogOut","logout","userObject","goBack","onDeleteButtonClicked","navBar","Logo","Boolean","hostname","ReactDOM","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.71eaee28.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Knipsel.4dafcfef.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.94a104b9.png\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 485;","class Observable {\r\n    constructor(){\r\n        this._subscribers = [];\r\n    }\r\n\r\n    updateSubscribers(){\r\n        this._subscribers.map(subscriber => subscriber.update());\r\n    }\r\n\r\n    subscribe(subscriber){\r\n        this._subscribers.push(subscriber);\r\n    }\r\n\r\n    unsubscribe(subscriber){\r\n        this._subscribers.filter(subscriberList  => {\r\n            return subscriberList !== subscriber;\r\n        });\r\n    }\r\n}\r\n\r\nexport default Observable;","import Observable from \"./Observable\";\r\n\r\nclass CheckIn extends Observable{\r\n    constructor(fileLocation){\r\n        super();\r\n        this._fileLocation = fileLocation;\r\n    }\r\n\r\n    getFileLocation(){\r\n        return this._fileLocation;\r\n    }\r\n\r\n    loadInAttributes(userWebId, userName, beerLocation, beerName, checkInTime, rating, review){\r\n        this._type  = rating? \"BeerReview\" : \"BeerCheckIn\";\r\n        this._userWebId = userWebId;\r\n        this._userName = userName;\r\n        this._beerLocation = beerLocation;\r\n        this._beerName = beerName;\r\n        this._checkInTime = checkInTime;\r\n        this._rating = rating;\r\n        this._review = review;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n}\r\n\r\nexport default CheckIn;","/**\r\n * App folder names\r\n * @type {string}\r\n */\r\nexport const APPLICATION_NAME_PTI = \"SocialLinkedBeer\";\r\nexport const APPFOLDER_NAME = \"sociallinkedbeer\";\r\nexport const CHECKIN_FOLDER = \"checkins/\";\r\nexport const BEERDRINKERFOLDER = \"beerdrinker/\";\r\nexport const CONTENT_TYPE_TURTLE = \"text/turtle\";\r\nexport const INBOX_FOLDER = 'inbox/';\r\n\r\nexport const APPDATA_FILE = 'appdata.ttl';\r\nexport const FRIENDS_FILE = \"friends.ttl\";\r\nexport const APPDATA_FILENAME = 'appdata';\r\nexport const FRIENDS_FILENAME = \"friends\";\r\n\r\nexport const FRIENDSGROUPNAME = \"Friends\";\r\nexport const FRIENDSSENTGROUPNAME = \"FriendsRequested\";\r\n\r\nexport const GROUPFOLDER = \"groups/\";\r\nexport const GROUP_MEMBERS = \"Members\";\r\nexport const GROUP_DATA_FILENAME = \"groupdata\";\r\nexport const GROUP_DATA_FILE = \"groupdata.ttl\";\r\n\r\nexport const CHECKIN_INDEX_FILE = \"checkinIndex.ttl\";\r\nexport const CHECKIN_INDEX_NAME = \"checkinIndex\";\r\n\r\n/**\r\n * Text\r\n * @type {string}\r\n */\r\nexport const APPLICATION_INVITAION_NAME = \"Social_Linked_Beer_app_invitation_from_\";\r\nexport const APPLICATION_INVITAION_DESC = \" invites you to drink a beer with him on https://ozcanseker.github.io/Social-linked-beer/ .\";\r\n\r\nexport const BEERREVIEWFILENAME = \"_BeerReview\";\r\nexport const BEERCHECKINFILENAME = \"_BeerCheckIn\";\r\n\r\nexport const FRIENDSSHIPREQUEST_NAME = \"Social_Linked_Beer_friendshiprequest_from_\";\r\nexport const FRIENDSSHIPREQUEST_DESC = \" invites you to share your stories with him.\";\r\n\r\nexport const FRIENDSHIPREQUEST_ACCEPTED_NAME = \"Social_Linked_Beer_FriendschipRequestAccepted_from_\";\r\nexport const FRIENDSHIPREQUEST_ACCEPTED_DESC = \" accepted your friendship request.\";\r\n\r\nexport const FRIENDSHIPREQUEST_DECLINED_NAME = \"Social_Linked_Beer_FriendschipRequestDecline_from_\";\r\nexport const FRIENDSHIPREQUEST_DECLINED_DESC = \" declined your friendship request.\";\r\n\r\nexport const GROUPINVITATION_NAME = \"Social_Linked_Beer_groupInvitation_to_\";\r\nexport const GROUPINVITATION_DESC = \"Would you like to join us at \";\r\n\r\n","const rdfLib = require('rdflib');\r\n\r\nexport const SOLID = rdfLib.Namespace( \"http://www.w3.org/ns/solid/terms#\");\r\nexport const PIM = rdfLib.Namespace(\"http://www.w3.org/ns/pim/space#\");\r\nexport const VCARD = rdfLib.Namespace(\"http://www.w3.org/2006/vcard/ns#\");\r\nexport const TERMS = rdfLib.Namespace('http://purl.org/dc/terms/');\r\nexport const RDF = rdfLib.Namespace(\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\");\r\nexport const SOLIDLINKEDBEER = rdfLib.Namespace('https://ozcanseker.inrupt.net/solidlinkedbeer#');\r\nexport const FOAF = rdfLib.Namespace('http://xmlns.com/foaf/0.1/');\r\nexport const LDP = rdfLib.Namespace('http://www.w3.org/ns/ldp#');\r\nexport const DBPEDIA = rdfLib.Namespace('http://dbeerpedia.com/def#');\r\nexport const SCHEMA = rdfLib.Namespace('http://schema.org/');\r\nexport const ACL = rdfLib.Namespace(\"http://www.w3.org/ns/auth/acl#\");\r\n\r\n\r\n\r\n","import CheckIn from \"../model/HolderComponents/CheckIn\";\r\nimport {\r\n    APPDATA_FILE,\r\n    APPLICATION_NAME_PTI,\r\n    BEERDRINKERFOLDER,\r\n    BEERREVIEWFILENAME,\r\n    CHECKIN_FOLDER\r\n} from \"./rdf/Constants\";\r\nimport {FOAF, LDP, SOLID, SOLIDLINKEDBEER, VCARD} from \"./rdf/Prefixes\";\r\n\r\nconst fileClient = require('solid-file-client');\r\nconst authClient = require('solid-auth-client');\r\nconst rdfLib = require('rdflib');\r\n\r\n/**\r\n * Post a solid file.\r\n * @param folder The folder you want the file to live in\r\n * @param filename\r\n * @param body (ttl file)\r\n * @returns {Promise<void>}\r\n */\r\nexport async function postSolidFile(folder, filename, body) {\r\n    authClient.fetch(folder, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'text/turtle',\r\n            'Link': '<http://www.w3.org/ns/ldp#Resource>; rel=\"type\"',\r\n            'SLUG': filename\r\n        },\r\n        body: body\r\n    });\r\n}\r\n\r\n/**\r\n * Put the solid file. Will replace the current file.\r\n * @param url The url of the location of the resource.\r\n * @param body The body you want it to replace with\r\n * @returns {Promise<void>} ?\r\n */\r\nexport async function putSolidFile(url, body) {\r\n    authClient.fetch(url, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'text/turtle'\r\n        },\r\n        body: body\r\n    });\r\n}\r\n\r\n/**\r\n * Allows you to append a solid file.\r\n * @param {*} url of the file you want to append\r\n * @param {*} body `INSERT DATA { <subject> <predicate> <object> }`\r\n */\r\nexport async function appendSolidResource(url, body) {\r\n    authClient.fetch(url, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-update'\r\n        },\r\n        body: body\r\n    });\r\n}\r\n\r\n/**\r\n *\r\n * @param url\r\n * @returns {Promise<{appLocation: (*), imageUrl: (*), name: (*), inbox: (*), url: *}>}\r\n */\r\nexport async function getUserFile(url) {\r\n    let inbox;\r\n\r\n    //get url resource\r\n    let userttt = await authClient.fetch(url);\r\n    let graph = rdfLib.graph();\r\n\r\n    if (userttt.status === 403) {\r\n        throw new Error(\"403: user unauthorized\");\r\n    } else if (userttt.status > 400) {\r\n        throw new Error(\"Something went wrong, check if the profile card is correct\");\r\n    }\r\n\r\n    userttt = await userttt.text();\r\n\r\n    try {\r\n        //parse to check if it is ttl\r\n        rdfLib.parse(userttt, graph, url, \"text/turtle\");\r\n    } catch (err) {\r\n        throw new Error(\"Not a correct profile linked data file\");\r\n    }\r\n\r\n    //check if it is a profile card\r\n    let query = graph.any(undefined, undefined, FOAF('PersonalProfileDocument'));\r\n\r\n    if (query) {\r\n        let profile = rdfLib.sym(url);\r\n\r\n        //check if user has ppi\r\n        const publicProfileIndex = graph.any(profile, SOLID(\"publicTypeIndex\"));\r\n\r\n        if (publicProfileIndex) {\r\n            let ppiTTL = await fileClient.readFile(publicProfileIndex.value);\r\n            let ppigraph = rdfLib.graph();\r\n            rdfLib.parse(ppiTTL, ppigraph, publicProfileIndex.value, \"text/turtle\");\r\n\r\n            let app = rdfLib.sym(publicProfileIndex.value + \"#\" + APPLICATION_NAME_PTI);\r\n            let appQuery = ppigraph.any(app, SOLID(\"instance\"));\r\n\r\n            //get name and Image\r\n            let nameFN = graph.any(profile, VCARD('fn'));\r\n\r\n            if(!nameFN){\r\n                nameFN = graph.any(profile, FOAF('name'));\r\n            }\r\n\r\n            let imageURL = graph.any(profile, VCARD('hasPhoto'));\r\n\r\n            if (!appQuery) {\r\n                inbox = graph.any(profile, LDP('inbox'));\r\n            }\r\n\r\n            //applocation is not of beerdrinker\r\n            let result = {\r\n                url: url,\r\n                name: nameFN ? nameFN.value : undefined,\r\n                imageUrl: imageURL ? imageURL.value : undefined,\r\n                appLocation: appQuery ? appQuery.value : undefined,\r\n                inbox: inbox ? inbox.value : undefined\r\n            }\r\n\r\n            return result;\r\n        } else {\r\n            throw new Error(\"no ppi\");\r\n        }\r\n    } else {\r\n        throw new Error(\"not a profile card\");\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @param friend\r\n */\r\nexport async function loadFriendData(friend) {\r\n    //getUserFile\r\n    let userDetails = await getUserFile(friend.getUri());\r\n    friend.setUserDetails(userDetails.name, userDetails.imageUrl, userDetails.appLocation + BEERDRINKERFOLDER);\r\n\r\n    //appdatafile\r\n    let friendAppdataLocation = userDetails.appLocation + BEERDRINKERFOLDER + APPDATA_FILE;\r\n\r\n    fileClient.readFile(friendAppdataLocation).then(friendsAppdata => {\r\n        let graph = rdfLib.graph();\r\n        rdfLib.parse(friendsAppdata, graph, friendAppdataLocation, \"text/turtle\");\r\n\r\n        let blankNode = graph.any(undefined, SOLIDLINKEDBEER('startdate'));\r\n\r\n        let startdate = graph.any(blankNode, SOLIDLINKEDBEER('startdate'));\r\n        let points = graph.any(blankNode, SOLIDLINKEDBEER('points'));\r\n\r\n        friend.setAppData(new Date(startdate.value));\r\n        friend.getCheckInHandler().setBeerPoints(points.value);\r\n    });\r\n\r\n    getTenUserCheckIns(friend.getBeerDrinkerFolder()).then(res => {\r\n        friend.getCheckInHandler().setReviesCheckInsAndUserCheckIns(res.reviews, res.checkIns, res.userBeerCheckIns)\r\n    });\r\n}\r\n\r\nexport async function getTenUserCheckIns(beerDrinkerFolder) {\r\n    let checkinLocation = beerDrinkerFolder + CHECKIN_FOLDER;\r\n    let fileContents = (await fileClient.readFolder(checkinLocation)).files.reverse();\r\n    let userBeerCheckIns = [];\r\n\r\n    let checkIns = 0;\r\n    let reviews = 0;\r\n\r\n    for (let i = 0; i < fileContents.length; i++) {\r\n        if (i < 10) {\r\n            let beerCheckIn = new CheckIn(fileContents[i].url);\r\n            loadValuesInCheckInFile(beerCheckIn);\r\n            userBeerCheckIns.push(beerCheckIn);\r\n        }\r\n\r\n        if (fileContents[i].url.includes(BEERREVIEWFILENAME)) {\r\n            reviews++;\r\n        } else {\r\n            checkIns++;\r\n        }\r\n\r\n    }\r\n\r\n    return {userBeerCheckIns: userBeerCheckIns, reviews: reviews, checkIns: checkIns};\r\n}\r\n\r\nexport async function getAllUserCheckIns(beerdrinkerFolder) {\r\n    let checkinLocation = beerdrinkerFolder + CHECKIN_FOLDER;\r\n    let fileContents = (await fileClient.readFolder(checkinLocation)).files.reverse();\r\n    let userBeerCheckIns = [];\r\n\r\n    let checkIns = 0;\r\n    let reviews = 0;\r\n\r\n    for (let i = 0; i < fileContents.length; i++) {\r\n        let beerCheckIn = new CheckIn(fileContents[i].url);\r\n        loadValuesInCheckInFile(beerCheckIn);\r\n        userBeerCheckIns.push(beerCheckIn);\r\n\r\n        if (fileContents[i].url.includes(BEERREVIEWFILENAME)) {\r\n            reviews++;\r\n        } else {\r\n            checkIns++;\r\n        }\r\n\r\n    }\r\n\r\n    return {userBeerCheckIns: userBeerCheckIns, reviews: reviews, checkIns: checkIns};\r\n}\r\n\r\nexport async function loadValuesInCheckInFile(beerCheckIn) {\r\n    fileClient.readFile(beerCheckIn.getFileLocation()).then(ttlFile => {\r\n        let graph = rdfLib.graph();\r\n        let namedNode = rdfLib.sym(beerCheckIn.getFileLocation());\r\n        rdfLib.parse(ttlFile, graph, beerCheckIn.getFileLocation(), \"text/turtle\");\r\n\r\n        let webId = graph.any(namedNode, SOLIDLINKEDBEER('webId'));\r\n        let userId = graph.any(namedNode, SOLIDLINKEDBEER('username'));\r\n        let beerlocation = graph.any(namedNode, SOLIDLINKEDBEER('beerLocation'));\r\n        let beername = graph.any(namedNode, SOLIDLINKEDBEER('beerName'));\r\n        let checkinTime = graph.any(namedNode, SOLIDLINKEDBEER('checkInTime'));\r\n        let rating = graph.any(namedNode, SOLIDLINKEDBEER('rating'));\r\n        let review = graph.any(namedNode, SOLIDLINKEDBEER('review'));\r\n\r\n        beerCheckIn.loadInAttributes(\r\n            webId.value,\r\n            userId ? userId.value : undefined,\r\n            beerlocation.value,\r\n            beername.value,\r\n            checkinTime.value,\r\n            rating ? rating.value : undefined,\r\n            review ? review.value : undefined\r\n        );\r\n    });\r\n}","import * as rdfLib from \"rdflib\";\r\nimport {ACL, RDF, SCHEMA, SOLID, SOLIDLINKEDBEER, VCARD} from \"./Prefixes\";\r\nimport {GROUP_MEMBERS} from \"./Constants\";\r\n\r\nexport function getInviteToLSBInvitation(urlInvitee, invitation, postLocation, userWebId){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('Invitation'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('invitationTo'), rdfLib.sym('https://ozcanseker.github.io/Social-linked-beer/'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(urlInvitee));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), invitation);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getFriendShipRequest(urlInvitee, invitation, postLocation, userWebId){\r\n    //make friendrequest\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('FriendshipRequest'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(urlInvitee));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), invitation);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getDeclineFriendshipRequest(from , invitation, postLocation, userWebId){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('FriendschipRequestDecline'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(from));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), invitation);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getAcceptFriendshipRequest(from, description , postLocation, userWebId){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('FriendschipRequestAccepted'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(from));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), description);\r\n\r\n    //make a text file and send\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getGroupInvitaion(urlInvitee, invitation, postLocation, userWebId, groupUrl, groupName){\r\n    //make friendrequest\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('GroupInvitation'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(urlInvitee));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), invitation);\r\n    graph.add(blankNode, SOLIDLINKEDBEER('location'), rdfLib.sym(groupUrl));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('groupName'), groupName);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} postLocation \r\n * @param {string} userName \r\n * @param {string} webId \r\n * @param {url to webresresource} beerLocation \r\n * @param {string} beerName \r\n * @param {Date} time \r\n */\r\nexport function beerCheckInTemplate(postLocation, userName, webId, beerLocation, beerName, time){\r\n    let graph = rdfLib.graph();\r\n    let namedNode = rdfLib.sym(postLocation);\r\n\r\n    graph.add(namedNode, RDF('type'), SOLIDLINKEDBEER('CheckIn'));\r\n    graph.add(namedNode, SOLIDLINKEDBEER('webId'), rdfLib.sym(webId));\r\n    if(userName){\r\n        graph.add(namedNode, SOLIDLINKEDBEER('username'), userName);\r\n    }\r\n    graph.add(namedNode, SOLIDLINKEDBEER('beerLocation'), rdfLib.sym(beerLocation));\r\n    graph.add(namedNode, SOLIDLINKEDBEER('beerName'), beerName);\r\n    graph.add(namedNode, SOLIDLINKEDBEER('checkInTime'), time);\r\n\r\n    // //make a text file and send\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function beerReviewInTemplate(postLocation, userName, webId, beerLocation, beerName, time, rating, review){\r\n    let graph = rdfLib.graph();\r\n    let namedNode = rdfLib.sym(postLocation);\r\n\r\n    graph.add(namedNode, RDF('type'), SOLIDLINKEDBEER('CheckReview'));\r\n    graph.add(namedNode, SOLIDLINKEDBEER('webId'), rdfLib.sym(webId));\r\n    if(userName){\r\n        graph.add(namedNode, SOLIDLINKEDBEER('username'), userName);\r\n    }\r\n    graph.add(namedNode, SOLIDLINKEDBEER('beerLocation'), rdfLib.sym(beerLocation));\r\n    graph.add(namedNode, SOLIDLINKEDBEER('beerName'), beerName);\r\n    graph.add(namedNode, SOLIDLINKEDBEER('checkInTime'), time);\r\n    graph.add(namedNode, SOLIDLINKEDBEER('rating'), rating);\r\n    graph.add(namedNode, SOLIDLINKEDBEER('review'), review);\r\n\r\n    // //make a text file and send\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getGroupAppDataTTL(urlFile,friends, leader,groupName){\r\n    let graph = rdfLib.graph();\r\n\r\n    let friendsgroup = rdfLib.sym(urlFile + \"#\" + GROUP_MEMBERS);\r\n\r\n    graph.add(friendsgroup, RDF('type'), VCARD('Group'));\r\n    graph.add(friendsgroup, VCARD('hasUID'), rdfLib.sym(\"urn:uuid:8831CBAD-1111-2222-8563-F0F4787E5398:ABGroup\"));\r\n    graph.add(friendsgroup, VCARD('hasLeader'), rdfLib.sym(leader));\r\n\r\n    friends.forEach(res => {\r\n        graph.add(friendsgroup, VCARD('hasMember'), rdfLib.sym(res.getUri()));\r\n    });\r\n\r\n    graph.add(friendsgroup, SCHEMA('name'), groupName);\r\n\r\n    return rdfLib.serialize(undefined, graph, urlFile, 'text/turtle');\r\n}\r\n\r\nexport function getGroupAclTTL(groupLocation, groupAppDataLocation, groupAcl, webIdOwner){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(groupAcl + \"#Owner\");\r\n    let ownerAgent = rdfLib.sym(webIdOwner);\r\n\r\n    let members = rdfLib.sym(groupAppDataLocation + \"#\" + GROUP_MEMBERS);\r\n    let resource = rdfLib.sym(groupLocation);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), ownerAgent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(members, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(members, ACL('accessTo'), resource);\r\n    graph.add(members, ACL('default'), resource);\r\n\r\n    graph.add(members, ACL('agentGroup'), members);\r\n\r\n    graph.add(members, ACL('mode'), ACL('Read'));\r\n\r\n    return rdfLib.serialize(undefined, graph, groupAcl, 'text/turtle');\r\n}\r\n\r\nexport function getGroupCheckInsAclTTL(groupLocation, groupAppDataLocation, groupAcl, webIdOwner){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(groupAcl + \"#Owner\");\r\n    let ownerAgent = rdfLib.sym(webIdOwner);\r\n\r\n    let members = rdfLib.sym(groupAppDataLocation + \"#\" + GROUP_MEMBERS);\r\n    let resource = rdfLib.sym(groupLocation);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), ownerAgent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(members, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(members, ACL('accessTo'), resource);\r\n    graph.add(members, ACL('default'), resource);\r\n\r\n    graph.add(members, ACL('agentGroup'), members);\r\n    graph.add(members, ACL('mode'), ACL('Read'));\r\n    graph.add(members, ACL('mode'), ACL('Append'));\r\n\r\n    return rdfLib.serialize(undefined, graph, groupAcl, 'text/turtle');\r\n}\r\n\r\nexport function getGroupOtherPersonTTL(groupLocation, postlocation){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), VCARD('Group'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('location'), rdfLib.sym(groupLocation));\r\n\r\n    return rdfLib.serialize(undefined, graph, postlocation, 'text/turtle');\r\n}\r\n\r\nexport function getCheckInIndexBody(postlocation, members, user){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.sym(postlocation + \"#\" + GROUP_MEMBERS);\r\n\r\n    graph.add(blankNode, RDF('type'), VCARD('Group'));\r\n    members.forEach(res => {\r\n        let member = rdfLib.sym(res.getUri());\r\n        graph.add(blankNode, VCARD('hasMember'), member);\r\n        graph.add(member, SOLIDLINKEDBEER('points'), 0);\r\n    });\r\n\r\n    let member = rdfLib.sym(user.getUri());\r\n    graph.add(blankNode, VCARD('hasMember'), member);\r\n    graph.add(member, SOLIDLINKEDBEER('points'), 0);\r\n\r\n    return rdfLib.serialize(undefined, graph, postlocation, 'text/turtle');\r\n}\r\n\r\nexport function groupCheckInIndexAcl(groupLocation, groupAppDataLocation, groupAcl, webIdOwner){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(groupAcl + \"#Owner\");\r\n    let ownerAgent = rdfLib.sym(webIdOwner);\r\n\r\n    let members = rdfLib.sym(groupAppDataLocation + \"#\" + GROUP_MEMBERS);\r\n    let resource = rdfLib.sym(groupLocation);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), ownerAgent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(members, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(members, ACL('accessTo'), resource);\r\n    graph.add(members, ACL('default'), resource);\r\n\r\n    graph.add(members, ACL('agentGroup'), members);\r\n    graph.add(members, ACL('mode'), ACL('Read'));\r\n    graph.add(members, ACL('mode'), ACL('Write'));\r\n    graph.add(members, ACL('mode'), ACL('Append'));\r\n\r\n    return rdfLib.serialize(undefined, graph, groupAcl, 'text/turtle');\r\n}","import {postSolidFile, putSolidFile} from \"../SolidMethods\";\r\n\r\nimport * as fileClient from \"solid-file-client\";\r\nimport authClient from \"solid-auth-client\";\r\nimport * as rdflib from \"rdflib\";\r\nimport {ACL, FOAF, RDF, SOLID, SOLIDLINKEDBEER, TERMS, VCARD} from \"../rdf/Prefixes\";\r\nimport {\r\n  APPDATA_FILE,\r\n  APPDATA_FILENAME,\r\n  APPFOLDER_NAME,\r\n  BEERDRINKERFOLDER,\r\n  CHECKIN_FOLDER,\r\n  CONTENT_TYPE_TURTLE,\r\n  FRIENDS_FILE,\r\n  FRIENDS_FILENAME, GROUPFOLDER,\r\n  INBOX_FOLDER\r\n} from \"../rdf/Constants\";\r\n\r\nexport async function buildFolders(publicProfileIndex, storePublicProfileIndex, storagePublic, app, webId) {\r\n  //TODO a whole lot of error checking. Checking for 400 error codes and stuff like that\r\n  let applocation = await createAppNodeForPublicTypeIndex(storePublicProfileIndex, publicProfileIndex, storagePublic, app);\r\n  await makeAppFolderStructure(applocation, webId);\r\n\r\n  //sleep zodat de server de requests kan verwerken\r\n  await sleep(2000);\r\n\r\n  return applocation;\r\n}\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(resolve => {\r\n    setTimeout(resolve, ms)\r\n  })\r\n}\r\n\r\nexport async function checkFolderIntegrity(appfolder, webId) {\r\n  //TODO breidt dit uit\r\n\r\n  //Group\r\n  let groupFolder = appfolder + BEERDRINKERFOLDER + GROUPFOLDER;\r\n  let groupRes = await authClient.fetch(groupFolder);\r\n\r\n  if(groupRes.status === 404){\r\n    let groupFolderAcl = groupFolder + '.acl';\r\n    await fileClient.createFolder(groupFolder);\r\n    let body = getAclGroupFolder(groupFolder, groupFolderAcl, webId);\r\n    await putSolidFile(groupFolderAcl, body);\r\n  }\r\n}\r\n\r\n/**\r\n * Adds the applicatioin to the public type index\r\n * @param {store} store \r\n * @param {NN} publicTypeIndex \r\n * @param {string} publicLocation \r\n * @param {string} app \r\n */\r\nasync function createAppNodeForPublicTypeIndex(store, publicTypeIndex, publicLocation, app) {\r\n  //find empty folder\r\n  let appLocation = await findEmptyFolder(publicLocation);\r\n\r\n  //create a named node for the app\r\n  let appLocationNN = rdflib.sym(appLocation);\r\n\r\n  //add values to the pti\r\n  store.add(publicTypeIndex, TERMS('references'), app);\r\n  store.add(app, RDF('type'), SOLID('TypeRegistration'));\r\n  store.add(app, SOLID('instance'), appLocationNN);\r\n\r\n  //serialize and send the pti\r\n  let newTTLpublicTypeindex = await rdflib.serialize(undefined, store, publicTypeIndex.value, CONTENT_TYPE_TURTLE);\r\n  await putSolidFile(publicTypeIndex.value, newTTLpublicTypeindex);\r\n\r\n  return appLocation;\r\n}\r\n\r\n/**\r\n * Finds an empty folder for the application\r\n * @param {} publicLocation \r\n */\r\nasync function findEmptyFolder(publicLocation) {\r\n  //TODO improve this. You can check if the other folder holds up to your standards. A lot of possibilities\r\n  let appLocation = publicLocation + APPFOLDER_NAME + '/'\r\n\r\n  //see if there is a folder at the applocation\r\n  let res = await authClient.fetch(appLocation);\r\n\r\n  //make eiher a new random foldername or use the original\r\n  if (res.status % 400 < 100) {\r\n    return appLocation;\r\n  } else {\r\n    return appLocation = publicLocation + APPFOLDER_NAME + makeRandomString(10) + '/'\r\n  }\r\n}\r\n\r\n/**\r\n * Makes a random string\r\n * @param {int} length \r\n */\r\nfunction makeRandomString(length) {\r\n  var result = '';\r\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  var charactersLength = characters.length;\r\n  for (var i = 0; i < length; i++) {\r\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Makes the folder struckture for the application\r\n * @param {string} appFolderUrl \r\n * @param {string} webId \r\n */\r\nasync function makeAppFolderStructure(appFolderUrl, webId) {\r\n  //TODO make all async\r\n  let body;\r\n\r\n  //top folder\r\n  let aclUrl = appFolderUrl + '.acl';\r\n\r\n  await fileClient.createFolder(appFolderUrl);\r\n  body = getAclAppFolder(appFolderUrl, aclUrl, webId);\r\n  await putSolidFile(aclUrl, body);\r\n\r\n  //beerdrinker\r\n  let beerDrinkerUrl = appFolderUrl + BEERDRINKERFOLDER;\r\n  await fileClient.createFolder(beerDrinkerUrl);\r\n\r\n  // friends\r\n  let friendsUrl = beerDrinkerUrl + FRIENDS_FILE;\r\n  body = getFriendsFile(friendsUrl, webId);\r\n\r\n  await postSolidFile(beerDrinkerUrl, FRIENDS_FILENAME, body);\r\n\r\n  //appData \r\n  let appDataFile = beerDrinkerUrl + APPDATA_FILE;\r\n  let appDataFileAcl = appDataFile + '.acl';\r\n  \r\n  body = getAppDataInit(appDataFile);\r\n  await postSolidFile(beerDrinkerUrl, APPDATA_FILENAME, body);\r\n  \r\n  body = getAclAppData(appDataFile, appDataFileAcl, webId, friendsUrl);\r\n  await putSolidFile(appDataFileAcl, body);\r\n\r\n  //inboxfolder\r\n  let inboxUrl = beerDrinkerUrl + INBOX_FOLDER;\r\n  let inboxUrlacl = inboxUrl + '.acl';\r\n  body = getACLInboxFolder(inboxUrl, inboxUrlacl, webId);\r\n\r\n  await fileClient.createFolder(inboxUrl);\r\n  await putSolidFile(inboxUrlacl, body);\r\n\r\n  //check in folder        \r\n  let reviewUrl = beerDrinkerUrl + CHECKIN_FOLDER;\r\n  let reviewUrlacl = reviewUrl + '.acl';\r\n\r\n  await fileClient.createFolder(reviewUrl);\r\n  body = getACLSubmittersFriends(reviewUrl, reviewUrlacl, webId, friendsUrl);\r\n  await putSolidFile(reviewUrlacl, body);\r\n\r\n  //check in folder\r\n  let groupFolder = beerDrinkerUrl + GROUPFOLDER;\r\n  let groupFolderAcl = groupFolder + '.acl';\r\n\r\n  //group folder\r\n  await fileClient.createFolder(groupFolder);\r\n  body = getAclGroupFolder(groupFolder, groupFolderAcl, webId);\r\n  await putSolidFile(groupFolderAcl, body);\r\n}\r\n\r\n/**\r\n * The init file for the appdata\r\n * @param {string} url \r\n */\r\nfunction getAppDataInit(url) {\r\n  let graph = rdflib.graph();\r\n\r\n  let bn = rdflib.blankNode();\r\n\r\n  graph.add(bn, SOLIDLINKEDBEER('startdate'), new Date());\r\n  graph.add(bn, SOLIDLINKEDBEER('points'), 0);\r\n\r\n  return rdflib.serialize(undefined, graph, url, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Makes the acl for the app folder\r\n * Only owner can see, write and control\r\n * @param {*} appUrl \r\n * @param {*} aclUrl \r\n * @param {*} webIdUserLoggedIn \r\n */\r\nfunction getAclAppFolder(appUrl, aclUrl, webIdUserLoggedIn) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let app = rdflib.sym(appUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), app);\r\n  graph.add(owner, ACL('default'), app);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Init for the friends file\r\n * @param {string} urlFile \r\n * @param {*} webId \r\n */\r\nfunction getFriendsFile(urlFile) {\r\n  let graph = rdflib.graph();\r\n\r\n  let friendsgroup = rdflib.sym(urlFile + \"#Friends\");\r\n  let friendsgroupRequested = rdflib.sym(urlFile + \"#FriendsRequested\");\r\n\r\n  graph.add(friendsgroup, RDF('type'), VCARD('Group'));\r\n  graph.add(friendsgroup, VCARD('hasUID'), rdflib.sym(\"urn:uuid:8831CBAD-1111-2222-8563-F0F4787E5398:ABGroup\"));\r\n\r\n  graph.add(friendsgroupRequested, RDF('type'), VCARD('Group'));\r\n  graph.add(friendsgroupRequested, VCARD('hasUID'), rdflib.sym(\"urn:uuid:8831CBAD-1111-2222-8563-F0F4787E5398:CDGroup\"));\r\n\r\n  return rdflib.serialize(undefined, graph, urlFile, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Get the acl for the inbox folder. Everyone can write but only owner can read\r\n * @param {} inboxUrl \r\n * @param {*} aclUrl \r\n * @param {*} webIdUserLoggedIn \r\n */\r\nfunction getACLInboxFolder(inboxUrl, aclUrl, webIdUserLoggedIn) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let _public = rdflib.sym(aclUrl + \"#Public\");\r\n  let inbox = rdflib.sym(inboxUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  //owner\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), inbox);\r\n  graph.add(owner, ACL('default'), inbox);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  //public\r\n  graph.add(_public, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(_public, ACL('accessTo'), inbox);\r\n  graph.add(_public, ACL('default'), inbox);\r\n  graph.add(_public, ACL('agentClass'), FOAF(\"Agent\"));\r\n\r\n  graph.add(_public, ACL('mode'), ACL('Append'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Acl check in folder. Friend and user can read\r\n * @param {*} resourceUrl \r\n * @param {*} aclUrl \r\n * @param {*} webIdUserLoggedIn \r\n * @param {*} friendsUrl \r\n */\r\nfunction getACLSubmittersFriends(resourceUrl, aclUrl, webIdUserLoggedIn, friendsUrl) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let group1 = rdflib.sym(aclUrl + \"#Friends\");\r\n  let resource = rdflib.sym(resourceUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  //group who get acess\r\n  let fgroup1 = rdflib.sym(friendsUrl + \"#Friends\");\r\n  let fgroup2 = rdflib.sym(friendsUrl + \"#FriendsRequested\");\r\n\r\n  //owner\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), resource);\r\n  graph.add(owner, ACL('default'), resource);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  //public\r\n  graph.add(group1, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(group1, ACL('accessTo'), resource);\r\n  graph.add(group1, ACL('default'), resource);\r\n\r\n  graph.add(group1, ACL('agentGroup'), fgroup1);\r\n  graph.add(group1, ACL('agentGroup'), fgroup2);\r\n\r\n  graph.add(group1, ACL('mode'), ACL('Read'));\r\n  graph.add(group1, ACL('mode'), ACL('Append'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Acl app file. Friend and user can read\r\n * @param {*} resourceUrl \r\n * @param {*} aclUrl \r\n * @param {*} webIdUserLoggedIn \r\n * @param {*} friendsUrl \r\n */\r\nfunction getAclAppData(resourceUrl, aclUrl, webIdUserLoggedIn, friendsUrl) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let group1 = rdflib.sym(aclUrl + \"#Friends\");\r\n  let resource = rdflib.sym(resourceUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  //group who get acess\r\n  let fgroup1 = rdflib.sym(friendsUrl + \"#Friends\");\r\n  let fgroup2 = rdflib.sym(friendsUrl + \"#FriendsRequested\");\r\n\r\n  //owner\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), resource);\r\n  graph.add(owner, ACL('default'), resource);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  //public\r\n  graph.add(group1, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(group1, ACL('accessTo'), resource);\r\n  graph.add(group1, ACL('default'), resource);\r\n\r\n  graph.add(group1, ACL('agentGroup'), fgroup1);\r\n  graph.add(group1, ACL('agentGroup'), fgroup2);\r\n\r\n  graph.add(group1, ACL('mode'), ACL('Read'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\nfunction getAclGroupFolder(appUrl, aclUrl, webIdUserLoggedIn) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let app = rdflib.sym(appUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), app);\r\n  graph.add(owner, ACL('default'), app);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}","class AccessError extends Error {\r\n    constructor(...args) {\r\n        super(...args);\r\n\r\n        this.message = \"Access file is not correct\";\r\n    }\r\n}\r\n\r\nexport default AccessError;","import * as rdfLib from \"rdflib\"\r\n\r\nimport AccessError from '../../error/AccessError'\r\nimport {ACL} from '../rdf/Prefixes'\r\n\r\nexport function checkacess(storeProfileCard){\r\n    let blankNode = storeProfileCard.any(undefined, ACL('origin'),rdfLib.sym(\"https://ozcanseker.github.io\"));\r\n    let readAcess = storeProfileCard.match(blankNode, ACL('mode'), ACL('Read'));\r\n    let Write = storeProfileCard.match(blankNode, ACL('mode'),ACL('Write'));\r\n    let Append = storeProfileCard.match(blankNode, ACL('mode'),ACL('Append'));\r\n    let Control = storeProfileCard.match(blankNode, ACL('mode'),ACL('Control'));\r\n\r\n    if(!readAcess.length){\r\n        throw new AccessError(\"Read access\");\r\n    }\r\n\r\n    if(!Write.length){\r\n        throw new AccessError(\"Write access\");\r\n    }\r\n\r\n    if(!Append.length){\r\n        throw new AccessError(\"Append access\");\r\n    }\r\n\r\n    if(!Control.length){\r\n        throw new AccessError(\"Control access\");\r\n    }\r\n}","import Observable from \"./Observable\";\r\n\r\nclass CheckInHandler extends Observable {\r\n    constructor() {\r\n        super();\r\n\r\n        this._checkInsAmount = 0;\r\n        this._beerReviewsAmount = 0;\r\n        this._beerPoints = 0;\r\n        this._userCheckIns = [];\r\n        this._allCheckinsGotten = false;\r\n    }\r\n\r\n    setReviesCheckInsAndUserCheckIns(reviews, checkIns, userBeerCheckIns){\r\n        this._beerReviewsAmount = reviews;\r\n        this._checkInsAmount = checkIns;\r\n\r\n        userBeerCheckIns.forEach(checkIn => {\r\n            checkIn.subscribe(this);\r\n        });\r\n\r\n        this._userCheckIns = userBeerCheckIns;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setAllCheckInsGotten(bool){\r\n        this._allCheckinsGotten = bool;\r\n    }\r\n\r\n    getAllCheckInsGotten(){\r\n        return this._allCheckinsGotten;\r\n    }\r\n\r\n    addBeerPoints(amount) {\r\n        this._beerPoints += amount;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setBeerPoints(beerPoints) {\r\n        this._beerPoints = beerPoints;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getBeerPoints() {\r\n        return this._beerPoints;\r\n    }\r\n\r\n    setBeerReviewsAmount(beerReviews) {\r\n        this._beerReviewsAmount = beerReviews;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    getBeerReviewsAmount() {\r\n        return this._beerReviewsAmount;\r\n    }\r\n\r\n    addBeerReviewToAmount() {\r\n        this._beerReviewsAmount++;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    setCheckInsAmount(checkIns) {\r\n        this._checkInsAmount = checkIns;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    getCheckInsAmount() {\r\n        return this._checkInsAmount;\r\n    }\r\n\r\n    addToCheckInsAmount() {\r\n        this._checkInsAmount++;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    setUserCheckIns(userCheckins) {\r\n        this._userCheckIns.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        userCheckins = userCheckins.userBeerCheckIns;\r\n\r\n        userCheckins.forEach(checkIn => {\r\n            checkIn.subscribe(this);\r\n        });\r\n\r\n        this._userCheckIns = userCheckins;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    clearAll(){\r\n        this._userCheckIns.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n    }\r\n\r\n    addUserCheckIns(userCheckins) {\r\n        userCheckins.forEach(checkIn => {\r\n            checkIn.subscribe(this);\r\n        })\r\n\r\n        this._userCheckIns = userCheckins.concat(this._userCheckIns);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUserCheckIns() {\r\n        return this._userCheckIns;\r\n    }\r\n\r\n    update() {\r\n        this.updateSubscribers();\r\n    }\r\n}\r\n\r\nexport default CheckInHandler;","import Observable from \"./Observable\";\r\nimport CheckInHandler from \"./CheckInHandler\";\r\n\r\nclass Friend extends Observable{\r\n    constructor(uri){\r\n        super();\r\n        this._profileUri = uri;\r\n\r\n        this._name = undefined;\r\n        this._imageUrl = undefined;\r\n        this._beerDrinkerFolder = undefined;\r\n        this._startDate = undefined;\r\n\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._checkInHandler.subscribe(this);\r\n    }\r\n\r\n    clearAll(){\r\n        this._checkInHandler.unsubscribe(this);\r\n        this._checkInHandler.clearAll();\r\n    }\r\n\r\n    setUserDetails(name, pictureurl, beerDrinkerFolder){\r\n        this._name = name ? name : this.getUserName(this._profileUri);\r\n\r\n        this._imageUrl = pictureurl;\r\n        this._beerDrinkerFolder = beerDrinkerFolder;\r\n\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setAppData(startdate){\r\n        this._startDate = startdate;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    update(){\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getCheckInHandler(){\r\n        return this._checkInHandler;\r\n    }\r\n\r\n    getUserName(uri){\r\n        return  uri.replace(\"https://\", \"\").replace(/\\..*/, \"\");\r\n    }\r\n\r\n    getBeerDrinkerFolder(){\r\n        return this._beerDrinkerFolder;\r\n    }\r\n\r\n    getUri(){\r\n        return this._profileUri;\r\n    }\r\n\r\n    getImageUrl(){\r\n        return this._imageUrl;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getStartDate(){\r\n        if(this._startDate){\r\n            //send a copy of the date back and not the date itself\r\n            return new Date(this._startDate.getTime())\r\n        }else{\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Friend;","import CheckInHandler from \"./CheckInHandler\";\r\nimport Observable from \"./Observable\";\r\n\r\nclass Group extends Observable{\r\n    constructor(url, createdByMe){\r\n        super();\r\n\r\n        this._url = url;\r\n        this._name = url;\r\n\r\n        this._createdByMe = createdByMe;\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._checkInHandler.subscribe(this);\r\n\r\n        this._groupLeader = undefined;\r\n        this._members = [];\r\n    }\r\n\r\n    setProperties(naam, checkInsLocation, groupDataLocation, groupCheckInIndex,groupLeader, groupMembers){\r\n        this._name = naam;\r\n        this._checkInsLocation = checkInsLocation;\r\n        this._groupDataLocation = groupDataLocation;\r\n        this._groupLeader = groupLeader;\r\n        this._members = groupMembers;\r\n        this._groupCheckInIndex = groupCheckInIndex;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getMembers(){\r\n        return this._members.slice();\r\n    }\r\n\r\n    getGroupCheckInIndex(){\r\n        return this._groupCheckInIndex;\r\n    }\r\n\r\n    getLeader(){\r\n        return this._groupLeader;\r\n    }\r\n\r\n    setUrl(url){\r\n        this._url = url;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getCheckInHandler(){\r\n        return this._checkInHandler;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getUrl(){\r\n        return this._url;\r\n    }\r\n\r\n    getCheckInLocation(){\r\n        return this._checkInsLocation;\r\n    }\r\n\r\n    getGroupDataFile(){\r\n        return this._groupDataLocation;\r\n    }\r\n\r\n    clearAll(){\r\n        this._checkInHandler.clearAll();\r\n    }\r\n\r\n    update(){\r\n        this.updateSubscribers();\r\n    }\r\n}\r\n\r\nexport default Group;","import {buildFolders, checkFolderIntegrity} from './PodFolderBuilder';\r\nimport {getAllUserCheckIns, getTenUserCheckIns, loadFriendData} from \"../SolidMethods\";\r\nimport {checkacess} from './AccessChecker';\r\nimport {FOAF, PIM, SCHEMA, SOLID, SOLIDLINKEDBEER, VCARD} from \"../rdf/Prefixes\";\r\n\r\nimport * as fileClient from \"solid-file-client\";\r\nimport * as rdfLib from \"rdflib\";\r\nimport {\r\n    APPDATA_FILE,\r\n    APPLICATION_NAME_PTI,\r\n    BEERDRINKERFOLDER, CHECKIN_FOLDER, CHECKIN_INDEX_FILE, CONTENT_TYPE_TURTLE,\r\n    FRIENDS_FILE,\r\n    FRIENDSGROUPNAME,\r\n    FRIENDSSENTGROUPNAME, GROUP_DATA_FILE, GROUPFOLDER\r\n} from \"../rdf/Constants\";\r\nimport Friend from \"../../model/HolderComponents/Friend\";\r\nimport Group from \"../../model/HolderComponents/Group\";\r\n\r\nexport async function buildSolidCommunicator(modelHolder, solidCommunicator) {\r\n    let returnObject = {};\r\n    let user = modelHolder.getUser();\r\n    let checkInHandler = modelHolder.getCheckInHandler();\r\n\r\n    //make a named node of the session webid of the user\r\n    //namednode\r\n    const webIdNN = rdfLib.sym(user.getUri());\r\n\r\n    //get a store of the profile card of the logged in user\r\n    //store\r\n    let storeProfileCard = await getUserCard(webIdNN.uri);\r\n\r\n    //check the acess before trying to make an application\r\n    checkacess(storeProfileCard);\r\n\r\n    //store for the Public Profile Index\r\n    //object with store and nn\r\n    let ppiObject = await getPPILocation(webIdNN, storeProfileCard);\r\n\r\n    //String that shows the location of the public storage of the pod\r\n    //string \r\n    let storagePublic = getStorePublic(webIdNN, storeProfileCard);\r\n\r\n    //locatie voor de applicatie\r\n    //string\r\n    let applicationLocation = await getApplicationLocation(ppiObject.ppi, ppiObject.store, storagePublic, webIdNN.value);\r\n\r\n    //returnobject\r\n    returnObject.sc = {};\r\n\r\n    let userDetails = getUserDetails(webIdNN, storeProfileCard);\r\n    user.loadInUserValues(userDetails.name,\r\n        userDetails.imageURL,\r\n        applicationLocation,\r\n        applicationLocation + BEERDRINKERFOLDER,\r\n        applicationLocation + BEERDRINKERFOLDER + CHECKIN_FOLDER);\r\n    solidCommunicator.setFileLocations();\r\n\r\n    getAppData(user.getBeerDrinkerFolder()).then(res => {\r\n        user.loadInAppData(new Date(res.startdate));\r\n        modelHolder.getCheckInHandler().setBeerPoints(parseInt(res.points));\r\n        solidCommunicator.loadInAppStore(res.store, res.blankNode);\r\n    });\r\n\r\n    getTenUserCheckIns(user.getBeerDrinkerFolder()).then(res => {\r\n        checkInHandler.addUserCheckIns(res.userBeerCheckIns);\r\n        checkInHandler.setBeerReviewsAmount(res.reviews);\r\n        checkInHandler.setCheckInsAmount(res.checkIns);\r\n    });\r\n\r\n    getFriends(user.getBeerDrinkerFolder()).then(res => {\r\n        modelHolder.addFriends(res.friends);\r\n        solidCommunicator.loadInFriendsStore(res.group, res.sentGroup, res.friendsStore);\r\n    });\r\n\r\n    getGroups(user.getBeerDrinkerFolder()).then(res => {\r\n        modelHolder.setGroups(res);\r\n    })\r\n}\r\n\r\nasync function getGroups(beerDrinkerFolder) {\r\n    let groupsLocation = beerDrinkerFolder + GROUPFOLDER;\r\n    let res = await fileClient.readFolder(groupsLocation);\r\n    let groups = [];\r\n\r\n    let myGroups = res.folders;\r\n    let friendsGroups = res.files;\r\n\r\n    myGroups.forEach(res => {\r\n        let group = new Group(res.url, true);\r\n\r\n        loadGroupInformation(group);\r\n        groups.push(group);\r\n    });\r\n\r\n    friendsGroups.forEach(res => {\r\n        let group = new Group(res.url, false);\r\n\r\n        loadFriendGroupData(group);\r\n        groups.push(group);\r\n    });\r\n\r\n    return groups;\r\n}\r\n\r\nasync function loadFriendGroupData(group) {\r\n    let file = await fileClient.fetch(group.getUrl());\r\n\r\n    let graph = rdfLib.graph();\r\n    rdfLib.parse(file, graph, group.getUrl(), CONTENT_TYPE_TURTLE);\r\n\r\n    let blankNode = graph.any(undefined, SOLIDLINKEDBEER('location'));\r\n    let urlGroup = graph.any(blankNode, SOLIDLINKEDBEER('location'));\r\n\r\n    group.setUrl(urlGroup.value);\r\n\r\n    await loadGroupInformation(group);\r\n}\r\n\r\nasync function loadGroupInformation(group) {\r\n    let groupCheckInsLocation = group.getUrl() + CHECKIN_FOLDER;\r\n    let groupDataLocation = group.getUrl() + GROUP_DATA_FILE;\r\n    let checkIndexLocation = group.getUrl() + CHECKIN_INDEX_FILE;\r\n\r\n    //krijg de checkins van de grop\r\n    getTenUserCheckIns(group.getUrl()).then(res => {\r\n        group.getCheckInHandler().setReviesCheckInsAndUserCheckIns(res.reviews, res.checkIns, res.userBeerCheckIns);\r\n    })\r\n\r\n    let res = await fileClient.fetch(groupDataLocation);\r\n    let groupDataGraph = rdfLib.graph();\r\n    rdfLib.parse(res, groupDataGraph, groupDataLocation, CONTENT_TYPE_TURTLE);\r\n\r\n    //krijg de members\r\n    let hasMemberGroup = groupDataGraph.any(undefined, VCARD('hasLeader'));\r\n    let leader = groupDataGraph.any(hasMemberGroup, VCARD('hasLeader'));\r\n\r\n    let name = groupDataGraph.any(hasMemberGroup, SCHEMA('name'));\r\n\r\n    //checkInIndex\r\n    let checkInIndex = await fileClient.fetch(checkIndexLocation);\r\n    let checkInIndexGraph = rdfLib.graph();\r\n    rdfLib.parse(checkInIndex, checkInIndexGraph, checkIndexLocation, CONTENT_TYPE_TURTLE);\r\n\r\n    let pointsMemberGroup = checkInIndexGraph.any(undefined, VCARD('hasMember'));\r\n\r\n    let members = [];\r\n    checkInIndexGraph.each(pointsMemberGroup, VCARD('hasMember')).map(res => {\r\n        let points = checkInIndexGraph.any(res, SOLIDLINKEDBEER('points'));\r\n\r\n        if(res.value === leader.value){\r\n            leader = {member: res.value, points: points.value};\r\n        }else{\r\n            members.push({member: res.value, points: points.value});\r\n        }\r\n    });\r\n\r\n    group.setProperties(name.value, groupCheckInsLocation, groupDataLocation,checkIndexLocation, leader, members);\r\n}\r\n\r\n/**\r\n * Get the user profile card in the form of a rdflib graph.\r\n *\r\n * @param webIdUrl the uri for the profile card\r\n * @returns {Promise<void>} graph of user VCARD\r\n */\r\nasync function getUserCard(webIdUrl) {\r\n    const profileCardTTl = await fileClient.fetch(webIdUrl);\r\n    const storeProfileCard = rdfLib.graph();\r\n    rdfLib.parse(profileCardTTl, storeProfileCard, webIdUrl, \"text/turtle\");\r\n\r\n    return storeProfileCard;\r\n}\r\n\r\nasync function getPPILocation(profile, storeProfileCard) {\r\n    const publicProfileIndex = storeProfileCard.any(profile, SOLID(\"publicTypeIndex\"));\r\n\r\n    const storePublicTypeIndex = rdfLib.graph();\r\n    const publicTypeIndexTTL = await fileClient.fetch(publicProfileIndex.value);\r\n    rdfLib.parse(publicTypeIndexTTL, storePublicTypeIndex, publicProfileIndex.value, \"text/turtle\");\r\n\r\n    return {store: storePublicTypeIndex, ppi: publicProfileIndex};\r\n}\r\n\r\nfunction getStorePublic(profile, storeProfileCard) {\r\n    let locationStorage = storeProfileCard.any(profile, PIM(\"storage\"));\r\n    return locationStorage.value + \"public/\";\r\n}\r\n\r\nasync function getApplicationLocation(publicProfileIndex, storePublicProfileIndex, storagePublic, webId) {\r\n    let app = rdfLib.sym(publicProfileIndex.value + \"#\" + APPLICATION_NAME_PTI);\r\n    let appQuery = storePublicProfileIndex.any(app, SOLID(\"instance\"));\r\n\r\n    if (appQuery) {\r\n        await checkFolderIntegrity(appQuery.value, webId);\r\n        return appQuery.value;\r\n    } else {\r\n        return await buildFolders(publicProfileIndex, storePublicProfileIndex, storagePublic, app, webId);\r\n    }\r\n}\r\n\r\nfunction getUserDetails(profile, storeProfileCard) {\r\n    let nameFN = storeProfileCard.any(profile, VCARD('fn'));\r\n\r\n    if(!nameFN){\r\n        nameFN = storeProfileCard.any(profile, FOAF('name'));\r\n    }\r\n\r\n    let imageURL = storeProfileCard.any(profile, VCARD('hasPhoto'));\r\n\r\n    nameFN = nameFN ? nameFN.value : undefined;\r\n    imageURL = imageURL ? imageURL.value : undefined;\r\n\r\n    return {name: nameFN, imageURL: imageURL};\r\n}\r\n\r\nasync function getAppData(beerDrinkerFolder) {\r\n    //TODO one place to save all urls\r\n    let appdataLocation = beerDrinkerFolder + APPDATA_FILE;\r\n\r\n    let appdatattl = await fileClient.readFile(appdataLocation);\r\n    let graph = rdfLib.graph();\r\n    rdfLib.parse(appdatattl, graph, appdataLocation, \"text/turtle\");\r\n\r\n    let blankNode = graph.any(undefined, SOLIDLINKEDBEER('startdate'));\r\n\r\n    let startdate = graph.any(blankNode, SOLIDLINKEDBEER('startdate'));\r\n    let points = graph.any(blankNode, SOLIDLINKEDBEER('points'));\r\n\r\n    return {startdate: startdate.value, points: points.value, store: graph, blankNode: blankNode};\r\n}\r\n\r\nasync function getFriends(beerDrinkerFolder) {\r\n    let friendsLocation = beerDrinkerFolder + FRIENDS_FILE;\r\n    let ttlFriends = await fileClient.readFile(friendsLocation);\r\n\r\n    let group = rdfLib.sym(friendsLocation + \"#\" + FRIENDSGROUPNAME);\r\n    let sentGroup = rdfLib.sym(friendsLocation + \"#\" + FRIENDSSENTGROUPNAME);\r\n    let friends = [];\r\n\r\n    let graph = rdfLib.graph();\r\n    rdfLib.parse(ttlFriends, graph, friendsLocation, CONTENT_TYPE_TURTLE);\r\n\r\n    let query = graph.each(group, VCARD('hasMember'), undefined);\r\n\r\n    for (let index = 0; index < query.length; index++) {\r\n        let friend = new Friend(query[index].value);\r\n        loadFriendData(friend);\r\n\r\n        if (friend) {\r\n            friends.push(friend);\r\n        }\r\n    }\r\n\r\n    return {friends: friends, friendsStore: graph, group: group, sentGroup: sentGroup};\r\n}\r\n\r\n","import { postSolidFile, putSolidFile, getUserFile, loadFriendData } from \"../SolidMethods\";\r\nimport {FRIENDS_FILE, FRIENDSHIPREQUEST_ACCEPTED_NAME, INBOX_FOLDER} from \"../rdf/Constants\";\r\nimport {SOLIDLINKEDBEER, VCARD} from \"../rdf/Prefixes\";\r\nimport Friend from \"../../model/HolderComponents/Friend\";\r\n\r\nconst fileClient = require('solid-file-client');\r\nconst rdfLib = require('rdflib');\r\n\r\nexport async function preApplicationHandelings(beerDrinkerFolder, friendGroup, friendsRequestedGroup, FriendsStore, modelHolder){\r\n    let inbox = beerDrinkerFolder + INBOX_FOLDER;\r\n    let inboxContent = await fileClient.readFolder(inbox);\r\n\r\n    //add friend from friend requested to friends\r\n    let acceptedRequests = inboxContent.files.filter(file => {\r\n        return file.name.includes(FRIENDSHIPREQUEST_ACCEPTED_NAME);\r\n    })\r\n\r\n    if(acceptedRequests.length !== 0){\r\n        checkAcceptedFriendShipRequests(beerDrinkerFolder, acceptedRequests, friendGroup, friendsRequestedGroup, FriendsStore, modelHolder);\r\n    }\r\n\r\n    //delete user from friends requested if they declined\r\n    let declinedRequests = inboxContent.files.filter(file => {\r\n        return file.name.includes(\"Social_Linked_Beer_FriendschipRequestDecline\");\r\n    })\r\n\r\n    if(declinedRequests.length !== 0){\r\n        await checkDeclinedFriendShipRequests(beerDrinkerFolder, declinedRequests, friendsRequestedGroup, FriendsStore);\r\n    }\r\n}\r\n\r\n/**\r\n * Check if there are accepted friendschip requests\r\n * @param {*} beerdrinkerFolder\r\n * @param {*} acceptedRequests\r\n * @param {*} scValues\r\n * @param {*} user\r\n */\r\nasync function checkAcceptedFriendShipRequests(beerdrinkerFolder, acceptedRequests, friendsGroup, friendsSent, friendGraph, modelHolder){\r\n    //get some values\r\n    let postLocation = beerdrinkerFolder + FRIENDS_FILE;\r\n\r\n    for(let i = 0; i < acceptedRequests.length; i++){\r\n        //make a graph and get file\r\n        let graph = rdfLib.graph();\r\n        let filettl = await fileClient.readFile(acceptedRequests[i].url);\r\n        rdfLib.parse(filettl, graph, acceptedRequests[i].url, \"text/turtle\");\r\n\r\n        //get the blanknode from the message\r\n        let friend = graph.any(undefined, SOLIDLINKEDBEER('from'));\r\n        friend = graph.any(friend, SOLIDLINKEDBEER('from'));\r\n\r\n        //add from friend requested to friend\r\n        friendGraph.add(friendsGroup, VCARD('hasMember'), friend);\r\n        friendGraph.removeMatches(friendsSent, VCARD('hasMember'), friend);\r\n\r\n        //get the friend from the internet\r\n        friend = new Friend(friend.value);\r\n        loadFriendData(friend);\r\n\r\n        //adding friend\r\n        modelHolder.addFriend(friend);\r\n    }\r\n\r\n    //update the original friend file\r\n    let friendsTtl = await rdfLib.serialize(undefined, friendGraph, postLocation, 'text/turtle');\r\n    //TODO post new file for user so that he know friendship is accepted\r\n    await putSolidFile(postLocation, friendsTtl);\r\n\r\n    acceptedRequests.forEach(res => {\r\n        //delete the original message\r\n        fileClient.deleteFile(res.url);\r\n    })\r\n}\r\n\r\nasync function checkDeclinedFriendShipRequests(beerDrinkerFolder, declinedRequests, friendsSent, friendGraph){\r\n    let postLocation = beerDrinkerFolder + FRIENDS_FILE;\r\n\r\n    for(let i = 0; i < declinedRequests.length; i++){\r\n        let graph = rdfLib.graph();\r\n        let filettl = await fileClient.readFile(declinedRequests[i].url);\r\n\r\n        rdfLib.parse(filettl, graph, declinedRequests[i].url, \"text/turtle\");\r\n\r\n        //get blank node from friend sent\r\n        let friend = graph.any(undefined, SOLIDLINKEDBEER('from'));\r\n        friend = graph.any(friend, SOLIDLINKEDBEER('from'));\r\n\r\n        //remove friend from the friendssent file\r\n        friendGraph.removeMatches(friendsSent, VCARD('hasMember'), friend);\r\n    }\r\n\r\n    //post new friend solid file\r\n    let friendsTtl = await rdfLib.serialize(undefined, friendGraph, postLocation, 'text/turtle');\r\n    putSolidFile(postLocation, friendsTtl);\r\n\r\n    declinedRequests.forEach(res => {\r\n        //delete the original message\r\n        fileClient.deleteFile(res.url);\r\n    })\r\n//     //TODO post new file for user so that he know friendship is declined\r\n}","import Observable from \"./Observable\";\r\n\r\nclass Beer extends Observable{\r\n    constructor(name, type, style, brewer, location){\r\n        super();\r\n\r\n        this._name = name;\r\n        this._type = type;\r\n        this._style = style;\r\n        this._brewer = brewer;\r\n        this._location = location;\r\n    }\r\n\r\n    getBrewer(){\r\n        return this._brewer;\r\n    }\r\n\r\n    updateInformation(name, type, style, brewer, description, containers){\r\n        this._name = name;\r\n        this._type = type;\r\n        this._style = style;\r\n        this._brewer = brewer;\r\n        this._description = description;\r\n        this._containers = containers;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUrl(){\r\n        return this._location;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n}\r\n\r\nexport default Beer;","import Observable from \"./Observable\";\r\n\r\nclass InboxMessage extends Observable{\r\n    constructor(uri){\r\n        super();\r\n        this._uri = uri;\r\n        this._type = undefined;\r\n        this._from = undefined;\r\n        this._desc = undefined;\r\n        this._location = undefined;\r\n        this._groupName = undefined;\r\n    }\r\n\r\n    setContents(type, from, desc, location, groupName){\r\n        this._type = type;\r\n        this._from = from;\r\n        this._desc = desc;\r\n        this._location = location;\r\n        this._groupName = groupName;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUri(){\r\n        return this._uri;\r\n    }\r\n\r\n    getFrom(){\r\n        return this._from;\r\n    }\r\n\r\n    getType(){\r\n        return this._type;\r\n    }\r\n\r\n    getDesc(){\r\n        return this._desc;\r\n    }\r\n\r\n    getLocation(){\r\n        return this._location;\r\n    }\r\n\r\n    getGroupName(){\r\n        return this._groupName;\r\n    }\r\n}\r\n\r\nexport default InboxMessage;","import {getAllUserCheckIns, getUserFile, loadFriendData, postSolidFile, putSolidFile} from \"./SolidMethods\";\r\n\r\nimport * as SolidTemplates from './rdf/SolidTtlTemplates';\r\nimport {buildSolidCommunicator} from './solidCommunicatorInits/SolidCommunicatorBuilder'\r\nimport {preApplicationHandelings} from './solidCommunicatorInits/PreApplicationHandelings'\r\n\r\nimport Beer from '../model/HolderComponents/Beer'\r\nimport BeerCheckIn from '../model/HolderComponents/CheckIn'\r\n\r\nimport * as fileClient from 'solid-file-client';\r\nimport * as rdfLib from 'rdflib';\r\n\r\nimport {\r\n    APPDATA_FILE,\r\n    APPLICATION_INVITAION_DESC,\r\n    APPLICATION_INVITAION_NAME,\r\n    BEERCHECKINFILENAME,\r\n    BEERDRINKERFOLDER,\r\n    BEERREVIEWFILENAME,\r\n    CHECKIN_FOLDER,\r\n    CHECKIN_INDEX_FILE,\r\n    CHECKIN_INDEX_NAME,\r\n    FRIENDS_FILE,\r\n    FRIENDSHIPREQUEST_ACCEPTED_DESC,\r\n    FRIENDSHIPREQUEST_ACCEPTED_NAME,\r\n    FRIENDSHIPREQUEST_DECLINED_DESC,\r\n    FRIENDSHIPREQUEST_DECLINED_NAME,\r\n    FRIENDSSHIPREQUEST_DESC,\r\n    FRIENDSSHIPREQUEST_NAME,\r\n    GROUP_DATA_FILE,\r\n    GROUP_DATA_FILENAME,\r\n    GROUPFOLDER,\r\n    GROUPINVITATION_DESC,\r\n    GROUPINVITATION_NAME,\r\n    INBOX_FOLDER\r\n} from \"./rdf/Constants\";\r\nimport {DBPEDIA, FOAF, RDF, SCHEMA, SOLID, SOLIDLINKEDBEER, VCARD} from \"./rdf/Prefixes\";\r\nimport Friend from \"../model/HolderComponents/Friend\";\r\nimport Group from \"../model/HolderComponents/Group\";\r\nimport InboxMessage from \"../model/HolderComponents/InboxMessage\";\r\n\r\nclass SolidCommunicator {\r\n    /**\r\n     * Build the solid communicator\r\n     * @param {*} modelHolder\r\n     */\r\n    static async build(modelHolder) {\r\n        let solidCommunicator = new SolidCommunicator(modelHolder);\r\n\r\n        await buildSolidCommunicator(modelHolder, solidCommunicator);\r\n\r\n        //make new solidCommunicator\r\n        return solidCommunicator;\r\n    }\r\n\r\n    constructor(modelHolder) {\r\n        this._modelHolder = modelHolder;\r\n        this._user = modelHolder.getUser();\r\n    }\r\n\r\n    loadInFriendsStore(friendGroup, friendsRequestedGroup, friendsStore) {\r\n        this._friendsStore = friendsStore;\r\n        this._friendGroup = friendGroup;\r\n        this._friendsRequestedGroup = friendsRequestedGroup;\r\n\r\n        preApplicationHandelings(this._user.getBeerDrinkerFolder(), friendGroup, friendsRequestedGroup, friendsStore, this._modelHolder);\r\n    }\r\n\r\n    loadInAppStore(store, blankNode) {\r\n        this._appStore = store;\r\n        this._blankNodeAppStore = blankNode;\r\n    }\r\n\r\n    setFileLocations() {\r\n        this._beerDrinkerFolder = this._user.getBeerDrinkerFolder();\r\n        this._checkInFolder = this._beerDrinkerFolder + CHECKIN_FOLDER;\r\n        this._appStoreLocation = this._beerDrinkerFolder + APPDATA_FILE;\r\n    }\r\n\r\n    /**\r\n     * Get an user file\r\n     * @param {*} url\r\n     */\r\n    async getUserFile(url) {\r\n        return await getUserFile(url);\r\n    }\r\n\r\n    /**\r\n     * Get all content from the inbox.\r\n     * @returns {Promise<[]>}\r\n     */\r\n    async getInboxContents() {\r\n        let inbox = this._user.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n        let res = await fileClient.readFolder(inbox);\r\n        let files = [];\r\n\r\n        for (let index = 0; index < res.files.length; index++) {\r\n            let file = new InboxMessage(res.files[index].url);\r\n            this.loadFileContents(file);\r\n            files.push(file);\r\n        }\r\n\r\n        this._modelHolder.setInboxMessages(files);\r\n    }\r\n\r\n    async loadFileContents(file) {\r\n        let url = file.getUri();\r\n        let graph = rdfLib.graph();\r\n        let fileTTL = await fileClient.readFile(url);\r\n\r\n        await rdfLib.parse(fileTTL, graph, url, \"text/turtle\");\r\n\r\n        let blanknode = graph.any(undefined, RDF('type'));\r\n\r\n        let type = graph.any(blanknode, RDF('type'));\r\n        let description = graph.any(blanknode, SOLIDLINKEDBEER('description'));\r\n        let from = graph.any(blanknode, SOLIDLINKEDBEER('from'));\r\n        let location = graph.any(blanknode, SOLIDLINKEDBEER('location'));\r\n        let groupName = graph.any(blanknode, SOLIDLINKEDBEER('groupName'));\r\n\r\n        file.setContents(\r\n            type.value.replace(/.*#/, \"\"),\r\n            from.value,\r\n            description.value,\r\n            location ? location.value : undefined,\r\n            groupName ? groupName.value : undefined\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Check if user is already friend\r\n     * @param {*} url\r\n     */\r\n    checkIfUserIsFriend(url) {\r\n        let query1 = this._friendsStore.match(this._friendsRequestedGroup, VCARD('hasMember'), rdfLib.sym(url));\r\n        let query2 = this._friendsStore.match(this._friendGroup, VCARD('hasMember'), rdfLib.sym(url));\r\n\r\n        if (query1.length !== 0 || query2.length !== 0) {\r\n            console.log(\"already friend\");\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Send invitation to user for the application\r\n     * @param {*} urlInvitee\r\n     * @param {*} inbox\r\n     */\r\n    async inviteUserToSolib(urlInvitee, inbox) {\r\n        //name for file\r\n        let fileName = APPLICATION_INVITAION_NAME + this._user.getName();\r\n        let invitation = this._user.getName() + APPLICATION_INVITAION_DESC;\r\n\r\n        //name of the location where it will be posted\r\n        let postLocation = inbox + fileName + \".ttl\";\r\n\r\n        //get ttl file for invitation\r\n        let invitationTTL = SolidTemplates.getInviteToLSBInvitation(urlInvitee, invitation, postLocation, this._user.getUri());\r\n\r\n        await postSolidFile(inbox, fileName, invitationTTL);\r\n    }\r\n\r\n    /**\r\n     * Sends a friendship request to user\r\n     * @param {*} urlInvitee\r\n     * @param {*} appLocation\r\n     */\r\n    async sendFriendshipRequest(urlInvitee, appLocation) {\r\n        if (!this.checkIfUserIsFriend(urlInvitee)) {\r\n            //get url without https and profile card.me\r\n            let fileNameName = this._user.getName();\r\n\r\n            //make a file name\r\n            let fileName = FRIENDSSHIPREQUEST_NAME + fileNameName;\r\n\r\n            //the invitation\r\n            let invitation = (this._user.getName() ? this._user.getName() : this._user.getUri()) + FRIENDSSHIPREQUEST_DESC;\r\n\r\n            //locations to be posted\r\n            let location = appLocation + BEERDRINKERFOLDER + INBOX_FOLDER;\r\n            let postLocation = location + fileName + \".ttl\";\r\n\r\n            //the ttl file\r\n            let invitationTTL = SolidTemplates.getFriendShipRequest(urlInvitee, invitation, postLocation, this._user.getUri());\r\n\r\n            //add friend to friend request send\r\n            let friendsFile = this._user.getBeerDrinkerFolder() + FRIENDS_FILE;\r\n            this._friendsStore.add(this._friendsRequestedGroup, VCARD('hasMember'), rdfLib.sym(urlInvitee));\r\n            let friendsTTL = await rdfLib.serialize(undefined, this._friendsStore, friendsFile, 'text/turtle');\r\n\r\n            // send files\r\n            await postSolidFile(location, fileName, invitationTTL);\r\n            await putSolidFile(friendsFile, friendsTTL);\r\n        }\r\n    }\r\n\r\n    async declineFriendSchipRequest(message) {\r\n        //send a declined friendship request to other pod\r\n        let result = await this.getUserFile(message.getFrom());\r\n        let inbox = result.appLocation + BEERDRINKERFOLDER + INBOX_FOLDER;\r\n\r\n        //get file name and description string\r\n        let fileNameName = this._user.getName();\r\n        let fileName = FRIENDSHIPREQUEST_DECLINED_NAME + fileNameName;\r\n        let invitation = (this._user.getName() ? this._user.getName() : this._user.getUri()) + FRIENDSHIPREQUEST_DECLINED_DESC;\r\n\r\n        //get the location is will be posted to\r\n        let postLocation = inbox + fileName + \".ttl\";\r\n\r\n        //make a text file and send\r\n        let declineTTL = SolidTemplates.getDeclineFriendshipRequest(message.getFrom(), invitation, postLocation, this._user.getUri());\r\n\r\n        //delete friendship request from own pod\r\n        await postSolidFile(inbox, fileName, declineTTL);\r\n        await fileClient.deleteFile(message.getUri());\r\n    }\r\n\r\n    async acceptFriendSchipRequest(message) {\r\n        //get user\r\n        let friend = new Friend(message.getFrom());\r\n        await loadFriendData(friend);\r\n\r\n        let inbox = friend.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n\r\n        //add user as friend\r\n        let friendsFile = this._user.getBeerDrinkerFolder() + FRIENDS_FILE;\r\n        this._friendsStore.add(this._friendGroup, VCARD('hasMember'), rdfLib.sym(message.getFrom()));\r\n        let friendsTTL = await rdfLib.serialize(undefined, this._friendsStore, friendsFile, 'text/turtle');\r\n\r\n        //get file name and description string\r\n        let fileNameName = this._user.getName();\r\n        let fileName = FRIENDSHIPREQUEST_ACCEPTED_NAME + fileNameName;\r\n        let description = this._user.getName() + FRIENDSHIPREQUEST_ACCEPTED_DESC;\r\n\r\n        //get the location is will be posted to\r\n        let postLocation = inbox + fileName + \".ttl\";\r\n\r\n        //make a text file and send\r\n        let acceptedTTL = SolidTemplates.getAcceptFriendshipRequest(message.getFrom(), description, postLocation, this._user.getUri());\r\n\r\n        //send friendship accepted to user\r\n        await postSolidFile(inbox, fileName, acceptedTTL);\r\n        //delete friendship request from own pod\r\n        await fileClient.deleteFile(message.getUri());\r\n        //update FriendsFile\r\n        await putSolidFile(friendsFile, friendsTTL);\r\n\r\n        this._modelHolder.addFriend(friend);\r\n    }\r\n\r\n    async fetchBeerData() {\r\n        let url = \"https://testbrouwer.inrupt.net/public/brewerInformation/beers/beersIndex.ttl\";\r\n        let beersIndexTTl = await fileClient.readFile(url);\r\n\r\n        let graph = rdfLib.graph();\r\n        rdfLib.parse(beersIndexTTl, graph, url, \"text/turtle\");\r\n\r\n        let query = graph.each(undefined, RDF('type'), SOLIDLINKEDBEER('Beer'));\r\n        let beers = [];\r\n        query.forEach(blankNode => {\r\n            let brewer = graph.any(blankNode, SOLIDLINKEDBEER('brewedBy'));\r\n            let type = graph.any(blankNode, SOLIDLINKEDBEER('type'));\r\n            let name = graph.any(blankNode, SCHEMA('name'));\r\n            let style = graph.any(blankNode, SOLIDLINKEDBEER('style'));\r\n            let location = graph.any(blankNode, SOLID('instance'));\r\n\r\n            beers.push(new Beer(name.value, type.value, style.value, brewer.value, location.value));\r\n        })\r\n\r\n        return beers;\r\n    }\r\n\r\n    async fetchBeer(beer) {\r\n        let url = beer.getUrl();\r\n        let beerTTl = await fileClient.readFile(url);\r\n\r\n        let graph = rdfLib.graph();\r\n        rdfLib.parse(beerTTl, graph, url, \"text/turtle\");\r\n\r\n        let blankNode = graph.any(undefined, SOLIDLINKEDBEER('beerDescription'));\r\n\r\n        let brewer = graph.any(blankNode, SOLIDLINKEDBEER('brewedBy'));\r\n        let type = graph.any(blankNode, SOLIDLINKEDBEER('type'));\r\n        let name = graph.any(blankNode, SCHEMA('name'));\r\n        let style = graph.any(blankNode, SOLIDLINKEDBEER('style'));\r\n        let description = graph.any(blankNode, SOLIDLINKEDBEER('beerDescription'));\r\n        let containers = [];\r\n        graph.each(blankNode, SOLIDLINKEDBEER('container')).forEach(container => {\r\n            containers.push(container.value);\r\n        });\r\n\r\n        beer.updateInformation(name.value, type.value, style.value, brewer.value, description.value, containers);\r\n        return beer;\r\n    }\r\n\r\n    async postBeerReview(hasReview, beer, rating, review, groups) {\r\n        let ttlFile;\r\n\r\n        let date = new Date();\r\n\r\n        let checkingFolder = this._checkInFolder;\r\n        let filename;\r\n        let postLocation;\r\n        let beerpoints = 0;\r\n\r\n        if (hasReview) {\r\n            filename = date.getTime() + BEERREVIEWFILENAME;\r\n            postLocation = checkingFolder + filename + \".ttl\";\r\n\r\n            ttlFile = SolidTemplates.beerReviewInTemplate(postLocation,\r\n                this._user.getName(),\r\n                this._user.getUri(),\r\n                beer.getUrl(),\r\n                beer.getName(),\r\n                date,\r\n                rating,\r\n                review);\r\n\r\n            beerpoints = 10;\r\n        } else {\r\n            filename = date.getTime() + BEERCHECKINFILENAME;\r\n            postLocation = checkingFolder + filename + \".ttl\";\r\n            ttlFile = SolidTemplates.beerCheckInTemplate(postLocation,\r\n                this._user.getName(),\r\n                this._user.getUri(),\r\n                beer.getUrl(),\r\n                beer.getName(),\r\n                date);\r\n\r\n            beerpoints = 5;\r\n        }\r\n\r\n        groups.forEach(res => {\r\n            if (res === this._user.getCheckInLocation()) {\r\n                this._modelHolder.getCheckInHandler().addBeerPoints(beerpoints);\r\n                this.sendBeerPoints(beerpoints);\r\n\r\n                if (hasReview) {\r\n                    this._modelHolder.getCheckInHandler().addBeerReviewToAmount();\r\n                } else {\r\n                    this._modelHolder.getCheckInHandler().addToCheckInsAmount();\r\n                }\r\n            }else{\r\n                let group = this._modelHolder.getGroupFromCheckInLocationUri(res);\r\n                fileClient.fetch(group.getGroupCheckInIndex()).then(checkInIndex => {\r\n                    let graph = rdfLib.graph();\r\n                    rdfLib.parse(checkInIndex, graph, group.getGroupCheckInIndex(), \"text/turtle\");\r\n                    let userNamedNode = graph.any(rdfLib.sym(this._user.getUri()), SOLIDLINKEDBEER('points'));\r\n                    userNamedNode.value = parseInt(userNamedNode.value) + beerpoints + \"\";\r\n\r\n                    let ttlFile = rdfLib.serialize(undefined, graph, group.getGroupCheckInIndex(), 'text/turtle');\r\n                    putSolidFile(group.getGroupCheckInIndex(),ttlFile);\r\n                })\r\n            }\r\n\r\n            postSolidFile(res, filename, ttlFile);\r\n        });\r\n\r\n        let checkIn = new BeerCheckIn(postLocation);\r\n        checkIn.loadInAttributes(\r\n            this._user.getUri(),\r\n            this._user.getName(),\r\n            beer._location,\r\n            beer._name,\r\n            date.getUTCDate(),\r\n            hasReview ? rating : undefined,\r\n            hasReview ? review : undefined);\r\n        this._modelHolder.getCheckInHandler().addUserCheckIns([checkIn]);\r\n    }\r\n\r\n    async sendBeerPoints(amount) {\r\n        let beerPointsQueryNow = this._appStore.any(this._blankNodeAppStore, SOLIDLINKEDBEER(\"points\"));\r\n        beerPointsQueryNow.value = parseInt(beerPointsQueryNow.value) + amount + \"\";\r\n\r\n        let appTTL = await rdfLib.serialize(undefined, this._appStore, this._appStoreLocation, 'text/turtle');\r\n        putSolidFile(this._appStoreLocation, appTTL);\r\n    }\r\n\r\n    async getBrewerInformation(brewer) {\r\n        let url = brewer.getUrl();\r\n        let brewerTTl = await fileClient.fetch(url);\r\n\r\n        let graph = rdfLib.graph();\r\n        await rdfLib.parse(brewerTTl, graph, url, \"text/turtle\");\r\n\r\n        let blankNode = graph.any(undefined, RDF('type'));\r\n\r\n        let name = graph.any(blankNode, FOAF(\"name\")).value;\r\n        let groep = graph.any(blankNode, DBPEDIA(\"groep\")).value;\r\n        let opgericht = graph.any(blankNode, DBPEDIA(\"opgericht\")).value;\r\n        let owners = [];\r\n        graph.each(blankNode, DBPEDIA(\"owners\")).forEach(owner => {\r\n            owners.push(owner.value);\r\n        })\r\n        let provincie = graph.any(blankNode, DBPEDIA(\"provincie\")).value;\r\n        let email = graph.any(blankNode, SCHEMA(\"email\")).value;\r\n        let taxid = graph.any(blankNode, SCHEMA(\"taxID\")).value;\r\n        let telephone = graph.any(blankNode, SCHEMA(\"telephone\")).value;\r\n        let brewerUrl = graph.any(blankNode, SCHEMA(\"url\")).value;\r\n        let beerIndex = graph.any(blankNode, DBPEDIA('beersIndex'));\r\n\r\n        let blankNodeAdress = graph.any(blankNode, SCHEMA(\"address\"));\r\n\r\n        let postalcode = graph.any(blankNodeAdress, SCHEMA(\"postalCode\")).value;\r\n        let streetaddress = graph.any(blankNodeAdress, SCHEMA(\"streetAddress\")).value;\r\n        let addressregion = graph.any(blankNodeAdress, SCHEMA(\"addressRegion\")).value;\r\n        let addresslocality = graph.any(blankNodeAdress, SCHEMA(\"addressLocality\")).value;\r\n\r\n        brewer.loadInBrewerInformation(name,\r\n            groep,\r\n            opgericht,\r\n            owners,\r\n            provincie,\r\n            email,\r\n            taxid,\r\n            telephone,\r\n            postalcode,\r\n            streetaddress,\r\n            addressregion,\r\n            addresslocality);\r\n\r\n        this.fetchBeerData(beerIndex.value).then(res => {\r\n            brewer.addBeers(res);\r\n        });\r\n\r\n        return brewer;\r\n    }\r\n\r\n    async getAllCheckInsLoggedInUser() {\r\n        if (!this._modelHolder.getCheckInHandler().getAllCheckInsGotten()) {\r\n            this._modelHolder.getCheckInHandler().setUserCheckIns(\r\n                await getAllUserCheckIns(\r\n                    this._modelHolder.getUser().getBeerDrinkerFolder()\r\n                )\r\n            );\r\n\r\n            this._modelHolder.getCheckInHandler().setAllCheckInsGotten(true);\r\n        }\r\n    }\r\n\r\n    async makeNewGroup(beerdrinkerUrl, groupName, friends) {\r\n        let groupUrl = beerdrinkerUrl + GROUPFOLDER + groupName + \"/\";\r\n        let groupUrlAcl = groupUrl + \".acl\";\r\n        let appdataName = groupUrl + GROUP_DATA_FILE;\r\n\r\n        //maak groep folder aan\r\n        await fileClient.createFolder(groupUrl);\r\n\r\n        //maak appdata file aan\r\n        let body = SolidTemplates.getGroupAppDataTTL(appdataName, friends, this._user.getUri(), groupName);\r\n        await postSolidFile(groupUrl, GROUP_DATA_FILENAME, body);\r\n\r\n        //maak checkins folder aan\r\n        let checkins = groupUrl + CHECKIN_FOLDER;\r\n        let checkInsAcl = checkins + \".acl\";\r\n\r\n        await fileClient.createFolder(checkins);\r\n        let groupCheckInAclTtl = SolidTemplates.getGroupCheckInsAclTTL(checkins, appdataName, checkInsAcl, this._user.getUri());\r\n        await putSolidFile(checkInsAcl, groupCheckInAclTtl);\r\n\r\n        //zet de acl van de groups folder online\r\n        let groupAclTtl = SolidTemplates.getGroupAclTTL(groupUrl, appdataName, groupUrlAcl, this._user.getUri());\r\n        await putSolidFile(groupUrlAcl, groupAclTtl);\r\n\r\n        //make checkins index\r\n        let checkInsIndex = groupUrl + CHECKIN_INDEX_FILE;\r\n        let checkInsIndexAcl = checkInsIndex + \".acl\";\r\n        let checkInIndexBody = SolidTemplates.getCheckInIndexBody(checkInsIndex, friends, this._user);\r\n\r\n        await postSolidFile(groupUrl, CHECKIN_INDEX_NAME, checkInIndexBody);\r\n\r\n        let aclBody = SolidTemplates.groupCheckInIndexAcl(\r\n            checkInsIndex,\r\n            appdataName,\r\n            checkInsIndexAcl,\r\n            this._user.getUri());\r\n        await putSolidFile(checkInsIndexAcl, aclBody);\r\n\r\n        //stuur de uitnodigingen naar de vrienden\r\n        friends.forEach(res => {\r\n            let fileName = GROUPINVITATION_NAME + groupName;\r\n            let desc = GROUPINVITATION_DESC + groupName + \"?\";\r\n\r\n            let location = res.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n            let postLocation = location + fileName + \".ttl\";\r\n\r\n            let inv = SolidTemplates.getGroupInvitaion(res.getUri(),\r\n                desc,\r\n                postLocation,\r\n                this._user.getUri(),\r\n                groupUrl,\r\n                groupName\r\n            );\r\n\r\n            postSolidFile(location, fileName, inv);\r\n        });\r\n\r\n        let group = new Group(groupUrl);\r\n        group.setProperties(groupName, checkins, appdataName, this._user.getUri(), friends.map(res => {\r\n            return res.getUri()\r\n        }));\r\n        this._modelHolder.addGroup(group);\r\n    }\r\n\r\n    async acceptGroupRequest(message) {\r\n        //see if the person is your friend\r\n        let friend = this._modelHolder.getFriendFromUri(message.getFrom());\r\n\r\n        //TODO maak een ttl file voor het accepteren en verzend deze naar de persoon.\r\n\r\n        //maak een ttl file om het in eigen groep folder te zetten\r\n        let folderLocation = this._user.getBeerDrinkerFolder() + GROUPFOLDER;\r\n        let postlocation = folderLocation + message.getGroupName();\r\n        let groupLocation = message.getLocation();\r\n        let ownGroupBody = SolidTemplates.getGroupOtherPersonTTL(groupLocation, postlocation);\r\n\r\n        await postSolidFile(folderLocation, message.getGroupName(), ownGroupBody);\r\n\r\n        //verwijder het bericht\r\n        await fileClient.deleteFile(message.getUri());\r\n    }\r\n\r\n    async declineGroupRequest(message) {\r\n        //verwijder het bericht\r\n        await fileClient.deleteFile(message.getUri());\r\n\r\n        //TODO decline stuur het door, zodat je eruit wordt getrapt.\r\n    }\r\n}\r\n\r\nexport default SolidCommunicator;","import React from 'react';\r\nimport './css/NavBar.scss'\r\n\r\nclass NavBar extends React.Component {\r\n    onInput = (e) => {\r\n        this.props.onBeerSearch(e.target.value);\r\n    };\r\n\r\n    render() {\r\n        let cldn = React.Children.toArray(this.props.children);\r\n        let input;\r\n\r\n        cldn = cldn.map((child, index) => {\r\n            return (\r\n                <li key={child.props.to}>\r\n                    {child}\r\n                </li>\r\n            )\r\n        });\r\n\r\n        console.log(this.props);\r\n\r\n        if (this.props.loggedIn) {\r\n            input = (<li id=\"navBarSearch\">\r\n                <input placeholder=\"search for beers\" value={this.props.searchQuery} onChange={this.onInput}/>\r\n                <input type=\"button\" value=\"x\" onClick={this.props.onSearchBarButtonClick}/>\r\n            </li>);\r\n\r\n            cldn.splice(cldn.length - 1, 0, input);\r\n        }\r\n\r\n        return (\r\n            <nav>\r\n                <ul id=\"navBarUL\">\r\n                    {cldn}\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport Knipsel from '../../assets/Knipsel.png'\r\nimport '../css/Home.scss'\r\n\r\nclass Home extends React.Component{\r\n    render(){\r\n        return(\r\n            <section className = \"home\">\r\n                <h3>\r\n                    This application works with Solid.<br/>\r\n                    Log in with your pod to use the application. If you do not have an pod, you can get one&nbsp;\r\n                    <a href = \"https://solid.inrupt.com/get-a-solid-pod\">here</a> for free\r\n                </h3>\r\n                <br/>\r\n                <img src= {Knipsel} alt = \"Inrupt logo\"/>\r\n                <br/>\r\n                <h3 style = {{color : \"red\"}}>\r\n                    Carefull, This application is still in development and might mess up your pod.\r\n                    if you want to test it out, I recommend you make a new pod that you can delete\r\n                </h3>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport '../css/LogIn.scss'\r\n\r\nimport solidAuth from 'solid-auth-client'\r\n\r\nclass LogIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loginAsBrewer: false\r\n        }\r\n    }\r\n\r\n    onChangeCheckBox = () => {\r\n        this.setState({\r\n            loginAsBrewer: !this.state.loginAsBrewer\r\n        })\r\n    }\r\n\r\n    onButtonClick = () => {\r\n        let popupUri = './popup.html';\r\n        solidAuth.popupLogin({ popupUri }).then(() => {\r\n            solidAuth.currentSession().then(session => {\r\n                this.props.onLoggedIn();\r\n                this.props.history.push(`/profile`)\r\n            })\r\n        })\r\n    }\r\n\r\n    onRegisterClick = () => {\r\n        window.location.assign('https://inrupt.net/');\r\n    }\r\n\r\n    render() {\r\n        let typeLogIn;\r\n        let loginButton;\r\n\r\n\r\n        if (this.state.loginAsBrewer) {\r\n            typeLogIn = <h1>Brewer</h1>\r\n            loginButton = (<button onClick = {this.onButtonClick} disabled={true}>In progress</button>);\r\n        } else {\r\n            typeLogIn = <h1>Beer Drinker</h1>\r\n            loginButton = (<button onClick = {this.onButtonClick}>Log in</button>);\r\n        }\r\n\r\n        let activeClass = this.state.loginAsBrewer ? \"logInBrewer\" : \"logInBeerDrinker\";\r\n\r\n        return (\r\n            <section className={[\"logInScreen \", activeClass].join(' ')}>\r\n                <div className=\"loginField\">\r\n                    {typeLogIn}\r\n                    <label className=\"switch\">\r\n                        <input type=\"checkbox\" onChange={this.onChangeCheckBox} />\r\n                        <span className=\"slider\"></span>\r\n                    </label>\r\n\r\n                    <br />\r\n                    <div>\r\n                        <button onClick = {this.onRegisterClick}>Register</button>\r\n                        {loginButton}\r\n                    </div>\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LogIn;\r\n","import React from 'react';\r\nimport Select from \"react-select\";\r\nimport \"./css/GroupMakerOverlay.scss\"\r\n\r\nclass GroupMakerOverlay extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onDivClick = (e) => {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={this.props.onOverLayCancelClick} id=\"overlayGroup\" style={this.props.overlay ? { display: \"block\" } : { display: \"none\" }}>\r\n                <div id=\"textGroup\" onClick={this.onDivClick}>\r\n                    <h5>\r\n                        makeGroup\r\n                    </h5>\r\n                    <span>group name</span> : <input value={this.props.groupName} onChange={this.props.onChange}/>\r\n                    <button onClick={this.props.makeGroup}>make new group</button>\r\n                    <Select\r\n                        isMulti = {true}\r\n                        options={this.props.valuesSelector}\r\n                        value = {this.props.selectedFriends}\r\n                        onChange = {this.props.onSelect}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GroupMakerOverlay;","import React from 'react';\r\nimport \"../css/Groups.scss\";\r\nimport GroupMakerOverlay from \"../../component/GroupMakerOverlay\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass Groups extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            overlay: false,\r\n            groupName: \"b\",\r\n            selectedFriends: []\r\n        }\r\n    }\r\n\r\n    onMakeGroupClick = () => {\r\n        this.setState({\r\n            overlay: true\r\n        });\r\n    };\r\n\r\n    onOverLayCancelClick = () => {\r\n        this.setState({\r\n            overlay: false\r\n        });\r\n    };\r\n\r\n    makeGroup = () => {\r\n        if (this.state.groupName !== \"\" && !(/\\s/.test(this.state.groupName))) {\r\n            let beerDrinkerFolder = this.props.modelHolder.getUser().getBeerDrinkerFolder();\r\n            let friends = this.state.selectedFriends.map(res => {\r\n                return res.value;\r\n            });\r\n\r\n            this.props.solidCommunicator.makeNewGroup(beerDrinkerFolder, this.state.groupName, friends).then(res => {\r\n            });\r\n\r\n            this.setState({\r\n                overlay: false,\r\n                selectedFriends: [],\r\n                groupName: \"\"\r\n            });\r\n        }\r\n    };\r\n\r\n    onSelectFriend = (e) => {\r\n        this.setState({\r\n            selectedFriends: e\r\n        })\r\n    };\r\n\r\n    onGroupNameChange = (e) => {\r\n        let text = e.target.value;\r\n        this.setState({\r\n            groupName: text\r\n        })\r\n    };\r\n\r\n    render() {\r\n        let friendsComs = this.props.modelHolder.getFriends().map(res => {\r\n            return {value: res, label: res.getName()}\r\n        });\r\n\r\n        let groups = this.props.modelHolder.getGroups().map((res, index) => {\r\n            return (\r\n                <li key={res.getUrl() + res.getLeader()}>\r\n                    <Link to={`/groups/${index}`}>{res.getName()}</Link>\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <section id=\"groupsPage\">\r\n                <h1>\r\n                    Groups\r\n                </h1>\r\n                <div className=\"makeNewGroupDiv\">\r\n                    <button className=\"makeNewGroup\" onClick={this.onMakeGroupClick}>makeNewGroup</button>\r\n                </div>\r\n                <GroupMakerOverlay\r\n                    overlay={this.state.overlay}\r\n                    onOverLayCancelClick={this.onOverLayCancelClick}\r\n                    onAddReviewClick={this.onAddReviewClick}\r\n                    addReview={this.state.addReview}\r\n                    checkInBeer={this.onPostBeerReview}\r\n                    onChange={this.onGroupNameChange}\r\n                    groupName={this.state.groupName}\r\n                    valuesSelector={friendsComs}\r\n                    selectedFriends={this.state.selectedFriends}\r\n                    onSelect={this.onSelectFriend}\r\n                    makeGroup={this.makeGroup}\r\n                />\r\n\r\n                <ul>\r\n                    {groups}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Groups;\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport '../css/Friends.scss'\r\n\r\nclass Friends extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            inputText : \"\",\r\n            error : undefined\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            inputText: e.target.value\r\n        })\r\n    };\r\n\r\n    checkIfUser = () => {\r\n        let text = this.state.inputText.toUpperCase();\r\n        let friend = this.props.modelHolder.getUser();\r\n\r\n        //regular uro\r\n        let friendUri = friend.getUri().toUpperCase();\r\n\r\n        //uri without the hash\r\n        let friendUri2 = friend.getUri().toUpperCase().replace(\"#ME\", \"\").replace(\"#I\", \"\");\r\n\r\n        //uri without https\r\n        let friendUri3 = friendUri.replace(\"HTTPS://\", \"\");\r\n        let friendUri4 = friendUri2.replace(\"HTTPS://\", \"\");\r\n\r\n        //check if text mathes any of these thing\r\n        return  friendUri === text || friendUri2 === text || friendUri3 === text || friendUri4 === text;\r\n    }\r\n\r\n    onButtonClick = async () => {\r\n        let friends = this.props.modelHolder.getFriends();\r\n\r\n        friends = friends.filter(friend => {\r\n            let text = this.state.inputText.toUpperCase();\r\n            //regular uro\r\n            let friendUri = friend.getUri().toUpperCase();\r\n\r\n            //uri without the hash\r\n            let friendUri2 = friend.getUri().toUpperCase().replace(\"#ME\", \"\").replace(\"#I\", \"\");\r\n\r\n            //uri without https\r\n            let friendUri3 = friendUri.replace(\"HTTPS://\", \"\");\r\n            let friendUri4 = friendUri2.replace(\"HTTPS://\", \"\");\r\n\r\n            //check if text mathes any of these thing\r\n            return  friendUri === text || friendUri2 === text || friendUri3 === text || friendUri4 === text;\r\n        });\r\n\r\n        if (friends.length !== 0){\r\n            //this is a mess and lazy programming but keep it in because i do not have time to change it.\r\n            let index = this.props.modelHolder.getFriends().map((profile, index) => {\r\n                if(friends[0].getUri() === profile.getUri()){\r\n                    return index;\r\n                }\r\n            }).filter(index => {return index});\r\n\r\n            this.props.history.push(`/friend/${index[0]}`);\r\n        } else if(this.checkIfUser()){\r\n            this.props.history.push(\"/profile\");\r\n        }else{\r\n            try{\r\n                let result = await this.props.solidCommunicator.getUserFile(this.state.inputText);\r\n\r\n                    this.props.history.push({\r\n                        pathname:\"/user\",\r\n                        state:{\r\n                            result: result\r\n                        }\r\n                    });\r\n            }catch(e){\r\n                this.setState({error : e.message})\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let friends = this.props.modelHolder.getFriends();\r\n        let text = this.state.inputText.toUpperCase();\r\n\r\n        let friendsElements = friends.map((friend, index) => {\r\n            console.log(friend.getName());\r\n            if(friend.getUri().toUpperCase().includes(text) || (friend.getName() && friend.getName().toUpperCase().includes(text))) {\r\n                return <li key={friend.getUri()}>\r\n                    <Link to={`/friend/${index}`}>\r\n                        <p>\r\n                            {friend.getName() ? friend.getName() : friend.getUri()}\r\n                        </p>\r\n                    </Link>\r\n                </li>\r\n            }\r\n        });\r\n\r\n        return(\r\n            <section className = \"friends\">\r\n                <div className = \"searchFriends\">\r\n                    <h3>\r\n                        Make new friends\r\n                    </h3>\r\n                    <br/>\r\n                    <input type = \"text\" placeholder =\"https://profile.card/profile/card#me\" value = {this.state.inputText} onChange = {this.onChange}/>\r\n                    <button onClick = {this.onButtonClick}>Search on the web</button>\r\n                    <p style = {{color: \"red\"}}>{this.state.error}</p>\r\n                </div>\r\n\r\n                <div className = \"friendSection\">\r\n                    <h1>\r\n                        Friends\r\n                    </h1>\r\n                    <ul>\r\n                        {friendsElements}\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Friends;\r\n","import React from \"react\";\r\nimport \"./css/BeerCheckInComponent.scss\"\r\n\r\nclass BeerCheckInComponent extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    }\r\n\r\n    render() {\r\n        let checkIn = this.props.checkin;\r\n        let rating;\r\n        let review;\r\n\r\n        if(checkIn._rating){\r\n            rating = <p>rating: {checkIn._rating}</p>\r\n        }else{\r\n            rating = <br/>;\r\n        }\r\n\r\n        if(checkIn._review){\r\n            review = <p>review: {checkIn._review}</p>\r\n        }else{\r\n            review = <br/>;\r\n        }\r\n\r\n        return (\r\n            <li className= \"BeerCheckInComponent\">\r\n                <h5>\r\n                    {checkIn._userName ? checkIn._userName : checkIn._userWebId} is drinking a {checkIn._beerName}\r\n                </h5>\r\n                {rating}\r\n                {review}\r\n            </li>)\r\n    }\r\n}\r\n\r\nexport default BeerCheckInComponent;","import React from 'react';\r\nimport '../css/Profile.scss'\r\nimport profilePic from '../../assets/profilePic.png'\r\nimport {Link} from \"react-router-dom\";\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\n\r\nclass FriendPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: this.props.modelHolder.getFriendFromIndex(this.props.match.params.id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let user = this.state.user;\r\n        let imgUrl = user.getImageUrl();\r\n        let userCheckIns = user.getCheckInHandler().getUserCheckIns()\r\n        let content;\r\n\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key={checkIn._fileLocation} checkin={checkIn}/>\r\n            )\r\n        })\r\n\r\n        if (user.getStartDate()) {\r\n            content = (<div className=\"leftColumnProfile\">\r\n                <h1>\r\n                    {user.getName()}\r\n                </h1>\r\n                {/*TODO make image load faster*/}\r\n                <img src={imgUrl ? imgUrl : profilePic} alt=\"\"/>\r\n                <p>\r\n                    check-ins : {user.getCheckInHandler().getCheckInsAmount()}\r\n                </p>\r\n                <p>\r\n                    reviews : {user.getCheckInHandler().getBeerReviewsAmount()}\r\n                </p>\r\n                <p>\r\n                    Begin date : {dateToString(user.getStartDate())}\r\n                </p>\r\n                <p>\r\n                    beerbonus points : {user.getCheckInHandler().getBeerPoints()}\r\n                </p>\r\n            </div>);\r\n        }\r\n\r\n        return (\r\n            <section className=\"profileScreen\">\r\n                {content}\r\n                <div className=\"checkedInBeersProfile\">\r\n                    <h1>\r\n                        Recent activities\r\n                    </h1>\r\n                    <ul>\r\n                        {userCheckIns}\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction dateToString(date) {\r\n    var dd = String(date.getDate()).padStart(2, '0');\r\n    var mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    var yyyy = date.getFullYear();\r\n\r\n    return dd + '/' + mm + '/' + yyyy;\r\n}\r\n\r\nexport default FriendPage;","import React from 'react';\r\nimport '../css/CheckIns.scss'\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\n\r\nclass Friends extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            res : []\r\n        }\r\n\r\n        this.getAllCheckIns();\r\n    }\r\n\r\n    getAllCheckIns = () => {\r\n        this.props.solidCommunicator.getAllCheckInsLoggedInUser();\r\n    }\r\n\r\n\r\n    render(){\r\n        let userCheckIns = this.props.modelHolder.getCheckInHandler().getUserCheckIns();\r\n\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key = {checkIn._fileLocation} checkin = {checkIn}/>\r\n            )\r\n        })\r\n\r\n        return(\r\n            <section id = \"beerCheckIns\">\r\n                <h1>\r\n                    Check-Ins\r\n                </h1>\r\n                <ul>\r\n                    {userCheckIns}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Friends;\r\n","import React from 'react';\r\nimport '../css/BeerResults.scss';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\nclass BeerResults extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.solidCommunicator.fetchBeerData().then(res => {\r\n            if (res) {\r\n                this.props.modelHolder.setBeers(res);\r\n            }\r\n        });\r\n    }\r\n\r\n    onLinkClick = (e) => {\r\n        this.props.modelHolder.setBeer(e);\r\n\r\n        this.props.onLinkClick();\r\n    }\r\n\r\n    render() {\r\n\r\n        let elements = this.props.modelHolder.getBeers().map(listItem => {\r\n            return (\r\n                <li key={listItem._location}>\r\n                    <Link to={`/beer/${listItem._name}`}\r\n                          onClick={() => {\r\n                              this.onLinkClick(listItem)\r\n                          }}>\r\n                        {listItem._name}\r\n                    </Link>\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <section className=\"beerResults\">\r\n                <h1>Beer Results</h1>\r\n                <ul>\r\n                    {elements}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BeerResults;\r\n\r\n","import React from 'react';\r\nimport '../css/Profile.scss'\r\nimport profilePic from '../../assets/profilePic.png'\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\nimport {Link, Redirect, withRouter} from \"react-router-dom\";\r\n\r\nclass Profile extends React.Component{\r\n    render(){\r\n        let user = this.props.modelHolder.getUser();\r\n        let imgUrl = user.getImageUrl();\r\n        let checkInHandler = this.props.modelHolder.getCheckInHandler();\r\n        let userCheckIns = checkInHandler.getUserCheckIns();\r\n        let content;\r\n\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key = {checkIn._fileLocation} checkin = {checkIn}/>\r\n            )\r\n        });\r\n\r\n        if(user.getBeginDate()){\r\n            content = (<div className=\"leftColumnProfile\">\r\n                    <h1>\r\n                        {user.getName()}\r\n                    </h1>\r\n                    {/*TODO make image load faster*/}\r\n                    <img src = {imgUrl ? imgUrl : profilePic} alt = \"\"/>\r\n                    <p>\r\n                        check-ins : {checkInHandler.getCheckInsAmount()}\r\n                    </p>\r\n                    <p>\r\n                        reviews : {checkInHandler.getBeerReviewsAmount()}\r\n                    </p>\r\n                    <p>\r\n                        Begin date : {dateToString(user.getBeginDate())}\r\n                    </p>\r\n                    <p>\r\n                        beerbonus points : {checkInHandler.getBeerPoints()}\r\n                    </p>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <section className = \"profileScreen\">\r\n                    {content}\r\n                    <div className=\"checkedInBeersProfile\">\r\n                        <div className = \"checkinDiv\">\r\n                            <Link to=\"/checkIns\">All check ins &rarr;</Link>\r\n                        </div>\r\n                        <h1>\r\n                            Recent activities\r\n                        </h1>\r\n                            <ul>\r\n                                {userCheckIns}\r\n                            </ul>\r\n                    </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction dateToString(date){\r\n    var dd = String(date.getDate()).padStart(2, '0');\r\n    var mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    var yyyy = date.getFullYear();\r\n\r\n    return dd + '/' + mm + '/' + yyyy;\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport '../css/User.scss'\r\nimport profilePic from '../../assets/profilePic.png';\r\n\r\nclass User extends React.Component{ \r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            clicked: false,\r\n            result : this.props.location.state.result\r\n        }\r\n    }\r\n\r\n    onNotJoinedButtonClick = async () => {\r\n        let result = this.state.result;\r\n        await this.props.solidCommunicator.inviteUserToSolib(result.url, result.inbox);\r\n\r\n        this.setState(\r\n            {\r\n                clicked : true\r\n            });\r\n    }\r\n\r\n    sendFriendShipRequest = async () => {\r\n        //TODO check if friendship request is already set\r\n        let result = this.state.result;\r\n        await this.props.solidCommunicator.sendFriendshipRequest(result.url, result.appLocation);\r\n\r\n        this.setState(\r\n            {\r\n                clicked : true}\r\n            );  \r\n    }\r\n\r\n    render(){\r\n        let result = this.props.location.state.result;\r\n        let button;\r\n\r\n        if(!this.state.clicked){\r\n            if(result.appLocation){\r\n                button = (<button onClick = {this.sendFriendShipRequest}>Send friendship request</button>);\r\n            }else{\r\n                button = (<button onClick = {this.onNotJoinedButtonClick}>Invite to Social linked beer</button>);\r\n            }\r\n        }else{\r\n            button = (<button disabled= {true}>Request send</button>)\r\n        }\r\n\r\n        return(\r\n            <section className = \"userPageNew\">\r\n                <div className = \"userPageHead\">              \r\n                    <h1>\r\n                        {result.name}\r\n                    </h1>\r\n                    <img src = {result.imageUrl ? result.imageUrl : profilePic} alt = \"\"/>\r\n                </div>\r\n                <div className = \"userButtonDiv\">\r\n                    {button}\r\n                </div>\r\n                <div className = \"userInfo\">\r\n                    <p>Uri : {result.url}</p>\r\n                    <p>Has social linked beer account?: {result.appLocation ? \"Yes\" : \"No\"}</p>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport \"../css/Inbox.scss\";\r\n\r\nclass Inbox extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    declineFriendShipRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.declineFriendSchipRequest(message);\r\n    };\r\n\r\n    acceptFriendShipRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.acceptFriendSchipRequest(message);\r\n    };\r\n\r\n    declineGroupRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.declineGroupRequest(message);\r\n    };\r\n\r\n    acceptGroupRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.acceptGroupRequest(message);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.solidCommunicator.getInboxContents();\r\n    }\r\n\r\n    render(){\r\n        let items = this.props.modelHolder.getInboxMessages().map((message, index)=> {\r\n            let buttonDiv;\r\n\r\n            if(message.getType() === \"FriendshipRequest\"){\r\n                buttonDiv = (<div className = \"buttonDiv\">\r\n                    <button onClick = {() => this.declineFriendShipRequest(index,message)}>Decline</button>\r\n                    <button onClick = {() => this.acceptFriendShipRequest(index, message)}>Accept</button>\r\n                </div>)\r\n            }else if(message.getType() === \"GroupInvitation\"){\r\n                buttonDiv = (<div className = \"buttonDiv\">\r\n                    <button onClick = {() => this.declineGroupRequest(index,message)}>Decline</button>\r\n                    <button onClick = {() => this.acceptGroupRequest(index, message)}>Accept</button>\r\n                </div>)\r\n            }\r\n\r\n            return (<li key = {message.getUri()}>\r\n                <h4>{message.getType()}</h4>\r\n                <p>{message.getFrom() ? \"from :\" + message.getFrom(): \"fetching file\"}</p>\r\n                <p>{message.getDesc()}</p>\r\n                {buttonDiv}\r\n            </li>)\r\n        })\r\n\r\n        return(\r\n            <section className = \"inbox\">\r\n                <h1>\r\n                    Inbox\r\n                </h1>\r\n\r\n                <ul>\r\n                    {items}\r\n                </ul>\r\n                \r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Inbox;\r\n","import React from 'react';\r\nimport './css/BeerCheckInScreen.scss';\r\n\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Select from \"react-select\";\r\n\r\nclass BeerCheckInOverlay extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onDivClick = (e) => {\r\n        e.stopPropagation();\r\n    }\r\n    \r\n    render() {\r\n        let rating;\r\n        let text;\r\n\r\n        if (this.props.addReview) {\r\n            rating = (<Rating\r\n                name=\"beerRating\"\r\n                value={this.props.beerRating}\r\n                precision={0.5}\r\n                onChange={(event, newValue) => {\r\n                    this.props.setBeerRating(newValue);\r\n                }}\r\n                />\r\n            )\r\n\r\n            text = (\r\n                <textarea\r\n                    value={this.props.beerReview}\r\n                    onChange={event => {\r\n                        this.props.onBeerReviewChange(event.target.value)\r\n                    }\r\n                    }/>\r\n\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div onClick={this.props.onOverLayCancelClick} id=\"overlay\" style={this.props.overlay ? { display: \"block\" } : { display: \"none\" }}>\r\n                <div id=\"text\" onClick={this.onDivClick}>\r\n                    <h5>\r\n                        check in beer\r\n                    </h5>\r\n                    <button onClick = {this.props.onAddReviewClick}>{this.props.addReview ? \"dont add review\": \"Add review\"}</button>\r\n                    {rating}\r\n                    {text}\r\n                    <br />\r\n                    <button onClick = {this.props.checkInBeer}>check in beer</button>\r\n                    <Select\r\n                        isMulti = {true}\r\n                        onChange = {this.props.onSelect}\r\n                        options = {this.props.groupsOptions}\r\n                        value = {this.props.selectedOptions}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BeerCheckInOverlay;","import Observable from \"./Observable\";\r\n\r\nclass Brewer extends Observable{\r\n    constructor( url){\r\n        super();\r\n\r\n        this._url = url;\r\n        this._beers = [];\r\n    }\r\n\r\n    loadInBrewerInformation(name, groep, opgericht, owners, provincie, email, taxID, telephone, postalCode, streetAddress, addressRegion, addressLocality){\r\n        this._name = name;\r\n        this._groep = groep;\r\n        this._opgericht = opgericht;\r\n        this._owners = owners;\r\n        this._provincie = provincie;\r\n        this._email = email;\r\n        this._taxid = taxID;\r\n        this._telephone = telephone;\r\n        this._postalcode = postalCode;\r\n        this._streetAdress = streetAddress;\r\n        this._addressRegion = addressRegion;\r\n        this._addressLocality = addressLocality;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addBeers(beers){\r\n        this._beers = this._beers.concat(beers);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUrl(){\r\n        return this._url;\r\n    }\r\n\r\n    update(){\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getGroep(){\r\n        return this._groep;\r\n    }\r\n}\r\n\r\nexport default Brewer;","import React from 'react';\r\nimport '../css/BeerDetailScreen.scss';\r\nimport BeerCheckInOverlay from '../../component/BeerCheckInOverlay';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport Brewer from \"../../model/HolderComponents/Brewer\";\r\n\r\nclass BeerDetailScreen extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            beer: this.props.modelHolder.getBeer(),\r\n            overlay : false,\r\n            beerReview : \"\",\r\n            beerRating : 2.5,\r\n            addReview: false,\r\n            selectedOptions : [{value: this.props.modelHolder.getUser().getCheckInLocation(), label : \"Public\"}]\r\n        };\r\n\r\n        this.props.modelHolder.setBrewer(new Brewer(this.state.beer.getBrewer()));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.solidCommunicator.fetchBeer(this.props.modelHolder.getBeer()).then(res => {});\r\n    }\r\n\r\n    onPostBeerReview = async () => {\r\n        await this.props.solidCommunicator.postBeerReview(this.state.addReview,\r\n            this.state.beer,\r\n            this.state.beerRating,\r\n            this.state.beerReview,\r\n            this.state.selectedOptions.map(res => {return res.value})\r\n        );\r\n\r\n        this.setState({\r\n            overlay: false,\r\n            beerReview : \"\",\r\n            beerRating : 2.5,\r\n            addReview: false,\r\n            selectedOptions : [{value: this.props.modelHolder.getUser().getCheckInLocation(), label : \"Public\"}]\r\n        })\r\n    }\r\n\r\n    onCheckInClick= () => {\r\n        this.setState({\r\n            overlay : true\r\n        });\r\n    }\r\n\r\n    onOverLayCancelClick= () => {\r\n        this.setState({\r\n            overlay : false\r\n        });\r\n    }\r\n\r\n    setBeerRating = (rating) => {\r\n        this.setState({\r\n            beerRating : rating\r\n        });\r\n    }\r\n\r\n    onBeerReviewChange = (text) => {\r\n        this.setState({\r\n            beerReview : text\r\n        });\r\n    }\r\n    \r\n    onAddReviewClick = () => {\r\n        this.setState({\r\n            addReview: !this.state.addReview,\r\n            beerRating: 2.5,\r\n            beerReview: \"\"\r\n        })\r\n    };\r\n\r\n    onSelectGroup = (e) => {\r\n        this.setState({\r\n            selectedOptions : e\r\n        })\r\n    };\r\n\r\n    render() {\r\n        let beer = this.state.beer;\r\n        let brewerName = beer._brewer.replace(\"https://\", \"\").replace(/\\..*/, \"\");\r\n\r\n        let groups = this.props.modelHolder.getGroups().map(res => {\r\n            return {value: res.getCheckInLocation(), label : res.getName()}\r\n        });\r\n\r\n        groups.push({value: this.props.modelHolder.getUser().getCheckInLocation(), label : \"Public\"});\r\n\r\n        return (\r\n            <section className=\"beerDetailScreen\">\r\n                <h1>\r\n                    {beer._name}\r\n                </h1>\r\n                <p>\r\n                    {beer._description}\r\n                </p>\r\n                <div>\r\n                    <button onClick= {this.onCheckInClick}>Check in beer</button>\r\n                </div>\r\n                <p>\r\n                    <Link to={`/brewer/${brewerName}`}>\r\n                        brewer\r\n                    </Link>\r\n                </p>\r\n                <p>\r\n                    containers: {beer._containers}\r\n                </p>\r\n\r\n                <BeerCheckInOverlay\r\n                 overlay = {this.state.overlay}\r\n                 beerReview = {this.state.beerReview}\r\n                 beerRating = {this.state.beerRating}\r\n                 onOverLayCancelClick = {this.onOverLayCancelClick}\r\n                 setBeerRating = {this.setBeerRating}\r\n                 onBeerReviewChange = {this.onBeerReviewChange}\r\n                 onAddReviewClick = {this.onAddReviewClick}\r\n                 addReview = {this.state.addReview}\r\n                 checkInBeer = {this.onPostBeerReview}\r\n                 groupsOptions = {groups}\r\n                 onSelect = {this.onSelectGroup}\r\n                 selectedOptions = {this.state.selectedOptions}\r\n                />\r\n                \r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BeerDetailScreen;\r\n","import React from \"react\";\r\nimport \"../css/BrewerPage.scss\"\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass BrewerPage extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {\r\n            brewer: this.props.modelHolder.getBrewer()\r\n        }\r\n\r\n        this.getBrewer();\r\n    }\r\n\r\n    getBrewer = () => {\r\n        this.props.solidCommunicator.getBrewerInformation(this.state.brewer).then(res => {\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let section;\r\n        let brewer = this.state.brewer;\r\n        let beers;\r\n\r\n        if (brewer.getGroep()) {\r\n            section = (\r\n                <div>\r\n                    <h1>\r\n                        {this.state.brewer._name}\r\n                    </h1>\r\n                    <p>{brewer._groep}</p>\r\n                    <p>{brewer._opgericht}</p>\r\n                    <p>{brewer._owners.join(\", \")}</p>\r\n                    <p>{brewer._provincie}</p>\r\n                    <p>{brewer._email}</p>\r\n                    <p>{brewer._taxid}</p>\r\n                    <p>{brewer._telephone}</p>\r\n                    <p>{brewer._url}</p>\r\n                    <p>{brewer._postalcode}</p>\r\n                    <p>{brewer._streetAdress}</p>\r\n                    <p>{brewer._addressRegion}</p>\r\n                    <p>{brewer._addressLocality}</p>\r\n                </div>\r\n            )\r\n\r\n            if (brewer._beers) {\r\n                beers = brewer._beers.map(listItem => {\r\n                    return ( <li key = {listItem._location}>\r\n                            <Link to={{\r\n                                pathname: `/beer/${listItem._name}`,\r\n                                state: {\r\n                                    beer : listItem\r\n                                }\r\n                            }} onClick={this.props.onLinkClick}>\r\n                                {listItem._name}\r\n                            </Link>\r\n                        </li>\r\n                    )\r\n                })\r\n            }\r\n        }\r\n\r\n        return (\r\n            <section className=\"brewerPage\">\r\n                {section}\r\n\r\n                <br/>\r\n                <br/>\r\n\r\n                <h3>Beers</h3>\r\n                <ul>\r\n                    {beers}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BrewerPage;","import React from 'react';\r\nimport \"../css/GroupDetail.scss\";\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\nimport Star from '../../assets/star.png';\r\n\r\nclass GroupDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            group: this.props.modelHolder.getGroupFromIndex(this.props.match.params.id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let userCheckIns = this.state.group.getCheckInHandler().getUserCheckIns();\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key={checkIn._fileLocation} checkin={checkIn}/>\r\n            )\r\n        });\r\n\r\n        let groupMembers = this.state.group.getMembers();\r\n        groupMembers.push(this.state.group.getLeader());\r\n        groupMembers.sort((a, b) => {\r\n            return b.points - a.points;\r\n        })\r\n\r\n        groupMembers = groupMembers.map(res => {\r\n            let name;\r\n\r\n            if (this.state.group.getLeader()) {\r\n                name = (<p>{res === this.state.group.getLeader() ? <img src={Star} title=\"leader\"/> : undefined}\r\n                    {res.member + \" [\" + res.points + \"]\"}\r\n                </p>);\r\n            }\r\n\r\n            return (<li key={res}>\r\n                    {name}\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <section className=\"groupDetailScreen\">\r\n                <h1>{this.state.group.getName()}</h1>\r\n                <div className=\"groupDetailSection\">\r\n                    <div className=\"participants\">\r\n                        <h2>\r\n                            Users\r\n                        </h2>\r\n                        <ul>\r\n                            {groupMembers}\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"checkInsGroup\">\r\n                        <h2>\r\n                            Checkins\r\n                        </h2>\r\n                        <ul>\r\n                            {userCheckIns}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GroupDetail;","import React from 'react';\r\n\r\nimport {Switch, Route, withRouter, Redirect} from \"react-router-dom\";\r\n\r\n/**\r\n * Imported Pages\r\n */\r\nimport Home from './page/Home'\r\nimport LogIn from './page/LogIn'\r\nimport Groups from './page/Groups';\r\nimport Friends from './page/Friends';\r\nimport FriendsPage from './page/FriendPage';\r\nimport CheckIns from './page/CheckIns';\r\nimport BeerResults from './page/BeerResults';\r\nimport Profile from './page/Profile';\r\nimport UserPage from './page/User';\r\nimport Inbox from './page/Inbox';\r\nimport BeerDetailScreen from './page/BeerDetailScreen';\r\nimport BrewerPage from './page/BrewerPage';\r\nimport GroupDetail from \"./page/GroupDetail\";\r\n\r\nclass AppRoutes extends React.Component {\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/\"\r\n                       component={Home}\r\n                       isLoggedIn={this.props.loggedIn}\r\n                       solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute path=\"/user\"\r\n                              component={UserPage}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/beer/:id\"\r\n                              component={BeerDetailScreen}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/brewer/:id\"\r\n                              component={BrewerPage}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute exact path=\"/friend\"\r\n                              component={Friends}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}\r\n                              solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute path=\"/friend/:id\"\r\n                              component={FriendsPage}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/beerresults\"\r\n                              component={BeerResults}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              onLinkClick={this.props.clearSearchQuery}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/groups/:id\"\r\n                              component={GroupDetail}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}\r\n                              solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute exact path=\"/groups\"\r\n                              component={Groups}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}\r\n                              solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute path='/profile'\r\n                              component={Profile}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path='/checkIns'\r\n                              component={CheckIns}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path='/inbox'\r\n                              component={Inbox}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRouteLogIn path=\"/login\"\r\n                                   component={LogIn}\r\n                                   isLoggedIn={this.props.loggedIn}\r\n                                   onLoggedIn={this.props.onLoggedIn}/>\r\n            </Switch>)\r\n    }\r\n}\r\n\r\nconst PrivateRoute = ({component: Component, isLoggedIn, ...rest}) => (\r\n    <Route {...rest} render={(props) => (\r\n        isLoggedIn\r\n            ? <Component {...props} {...rest}/>\r\n            : <Redirect to='/'/>\r\n    )}/>\r\n)\r\n\r\nconst PrivateRouteLogIn = ({component: Component, isLoggedIn, onLoggedIn, ...rest}) => (\r\n    <Route {...rest} render={(props) => (\r\n        !isLoggedIn\r\n            ? <Component onLoggedIn={onLoggedIn} {...props} />\r\n            : <Redirect to='/profile'/>\r\n    )}/>\r\n)\r\n\r\nexport default withRouter(AppRoutes);","import React from 'react';\r\nimport '../css/AclErrorPage.scss';\r\n\r\nclass AclErrorPage extends React.Component{\r\n    render(){\r\n        //TODO geef detailed instuctie om het op te lossen.\r\n\r\n        return (<section className = \"aclErrorPage\">\r\n            <h1>\r\n             The application does not have correct access. please give the application read, write, append and control access. \r\n            </h1>\r\n        </section>)\r\n    }\r\n}\r\n\r\nexport default AclErrorPage;","import React from 'react';\r\nimport '../css/FetchingPage.scss';\r\n\r\nclass FetchingPage extends React.Component {\r\n    render() {\r\n        return (\r\n            <section className= \"rendering\">\r\n                <h1>Fetching data</h1>\r\n                <div id=\"fetchinAnimation\"></div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FetchingPage;","import Observable from \"./Observable\";\r\n\r\nclass User extends Observable{\r\n    constructor(uri){\r\n        super();\r\n        this._uri = uri\r\n        this._name =  this.getUserName(uri);\r\n        this._imageUrl = undefined;\r\n        this._startDate = undefined;\r\n        this._appFolder = undefined;\r\n        this._beerDrinkerFoler = undefined;\r\n        this._checkInFolder = undefined;\r\n    }\r\n\r\n    setUri(uri){\r\n        this._uri = uri;\r\n\r\n        if(!this._name){\r\n            this._name = this.getUserName(uri);\r\n        }\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    loadInUserValues(name, imageURL, appFolder,beerDrinkerFolder, checkInFolder){\r\n        if(name){\r\n            this._name = name;\r\n        }\r\n\r\n        this._imageUrl = imageURL;\r\n        this._appFolder = appFolder;\r\n        this._beerDrinkerFoler = beerDrinkerFolder;\r\n        this._checkInFolder = checkInFolder;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    loadInAppData(startDate){\r\n        this._startDate = startDate;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUri(){\r\n        return this._uri;\r\n    }\r\n\r\n    getUserName(uri){\r\n        return  uri.replace(\"https://\", \"\").replace(/\\..*/, \"\");\r\n    }\r\n\r\n    getAppFolder(){\r\n        return this._appFolder;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getBeginDate(){\r\n        if(this._startDate){\r\n            return new Date(this._startDate.getTime());\r\n        }else {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    getImageUrl(){\r\n        return this._imageUrl;\r\n    }\r\n\r\n    getBeerDrinkerFolder(){\r\n        return this._beerDrinkerFoler;\r\n    }\r\n\r\n    getCheckInLocation(){\r\n        return this._checkInFolder;\r\n    }\r\n}\r\n\r\nexport default User;","import CheckInHandler from \"./HolderComponents/CheckInHandler\";\r\nimport User from \"./HolderComponents/User\";\r\nimport Observable from \"./HolderComponents/Observable\";\r\n\r\nclass ModelHolder extends Observable {\r\n    constructor() {\r\n        super();\r\n        this._user = new User(\"\");\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._friends = [];\r\n\r\n        this._brewer = undefined;\r\n        this._slectedBeer = undefined;\r\n\r\n        this._beers = [];\r\n        this._groups = [];\r\n        this._inboxMessages = [];\r\n\r\n        this._checkInHandler.subscribe(this);\r\n        this._user.subscribe(this);\r\n    }\r\n\r\n    setInboxMessages(inboxMessages){\r\n        this._inboxMessages.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._inboxMessages = inboxMessages;\r\n\r\n        this._inboxMessages.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n    }\r\n\r\n    getInboxMessages(){\r\n        return this._inboxMessages;\r\n    }\r\n\r\n    spliceAtIndex(index){\r\n        this._inboxMessages.splice(index, 1);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addFriends(newFriends) {\r\n        newFriends.forEach(res => {\r\n            res.subscribe(this);\r\n        })\r\n\r\n        this._friends = this._friends.concat(newFriends)\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addFriend(newFriend) {\r\n        newFriend.subscribe(this);\r\n        this._friends.push(newFriend);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getFriendFromIndex(index) {\r\n        return this._friends[index];\r\n    }\r\n\r\n    getFriends() {\r\n        return this._friends;\r\n    }\r\n\r\n    clearAll() {\r\n        this._user.unsubscribe(this);\r\n        this._checkInHandler.unsubscribe(this);\r\n        this._checkInHandler.clearAll();\r\n\r\n        if (this._slectedBeer) {\r\n            this._slectedBeer.unsubscribe(this);\r\n        }\r\n\r\n        if (this._brewer) {\r\n            this._brewer.unsubscribe(this);\r\n        }\r\n\r\n        this._friends.forEach(res => {\r\n            res.unsubscribe(this);\r\n            res.clearAll();\r\n        });\r\n\r\n        this._groups.forEach(res => {\r\n            res.unsubscribe(this);\r\n            res.clearAll();\r\n        });\r\n\r\n        this._beers.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._inboxMessages.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._user = new User(\"\");\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._friends = [];\r\n        this._groups = [];\r\n        this._beers = [];\r\n        this._inboxMessages = [];\r\n        this._brewer = undefined;\r\n        this._slectedBeer = undefined;\r\n    }\r\n\r\n    getUser() {\r\n        return this._user;\r\n    }\r\n\r\n    getCheckInHandler() {\r\n        return this._checkInHandler;\r\n    }\r\n\r\n    setGroups(groups) {\r\n        this._groups.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n\r\n        this._groups = groups;\r\n\r\n        this._groups.forEach(res => {\r\n            res.subscribe(this);\r\n        })\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addGroup(group) {\r\n        this._groups.push(group);\r\n        group.subscribe(this);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getGroups() {\r\n        return this._groups;\r\n    }\r\n\r\n    getBrewer() {\r\n        return this._brewer;\r\n    }\r\n\r\n    setBrewer(brewer) {\r\n        if (this._brewer) {\r\n            this._brewer.unsubscribe();\r\n        }\r\n\r\n        this._brewer = brewer;\r\n        this._brewer.subscribe(this);\r\n    }\r\n\r\n    getBeers() {\r\n        return this._beers;\r\n    }\r\n\r\n    setBeers(beers) {\r\n        this._beers = beers;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getBeer() {\r\n        return this._slectedBeer;\r\n    }\r\n\r\n    setBeer(beer) {\r\n        if (this._slectedBeer) {\r\n            this.unsubscribe(this)\r\n        }\r\n\r\n        this._slectedBeer = beer;\r\n        beer.subscribe(this);\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    update() {\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getFriendFromUri(uri) {\r\n        for (let i = 0; i < this._friends.length; i++) {\r\n            if (this._friends[i].getUri() === uri) {\r\n                return this._friends[i];\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    getGroupFromIndex(index) {\r\n        return this._groups[index];\r\n    }\r\n\r\n    getGroupFromCheckInLocationUri(uri){\r\n        for (let i = 0; i < this._groups.length; i++) {\r\n            if (this._groups[i].getCheckInLocation() === uri) {\r\n                return this._groups[i];\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n}\r\n\r\nexport default ModelHolder;","/**\n * Libs\n */\nimport React from 'react';\nimport solidAuth from 'solid-auth-client';\nimport {Link, withRouter} from \"react-router-dom\";\nimport SolidCommunicator from './solid/SolidCommunicator';\n\n/**\n * Components\n */\nimport NavBar from './component/NavBar';\nimport AppRoutes from './routes/AppRoutes';\nimport AclErrorPage from './routes/extrapage/AclErrorPage';\nimport FetchingPage from './routes/extrapage/FetchingPage';\n\n/**\n * Errors\n */\nimport AccessError from './error/AccessError';\n\n/**\n * Assests\n */\nimport './App.scss';\nimport Knipsel from './assets/Knipsel.png';\nimport ModelHolder from \"./model/ModelHolder\";\nimport Logo from \"./assets/logo.png\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loggedIn: false,\n            searchQuery: '',\n            modelHolder: new ModelHolder(),\n            solidCommunicator: undefined,\n            accessError: false,\n            fetchingFiles: false\n        };\n\n        this.state.modelHolder.subscribe(this);\n    }\n\n    componentDidMount() {\n        this.checkLoggedIn();\n    }\n\n    update = () => {\n        this.setState({\n            modelHolder: this.state.modelHolder\n        })\n    };\n\n    clearSearchQuery = () => {\n        this.setState({\n            searchQuery: ''\n        })\n    };\n\n    checkLoggedIn = async () => {\n        let session = await solidAuth.currentSession();\n        //TODO error handling\n\n        if (session) {\n            this.setState({\n                fetchingFiles: true\n            });\n\n            //make new user\n            this.state.modelHolder.getUser().setUri(session.webId);\n\n            try {\n                let solidCommunicator = await SolidCommunicator.build(this.state.modelHolder);\n\n                this.setState({\n                    solidCommunicator: solidCommunicator,\n                    loggedIn: true,\n                    fetchingFiles: false\n                });\n\n                this.props.history.push(`/profile`)\n            } catch (e) {\n                if (e instanceof AccessError) {\n                    this.setState({\n                        accessError: true,\n                        fetchingFiles: false\n                    })\n                } else {\n                    throw e; // let others bubble up\n                }\n            }\n        }\n    };\n\n    onClickLogOut = () => {\n        solidAuth.logout().then(res => {\n            this.state.modelHolder.clearAll();\n\n            this.setState({\n                loggedIn: false,\n                userObject: undefined,\n                accessError: false\n            });\n        });\n    };\n\n    onLoggedIn = () => {\n        this.checkLoggedIn();\n    };\n\n    onBeerSearch = (text) => {\n        let location = this.props.location.pathname;\n\n        this.setState({\n            searchQuery: text\n        });\n\n        if (text) {\n            if (location !== \"/beerresults\") {\n                this.props.history.push(\"/beerresults\");\n            }\n\n            /**\n             * Vindt hier de bier\n             */\n        } else {\n            this.props.history.goBack();\n        }\n    };\n\n    onDeleteButtonClicked = () =>{\n      this.clearSearchQuery();\n      if (this.props.location.pathname === \"/beerresults\") {\n        this.props.history.goBack();\n      }\n    }\n\n    render() {\n        let navBar;\n        let app;\n\n        if (this.state.fetchingFiles) {\n            navBar = (\n                <NavBar onSearchBarButtonClick={this.onDeleteButtonClicked}>\n                    <Link to=\"/\">&nbsp;</Link>\n                </NavBar>)\n        } else if (this.state.accessError) {\n            navBar = (\n                <NavBar onSearchBarButtonClick={this.onDeleteButtonClicked}>\n                    <Link to=\"/\" onClick={this.onClickLogOut}>Log out</Link>\n                </NavBar>)\n        } else if (this.state.loggedIn) {\n            navBar = (\n                <NavBar onSearchBarButtonClick={this.onDeleteButtonClicked}\n                        onBeerSearch={this.onBeerSearch}\n                        loggedIn={this.state.loggedIn}\n                        searchQuery={this.state.searchQuery}>\n                    <Link to=\"/profile\">Profile</Link>\n                    <Link to=\"/friend\">Friends</Link>\n                    <Link to=\"/groups\">Groups</Link>\n                    <Link to=\"/inbox\">Inbox</Link>\n                    <Link to=\"/\" onClick={this.onClickLogOut}>Log out</Link>\n                </NavBar>\n            )\n        } else {\n            navBar = (\n                <NavBar onBeerSearch={this.onBeerSearch} loggedIn={this.state.loggedIn}>\n                    <Link to=\"/LogIn\">Log in</Link>\n                </NavBar>\n            )\n        }\n\n        if (this.state.fetchingFiles) {\n            app = (<FetchingPage/>);\n        } else if (this.state.accessError) {\n            app = (<AclErrorPage/>);\n        } else {\n            app = (<AppRoutes\n                loggedIn={this.state.loggedIn}\n                modelHolder={this.state.modelHolder}\n                solidCommunicator={this.state.solidCommunicator}\n                clearSearchQuery={this.clearSearchQuery}\n                onLoggedIn={this.onLoggedIn}\n            />)\n        }\n\n        return (\n            <div id=\"AppRoot\">\n                <header>\n                    <Link to=\"/\">\n                        <img src={Logo}/>\n                    </Link>\n                    {navBar}\n                </header>\n\n                {app}\n                <footer>\n          <span>\n            This application works with\n            </span>\n                    <a href=\"https://solid.inrupt.com\">\n                        <img alt=\"Solid inrupt\" src={Knipsel}/>\n                    </a>\n                </footer>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter, HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n <HashRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/profilePic.b6681619.png\";"],"sourceRoot":""}