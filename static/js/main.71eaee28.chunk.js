(window["webpackJsonpsocial-linked-beer"]=window["webpackJsonpsocial-linked-beer"]||[]).push([[0],{130:function(e,t,n){e.exports=n.p+"static/media/Knipsel.4dafcfef.png"},262:function(e,t,n){},266:function(e,t){e.exports="data:image/png;base64,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"},267:function(e,t,n){e.exports=n.p+"static/media/logo.94a104b9.png"},272:function(e,t,n){e.exports=n(527)},295:function(e,t){},300:function(e,t){},311:function(e,t){},312:function(e,t){},323:function(e,t){},325:function(e,t){},333:function(e,t){},335:function(e,t){},375:function(e,t){},377:function(e,t){},425:function(e,t){},426:function(e,t){},485:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=485},505:function(e,t,n){},506:function(e,t,n){},507:function(e,t,n){},508:function(e,t,n){},509:function(e,t,n){},514:function(e,t,n){},515:function(e,t,n){},516:function(e,t,n){},517:function(e,t,n){},518:function(e,t,n){},519:function(e,t,n){},520:function(e,t,n){},521:function(e,t,n){},522:function(e,t,n){},523:function(e,t,n){},524:function(e,t,n){},525:function(e,t,n){},526:function(e,t,n){},527:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(66),s=n.n(i),o=n(5),c=n.n(o),u=n(12),l=n(2),d=n(3),p=n(9),h=n(8),m=n(1),f=n(10),g=n(54),v=n.n(g),b=n(25),k=n(76),y=function(){function e(){Object(l.a)(this,e),this._subscribers=[]}return Object(d.a)(e,[{key:"updateSubscribers",value:function(){this._subscribers.map((function(e){return e.update()}))}},{key:"subscribe",value:function(e){this._subscribers.push(e)}},{key:"unsubscribe",value:function(e){this._subscribers.filter((function(t){return t!==e}))}}]),e}(),w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this)))._fileLocation=e,n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"getFileLocation",value:function(){return this._fileLocation}},{key:"loadInAttributes",value:function(e,t,n,r,a,i,s){this._type=i?"BeerReview":"BeerCheckIn",this._userWebId=e,this._userName=t,this._beerLocation=n,this._beerName=r,this._checkInTime=a,this._rating=i,this._review=s,this.updateSubscribers()}}]),t}(y),x="SocialLinkedBeer",C="sociallinkedbeer",I="checkins/",E="beerdrinker/",O="text/turtle",_="inbox/",j="appdata.ttl",U="friends.ttl",A="appdata",B="friends",S="Friends",F="FriendsRequested",R="groups/",L="Members",H="groupdata.ttl",N="checkinIndex.ttl",D="_BeerReview",G="Social_Linked_Beer_FriendschipRequestAccepted_from_",q=n(7),M=q.Namespace("http://www.w3.org/ns/solid/terms#"),T=q.Namespace("http://www.w3.org/ns/pim/space#"),P=q.Namespace("http://www.w3.org/2006/vcard/ns#"),V=q.Namespace("http://purl.org/dc/terms/"),J=q.Namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),Q=q.Namespace("https://ozcanseker.inrupt.net/solidlinkedbeer#"),K=q.Namespace("http://xmlns.com/foaf/0.1/"),W=q.Namespace("http://www.w3.org/ns/ldp#"),Z=q.Namespace("http://dbeerpedia.com/def#"),z=q.Namespace("http://schema.org/"),Y=q.Namespace("http://www.w3.org/ns/auth/acl#"),X=n(23),$=n(54),ee=n(7);function te(e,t,n){return ne.apply(this,arguments)}function ne(){return(ne=Object(u.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.fetch(t,{method:"POST",headers:{"Content-Type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#Resource>; rel="type"',SLUG:n},body:r});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.fetch(t,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:n});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u,l,d,p,h,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.fetch(t);case 2:if(r=e.sent,a=ee.graph(),403!==r.status){e.next=8;break}throw new Error("403: user unauthorized");case 8:if(!(r.status>400)){e.next=10;break}throw new Error("Something went wrong, check if the profile card is correct");case 10:return e.next=12,r.text();case 12:r=e.sent,e.prev=13,ee.parse(r,a,t,"text/turtle"),e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(13),new Error("Not a correct profile linked data file");case 20:if(!a.any(void 0,void 0,K("PersonalProfileDocument"))){e.next=43;break}if(i=ee.sym(t),!(s=a.any(i,M("publicTypeIndex")))){e.next=40;break}return e.next=27,X.readFile(s.value);case 27:return o=e.sent,u=ee.graph(),ee.parse(o,u,s.value,"text/turtle"),l=ee.sym(s.value+"#"+x),d=u.any(l,M("instance")),(p=a.any(i,P("fn")))||(p=a.any(i,K("name"))),h=a.any(i,P("hasPhoto")),d||(n=a.any(i,W("inbox"))),m={url:t,name:p?p.value:void 0,imageUrl:h?h.value:void 0,appLocation:d?d.value:void 0,inbox:n?n.value:void 0},e.abrupt("return",m);case 40:throw new Error("no ppi");case 41:e.next=44;break;case 43:throw new Error("not a profile card");case 44:case"end":return e.stop()}}),e,null,[[13,17]])})))).apply(this,arguments)}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t.getUri());case 2:n=e.sent,t.setUserDetails(n.name,n.imageUrl,n.appLocation+E),r=n.appLocation+E+j,X.readFile(r).then((function(e){var n=ee.graph();ee.parse(e,n,r,"text/turtle");var a=n.any(void 0,Q("startdate")),i=n.any(a,Q("startdate")),s=n.any(a,Q("points"));t.setAppData(new Date(i.value)),t.getCheckInHandler().setBeerPoints(s.value)})),ue(t.getBeerDrinkerFolder()).then((function(e){t.getCheckInHandler().setReviesCheckInsAndUserCheckIns(e.reviews,e.checkIns,e.userBeerCheckIns)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return le.apply(this,arguments)}function le(){return(le=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+I,e.next=3,X.readFolder(n);case 3:for(r=e.sent.files.reverse(),a=[],i=0,s=0,o=0;o<r.length;o++)o<10&&(he(u=new w(r[o].url)),a.push(u)),r[o].url.includes(D)?s++:i++;return e.abrupt("return",{userBeerCheckIns:a,reviews:s,checkIns:i});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+I,e.next=3,X.readFolder(n);case 3:for(r=e.sent.files.reverse(),a=[],i=0,s=0,o=0;o<r.length;o++)he(u=new w(r[o].url)),a.push(u),r[o].url.includes(D)?s++:i++;return e.abrupt("return",{userBeerCheckIns:a,reviews:s,checkIns:i});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return me.apply(this,arguments)}function me(){return(me=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X.readFile(t.getFileLocation()).then((function(e){var n=ee.graph(),r=ee.sym(t.getFileLocation());ee.parse(e,n,t.getFileLocation(),"text/turtle");var a=n.any(r,Q("webId")),i=n.any(r,Q("username")),s=n.any(r,Q("beerLocation")),o=n.any(r,Q("beerName")),c=n.any(r,Q("checkInTime")),u=n.any(r,Q("rating")),l=n.any(r,Q("review"));t.loadInAttributes(a.value,i?i.value:void 0,s.value,o.value,c.value,u?u.value:void 0,l?l.value:void 0)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe=n(7),ge=n(91);function ve(e,t,n,r){var a=fe.graph(),i=fe.blankNode();return a.add(i,J("type"),Q("Invitation")),a.add(i,Q("invitationTo"),fe.sym("https://ozcanseker.github.io/Social-linked-beer/")),a.add(i,Q("from"),fe.sym(r)),a.add(i,Q("to"),fe.sym(e)),a.add(i,Q("description"),t),ge.a(void 0,a,n,"text/turtle")}function be(e,t,n,r){var a=fe.graph(),i=fe.blankNode();return a.add(i,J("type"),Q("FriendshipRequest")),a.add(i,Q("from"),fe.sym(r)),a.add(i,Q("to"),fe.sym(e)),a.add(i,Q("description"),t),ge.a(void 0,a,n,"text/turtle")}function ke(e,t,n,r){var a=fe.graph(),i=fe.blankNode();return a.add(i,J("type"),Q("FriendschipRequestDecline")),a.add(i,Q("from"),fe.sym(r)),a.add(i,Q("to"),fe.sym(e)),a.add(i,Q("description"),t),ge.a(void 0,a,n,"text/turtle")}function ye(e,t,n,r){var a=fe.graph(),i=fe.blankNode();return a.add(i,J("type"),Q("FriendschipRequestAccepted")),a.add(i,Q("from"),fe.sym(r)),a.add(i,Q("to"),fe.sym(e)),a.add(i,Q("description"),t),ge.a(void 0,a,n,"text/turtle")}function we(e,t,n,r,a,i){var s=fe.graph(),o=fe.blankNode();return s.add(o,J("type"),Q("GroupInvitation")),s.add(o,Q("from"),fe.sym(r)),s.add(o,Q("to"),fe.sym(e)),s.add(o,Q("description"),t),s.add(o,Q("location"),fe.sym(a)),s.add(o,Q("groupName"),i),ge.a(void 0,s,n,"text/turtle")}function xe(e,t,n,r,a,i){var s=fe.graph(),o=fe.sym(e);return s.add(o,J("type"),Q("CheckIn")),s.add(o,Q("webId"),fe.sym(n)),t&&s.add(o,Q("username"),t),s.add(o,Q("beerLocation"),fe.sym(r)),s.add(o,Q("beerName"),a),s.add(o,Q("checkInTime"),i),ge.a(void 0,s,e,"text/turtle")}function Ce(e,t,n,r,a,i,s,o){var c=fe.graph(),u=fe.sym(e);return c.add(u,J("type"),Q("CheckReview")),c.add(u,Q("webId"),fe.sym(n)),t&&c.add(u,Q("username"),t),c.add(u,Q("beerLocation"),fe.sym(r)),c.add(u,Q("beerName"),a),c.add(u,Q("checkInTime"),i),c.add(u,Q("rating"),s),c.add(u,Q("review"),o),ge.a(void 0,c,e,"text/turtle")}function Ie(e,t,n,r){var a=fe.graph(),i=fe.sym(e+"#"+L);return a.add(i,J("type"),P("Group")),a.add(i,P("hasUID"),fe.sym("urn:uuid:8831CBAD-1111-2222-8563-F0F4787E5398:ABGroup")),a.add(i,P("hasLeader"),fe.sym(n)),t.forEach((function(e){a.add(i,P("hasMember"),fe.sym(e.getUri()))})),a.add(i,z("name"),r),ge.a(void 0,a,e,"text/turtle")}function Ee(e,t,n,r){var a=fe.graph(),i=fe.sym(n+"#Owner"),s=fe.sym(r),o=fe.sym(t+"#"+L),c=fe.sym(e);return a.add(i,J("type"),Y("Authorization")),a.add(i,Y("accessTo"),c),a.add(i,Y("default"),c),a.add(i,Y("agent"),s),a.add(i,Y("mode"),Y("Control")),a.add(i,Y("mode"),Y("Read")),a.add(i,Y("mode"),Y("Write")),a.add(o,J("type"),Y("Authorization")),a.add(o,Y("accessTo"),c),a.add(o,Y("default"),c),a.add(o,Y("agentGroup"),o),a.add(o,Y("mode"),Y("Read")),ge.a(void 0,a,n,"text/turtle")}function Oe(e,t,n,r){var a=fe.graph(),i=fe.sym(n+"#Owner"),s=fe.sym(r),o=fe.sym(t+"#"+L),c=fe.sym(e);return a.add(i,J("type"),Y("Authorization")),a.add(i,Y("accessTo"),c),a.add(i,Y("default"),c),a.add(i,Y("agent"),s),a.add(i,Y("mode"),Y("Control")),a.add(i,Y("mode"),Y("Read")),a.add(i,Y("mode"),Y("Write")),a.add(o,J("type"),Y("Authorization")),a.add(o,Y("accessTo"),c),a.add(o,Y("default"),c),a.add(o,Y("agentGroup"),o),a.add(o,Y("mode"),Y("Read")),a.add(o,Y("mode"),Y("Append")),ge.a(void 0,a,n,"text/turtle")}function _e(e,t){var n=fe.graph(),r=fe.blankNode();return n.add(r,J("type"),P("Group")),n.add(r,Q("location"),fe.sym(e)),ge.a(void 0,n,t,"text/turtle")}function je(e,t,n){var r=fe.graph(),a=fe.sym(e+"#"+L);r.add(a,J("type"),P("Group")),t.forEach((function(e){var t=fe.sym(e.getUri());r.add(a,P("hasMember"),t),r.add(t,Q("points"),0)}));var i=fe.sym(n.getUri());return r.add(a,P("hasMember"),i),r.add(i,Q("points"),0),ge.a(void 0,r,e,"text/turtle")}function Ue(e,t,n,r){var a=fe.graph(),i=fe.sym(n+"#Owner"),s=fe.sym(r),o=fe.sym(t+"#"+L),c=fe.sym(e);return a.add(i,J("type"),Y("Authorization")),a.add(i,Y("accessTo"),c),a.add(i,Y("default"),c),a.add(i,Y("agent"),s),a.add(i,Y("mode"),Y("Control")),a.add(i,Y("mode"),Y("Read")),a.add(i,Y("mode"),Y("Write")),a.add(o,J("type"),Y("Authorization")),a.add(o,Y("accessTo"),c),a.add(o,Y("default"),c),a.add(o,Y("agentGroup"),o),a.add(o,Y("mode"),Y("Read")),a.add(o,Y("mode"),Y("Write")),a.add(o,Y("mode"),Y("Append")),ge.a(void 0,a,n,"text/turtle")}var Ae=n(23);function Be(e,t,n,r,a){return Se.apply(this,arguments)}function Se(){return(Se=Object(u.a)(c.a.mark((function e(t,n,r,a,i){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(n,t,r,a);case 2:return s=e.sent,e.next=5,Me(s,i);case 5:return e.next=7,Fe(2e3);case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return new Promise((function(t){setTimeout(t,e)}))}function Re(e,t){return Le.apply(this,arguments)}function Le(){return(Le=Object(u.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t+E+R,e.next=3,v.a.fetch(r);case 3:if(404!==e.sent.status){e.next=11;break}return a=r+".acl",e.next=8,Ae.createFolder(r);case 8:return i=Ze(r,a,n),e.next=11,re(a,i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t,n,r){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(u.a)(c.a.mark((function e(t,n,r,a){var i,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(r);case 2:return i=e.sent,s=fe.sym(i),t.add(n,V("references"),a),t.add(a,J("type"),M("TypeRegistration")),t.add(a,M("instance"),s),e.next=9,ge.a(void 0,t,n.value,O);case 9:return o=e.sent,e.next=12,re(n.value,o);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(u.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+C+"/",e.next=3,v.a.fetch(n);case 3:if(!(e.sent.status%400<100)){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",n=t+C+qe(10)+"/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*r));return t}function Me(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(u.a)(c.a.mark((function e(t,n){var r,a,i,s,o,u,l,d,p,h,m,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t+".acl",e.next=3,Ae.createFolder(t);case 3:return r=Ve(t,a,n),e.next=6,re(a,r);case 6:return i=t+E,e.next=9,Ae.createFolder(i);case 9:return r=Je(s=i+U),e.next=13,te(i,B,r);case 13:return u=(o=i+j)+".acl",r=Pe(o),e.next=18,te(i,A,r);case 18:return r=We(o,u,n,s),e.next=21,re(u,r);case 21:return r=Qe(l=i+_,d=l+".acl",n),e.next=26,Ae.createFolder(l);case 26:return e.next=28,re(d,r);case 28:return h=(p=i+I)+".acl",e.next=32,Ae.createFolder(p);case 32:return r=Ke(p,h,n,s),e.next=35,re(h,r);case 35:return f=(m=i+R)+".acl",e.next=39,Ae.createFolder(m);case 39:return r=Ze(m,f,n),e.next=42,re(f,r);case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){var t=fe.graph(),n=fe.blankNode();return t.add(n,Q("startdate"),new Date),t.add(n,Q("points"),0),ge.a(void 0,t,e,"text/turtle")}function Ve(e,t,n){var r=fe.graph(),a=fe.sym(t+"#Owner"),i=fe.sym(e),s=fe.sym(n);return r.add(a,J("type"),Y("Authorization")),r.add(a,Y("accessTo"),i),r.add(a,Y("default"),i),r.add(a,Y("agent"),s),r.add(a,Y("mode"),Y("Control")),r.add(a,Y("mode"),Y("Read")),r.add(a,Y("mode"),Y("Write")),ge.a(void 0,r,t,"text/turtle")}function Je(e){var t=fe.graph(),n=fe.sym(e+"#Friends"),r=fe.sym(e+"#FriendsRequested");return t.add(n,J("type"),P("Group")),t.add(n,P("hasUID"),fe.sym("urn:uuid:8831CBAD-1111-2222-8563-F0F4787E5398:ABGroup")),t.add(r,J("type"),P("Group")),t.add(r,P("hasUID"),fe.sym("urn:uuid:8831CBAD-1111-2222-8563-F0F4787E5398:CDGroup")),ge.a(void 0,t,e,"text/turtle")}function Qe(e,t,n){var r=fe.graph(),a=fe.sym(t+"#Owner"),i=fe.sym(t+"#Public"),s=fe.sym(e),o=fe.sym(n);return r.add(a,J("type"),Y("Authorization")),r.add(a,Y("accessTo"),s),r.add(a,Y("default"),s),r.add(a,Y("agent"),o),r.add(a,Y("mode"),Y("Control")),r.add(a,Y("mode"),Y("Read")),r.add(a,Y("mode"),Y("Write")),r.add(i,J("type"),Y("Authorization")),r.add(i,Y("accessTo"),s),r.add(i,Y("default"),s),r.add(i,Y("agentClass"),K("Agent")),r.add(i,Y("mode"),Y("Append")),ge.a(void 0,r,t,"text/turtle")}function Ke(e,t,n,r){var a=fe.graph(),i=fe.sym(t+"#Owner"),s=fe.sym(t+"#Friends"),o=fe.sym(e),c=fe.sym(n),u=fe.sym(r+"#Friends"),l=fe.sym(r+"#FriendsRequested");return a.add(i,J("type"),Y("Authorization")),a.add(i,Y("accessTo"),o),a.add(i,Y("default"),o),a.add(i,Y("agent"),c),a.add(i,Y("mode"),Y("Control")),a.add(i,Y("mode"),Y("Read")),a.add(i,Y("mode"),Y("Write")),a.add(s,J("type"),Y("Authorization")),a.add(s,Y("accessTo"),o),a.add(s,Y("default"),o),a.add(s,Y("agentGroup"),u),a.add(s,Y("agentGroup"),l),a.add(s,Y("mode"),Y("Read")),a.add(s,Y("mode"),Y("Append")),ge.a(void 0,a,t,"text/turtle")}function We(e,t,n,r){var a=fe.graph(),i=fe.sym(t+"#Owner"),s=fe.sym(t+"#Friends"),o=fe.sym(e),c=fe.sym(n),u=fe.sym(r+"#Friends"),l=fe.sym(r+"#FriendsRequested");return a.add(i,J("type"),Y("Authorization")),a.add(i,Y("accessTo"),o),a.add(i,Y("default"),o),a.add(i,Y("agent"),c),a.add(i,Y("mode"),Y("Control")),a.add(i,Y("mode"),Y("Read")),a.add(i,Y("mode"),Y("Write")),a.add(s,J("type"),Y("Authorization")),a.add(s,Y("accessTo"),o),a.add(s,Y("default"),o),a.add(s,Y("agentGroup"),u),a.add(s,Y("agentGroup"),l),a.add(s,Y("mode"),Y("Read")),ge.a(void 0,a,t,"text/turtle")}function Ze(e,t,n){var r=fe.graph(),a=fe.sym(t+"#Owner"),i=fe.sym(e),s=fe.sym(n);return r.add(a,J("type"),Y("Authorization")),r.add(a,Y("accessTo"),i),r.add(a,Y("default"),i),r.add(a,Y("agent"),s),r.add(a,Y("mode"),Y("Control")),r.add(a,Y("mode"),Y("Read")),r.add(a,Y("mode"),Y("Write")),ge.a(void 0,r,t,"text/turtle")}var ze=n(268),Ye=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).message="Access file is not correct",n}return Object(f.a)(t,e),t}(Object(ze.a)(Error));function Xe(e){var t=e.any(void 0,Y("origin"),fe.sym("https://ozcanseker.github.io")),n=e.match(t,Y("mode"),Y("Read")),r=e.match(t,Y("mode"),Y("Write")),a=e.match(t,Y("mode"),Y("Append")),i=e.match(t,Y("mode"),Y("Control"));if(!n.length)throw new Ye("Read access");if(!r.length)throw new Ye("Write access");if(!a.length)throw new Ye("Append access");if(!i.length)throw new Ye("Control access")}var $e=n(110),et=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this)))._checkInsAmount=0,e._beerReviewsAmount=0,e._beerPoints=0,e._userCheckIns=[],e._allCheckinsGotten=!1,e}return Object(f.a)(t,e),Object(d.a)(t,[{key:"setReviesCheckInsAndUserCheckIns",value:function(e,t,n){var r=this;this._beerReviewsAmount=e,this._checkInsAmount=t,n.forEach((function(e){e.subscribe(r)})),this._userCheckIns=n,this.updateSubscribers()}},{key:"setAllCheckInsGotten",value:function(e){this._allCheckinsGotten=e}},{key:"getAllCheckInsGotten",value:function(){return this._allCheckinsGotten}},{key:"addBeerPoints",value:function(e){this._beerPoints+=e,this.updateSubscribers()}},{key:"setBeerPoints",value:function(e){this._beerPoints=e,this.updateSubscribers()}},{key:"getBeerPoints",value:function(){return this._beerPoints}},{key:"setBeerReviewsAmount",value:function(e){this._beerReviewsAmount=e,this.updateSubscribers()}},{key:"getBeerReviewsAmount",value:function(){return this._beerReviewsAmount}},{key:"addBeerReviewToAmount",value:function(){this._beerReviewsAmount++,this.updateSubscribers()}},{key:"setCheckInsAmount",value:function(e){this._checkInsAmount=e,this.updateSubscribers()}},{key:"getCheckInsAmount",value:function(){return this._checkInsAmount}},{key:"addToCheckInsAmount",value:function(){this._checkInsAmount++,this.updateSubscribers()}},{key:"setUserCheckIns",value:function(e){var t=this;this._userCheckIns.forEach((function(e){e.unsubscribe(t)})),(e=e.userBeerCheckIns).forEach((function(e){e.subscribe(t)})),this._userCheckIns=e,this.updateSubscribers()}},{key:"clearAll",value:function(){var e=this;this._userCheckIns.forEach((function(t){t.unsubscribe(e)}))}},{key:"addUserCheckIns",value:function(e){var t=this;e.forEach((function(e){e.subscribe(t)})),this._userCheckIns=e.concat(this._userCheckIns),this.updateSubscribers()}},{key:"getUserCheckIns",value:function(){return this._userCheckIns}},{key:"update",value:function(){this.updateSubscribers()}}]),t}(y),tt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this)))._profileUri=e,n._name=void 0,n._imageUrl=void 0,n._beerDrinkerFolder=void 0,n._startDate=void 0,n._checkInHandler=new et,n._checkInHandler.subscribe(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"clearAll",value:function(){this._checkInHandler.unsubscribe(this),this._checkInHandler.clearAll()}},{key:"setUserDetails",value:function(e,t,n){this._name=e||this.getUserName(this._profileUri),this._imageUrl=t,this._beerDrinkerFolder=n,this.updateSubscribers()}},{key:"setAppData",value:function(e){this._startDate=e,this.updateSubscribers()}},{key:"update",value:function(){this.updateSubscribers()}},{key:"getCheckInHandler",value:function(){return this._checkInHandler}},{key:"getUserName",value:function(e){return e.replace("https://","").replace(/\..*/,"")}},{key:"getBeerDrinkerFolder",value:function(){return this._beerDrinkerFolder}},{key:"getUri",value:function(){return this._profileUri}},{key:"getImageUrl",value:function(){return this._imageUrl}},{key:"getName",value:function(){return this._name}},{key:"getStartDate",value:function(){return this._startDate?new Date(this._startDate.getTime()):void 0}}]),t}(y),nt=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(h.a)(t).call(this)))._url=e,r._name=e,r._createdByMe=n,r._checkInHandler=new et,r._checkInHandler.subscribe(Object(m.a)(r)),r._groupLeader=void 0,r._members=[],r}return Object(f.a)(t,e),Object(d.a)(t,[{key:"setProperties",value:function(e,t,n,r,a,i){this._name=e,this._checkInsLocation=t,this._groupDataLocation=n,this._groupLeader=a,this._members=i,this._groupCheckInIndex=r,this.updateSubscribers()}},{key:"getMembers",value:function(){return this._members.slice()}},{key:"getGroupCheckInIndex",value:function(){return this._groupCheckInIndex}},{key:"getLeader",value:function(){return this._groupLeader}},{key:"setUrl",value:function(e){this._url=e,this.updateSubscribers()}},{key:"getCheckInHandler",value:function(){return this._checkInHandler}},{key:"getName",value:function(){return this._name}},{key:"getUrl",value:function(){return this._url}},{key:"getCheckInLocation",value:function(){return this._checkInsLocation}},{key:"getGroupDataFile",value:function(){return this._groupDataLocation}},{key:"clearAll",value:function(){this._checkInHandler.clearAll()}},{key:"update",value:function(){this.updateSubscribers()}}]),t}(y);function rt(e,t){return at.apply(this,arguments)}function at(){return(at=Object(u.a)(c.a.mark((function e(t,n){var r,a,i,s,o,u,l,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},a=t.getUser(),i=t.getCheckInHandler(),s=fe.sym(a.getUri()),e.next=6,dt(s.uri);case 6:return Xe(o=e.sent),e.next=10,ht(s,o);case 10:return u=e.sent,l=ft(s,o),e.next=14,gt(u.ppi,u.store,l,s.value);case 14:d=e.sent,r.sc={},p=bt(s,o),a.loadInUserValues(p.name,p.imageURL,d,d+E,d+E+I),n.setFileLocations(),kt(a.getBeerDrinkerFolder()).then((function(e){a.loadInAppData(new Date(e.startdate)),t.getCheckInHandler().setBeerPoints(parseInt(e.points)),n.loadInAppStore(e.store,e.blankNode)})),ue(a.getBeerDrinkerFolder()).then((function(e){i.addUserCheckIns(e.userBeerCheckIns),i.setBeerReviewsAmount(e.reviews),i.setCheckInsAmount(e.checkIns)})),wt(a.getBeerDrinkerFolder()).then((function(e){t.addFriends(e.friends),n.loadInFriendsStore(e.group,e.sentGroup,e.friendsStore)})),it(a.getBeerDrinkerFolder()).then((function(e){t.setGroups(e)}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return st.apply(this,arguments)}function st(){return(st=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+R,e.next=3,Ae.readFolder(n);case 3:return r=e.sent,a=[],i=r.folders,s=r.files,i.forEach((function(e){var t=new nt(e.url,!0);ut(t),a.push(t)})),s.forEach((function(e){var t=new nt(e.url,!1);ot(t),a.push(t)})),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(u.a)(c.a.mark((function e(t){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.fetch(t.getUrl());case 2:return n=e.sent,r=fe.graph(),$e.a(n,r,t.getUrl(),O),a=r.any(void 0,Q("location")),i=r.any(a,Q("location")),t.setUrl(i.value),e.next=10,ut(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u,l,d,p,h,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getUrl()+I,r=t.getUrl()+H,a=t.getUrl()+N,ue(t.getUrl()).then((function(e){t.getCheckInHandler().setReviesCheckInsAndUserCheckIns(e.reviews,e.checkIns,e.userBeerCheckIns)})),e.next=6,Ae.fetch(r);case 6:return i=e.sent,s=fe.graph(),$e.a(i,s,r,O),o=s.any(void 0,P("hasLeader")),u=s.any(o,P("hasLeader")),l=s.any(o,z("name")),e.next=14,Ae.fetch(a);case 14:d=e.sent,p=fe.graph(),$e.a(d,p,a,O),h=p.any(void 0,P("hasMember")),m=[],p.each(h,P("hasMember")).map((function(e){var t=p.any(e,Q("points"));e.value===u.value?u={member:e.value,points:t.value}:m.push({member:e.value,points:t.value})})),t.setProperties(l.value,n,r,a,u,m);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e){return pt.apply(this,arguments)}function pt(){return(pt=Object(u.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.fetch(t);case 2:return n=e.sent,r=fe.graph(),$e.a(n,r,t,"text/turtle"),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(u.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.any(t,M("publicTypeIndex")),a=fe.graph(),e.next=4,Ae.fetch(r.value);case 4:return i=e.sent,$e.a(i,a,r.value,"text/turtle"),e.abrupt("return",{store:a,ppi:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t){return t.any(e,T("storage")).value+"public/"}function gt(e,t,n,r){return vt.apply(this,arguments)}function vt(){return(vt=Object(u.a)(c.a.mark((function e(t,n,r,a){var i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fe.sym(t.value+"#"+x),!(s=n.any(i,M("instance")))){e.next=8;break}return e.next=5,Re(s.value,a);case 5:return e.abrupt("return",s.value);case 8:return e.next=10,Be(t,n,r,i,a);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t){var n=t.any(e,P("fn"));n||(n=t.any(e,K("name")));var r=t.any(e,P("hasPhoto"));return{name:n=n?n.value:void 0,imageURL:r=r?r.value:void 0}}function kt(e){return yt.apply(this,arguments)}function yt(){return(yt=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+j,e.next=3,Ae.readFile(n);case 3:return r=e.sent,a=fe.graph(),$e.a(r,a,n,"text/turtle"),i=a.any(void 0,Q("startdate")),s=a.any(i,Q("startdate")),o=a.any(i,Q("points")),e.abrupt("return",{startdate:s.value,points:o.value,store:a,blankNode:i});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return xt.apply(this,arguments)}function xt(){return(xt=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+U,e.next=3,Ae.readFile(n);case 3:for(r=e.sent,a=fe.sym(n+"#"+S),i=fe.sym(n+"#"+F),s=[],o=fe.graph(),$e.a(r,o,n,O),u=o.each(a,P("hasMember"),void 0),l=0;l<u.length;l++)oe(d=new tt(u[l].value)),d&&s.push(d);return e.abrupt("return",{friends:s,friendsStore:o,group:a,sentGroup:i});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ct=n(23),It=n(7);function Et(){return(Et=Object(u.a)(c.a.mark((function e(t,n,r,a,i){var s,o,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t+_,e.next=3,Ct.readFolder(s);case 3:if(o=e.sent,0!==(u=o.files.filter((function(e){return e.name.includes(G)}))).length&&Ot(t,u,n,r,a,i),0===(l=o.files.filter((function(e){return e.name.includes("Social_Linked_Beer_FriendschipRequestDecline")}))).length){e.next=10;break}return e.next=10,jt(t,l,r,a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e,t,n,r,a,i){return _t.apply(this,arguments)}function _t(){return(_t=Object(u.a)(c.a.mark((function e(t,n,r,a,i,s){var o,u,l,d,p,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t+U,u=0;case 2:if(!(u<n.length)){e.next=18;break}return l=It.graph(),e.next=6,Ct.readFile(n[u].url);case 6:d=e.sent,It.parse(d,l,n[u].url,"text/turtle"),p=l.any(void 0,Q("from")),p=l.any(p,Q("from")),i.add(r,P("hasMember"),p),i.removeMatches(a,P("hasMember"),p),oe(p=new tt(p.value)),s.addFriend(p);case 15:u++,e.next=2;break;case 18:return e.next=20,It.serialize(void 0,i,o,"text/turtle");case 20:return h=e.sent,e.next=23,re(o,h);case 23:n.forEach((function(e){Ct.deleteFile(e.url)}));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t,n,r){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(u.a)(c.a.mark((function e(t,n,r,a){var i,s,o,u,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t+U,s=0;case 2:if(!(s<n.length)){e.next=14;break}return o=It.graph(),e.next=6,Ct.readFile(n[s].url);case 6:u=e.sent,It.parse(u,o,n[s].url,"text/turtle"),l=o.any(void 0,Q("from")),l=o.any(l,Q("from")),a.removeMatches(r,P("hasMember"),l);case 11:s++,e.next=2;break;case 14:return e.next=16,It.serialize(void 0,a,i,"text/turtle");case 16:d=e.sent,re(i,d),n.forEach((function(e){Ct.deleteFile(e.url)}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var At=function(e){function t(e,n,r,a,i){var s;return Object(l.a)(this,t),(s=Object(p.a)(this,Object(h.a)(t).call(this)))._name=e,s._type=n,s._style=r,s._brewer=a,s._location=i,s}return Object(f.a)(t,e),Object(d.a)(t,[{key:"getBrewer",value:function(){return this._brewer}},{key:"updateInformation",value:function(e,t,n,r,a,i){this._name=e,this._type=t,this._style=n,this._brewer=r,this._description=a,this._containers=i,this.updateSubscribers()}},{key:"getUrl",value:function(){return this._location}},{key:"getName",value:function(){return this._name}}]),t}(y),Bt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this)))._uri=e,n._type=void 0,n._from=void 0,n._desc=void 0,n._location=void 0,n._groupName=void 0,n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"setContents",value:function(e,t,n,r,a){this._type=e,this._from=t,this._desc=n,this._location=r,this._groupName=a,this.updateSubscribers()}},{key:"getUri",value:function(){return this._uri}},{key:"getFrom",value:function(){return this._from}},{key:"getType",value:function(){return this._type}},{key:"getDesc",value:function(){return this._desc}},{key:"getLocation",value:function(){return this._location}},{key:"getGroupName",value:function(){return this._groupName}}]),t}(y),St=function(){function e(t){Object(l.a)(this,e),this._modelHolder=t,this._user=t.getUser()}return Object(d.a)(e,null,[{key:"build",value:function(){var t=Object(u.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new e(n),t.next=3,rt(n,r);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),Object(d.a)(e,[{key:"loadInFriendsStore",value:function(e,t,n){this._friendsStore=n,this._friendGroup=e,this._friendsRequestedGroup=t,function(e,t,n,r,a){Et.apply(this,arguments)}(this._user.getBeerDrinkerFolder(),e,t,n,this._modelHolder)}},{key:"loadInAppStore",value:function(e,t){this._appStore=e,this._blankNodeAppStore=t}},{key:"setFileLocations",value:function(){this._beerDrinkerFolder=this._user.getBeerDrinkerFolder(),this._checkInFolder=this._beerDrinkerFolder+I,this._appStoreLocation=this._beerDrinkerFolder+j}},{key:"getUserFile",value:function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInboxContents",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._user.getBeerDrinkerFolder()+_,e.next=3,Ae.readFolder(t);case 3:for(n=e.sent,r=[],a=0;a<n.files.length;a++)i=new Bt(n.files[a].url),this.loadFileContents(i),r.push(i);this._modelHolder.setInboxMessages(r);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadFileContents",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getUri(),r=fe.graph(),e.next=4,Ae.readFile(n);case 4:return a=e.sent,e.next=7,$e.a(a,r,n,"text/turtle");case 7:i=r.any(void 0,J("type")),s=r.any(i,J("type")),o=r.any(i,Q("description")),u=r.any(i,Q("from")),l=r.any(i,Q("location")),d=r.any(i,Q("groupName")),t.setContents(s.value.replace(/.*#/,""),u.value,o.value,l?l.value:void 0,d?d.value:void 0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkIfUserIsFriend",value:function(e){var t=this._friendsStore.match(this._friendsRequestedGroup,P("hasMember"),fe.sym(e)),n=this._friendsStore.match(this._friendGroup,P("hasMember"),fe.sym(e));return(0!==t.length||0!==n.length)&&(console.log("already friend"),!0)}},{key:"inviteUserToSolib",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Social_Linked_Beer_app_invitation_from_"+this._user.getName(),a=this._user.getName()+" invites you to drink a beer with him on https://ozcanseker.github.io/Social-linked-beer/ .",i=ve(t,a,n+r+".ttl",this._user.getUri()),e.next=6,te(n,r,i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendFriendshipRequest",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n){var r,a,i,s,o,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkIfUserIsFriend(t)){e.next=16;break}return r=this._user.getName(),a="Social_Linked_Beer_friendshiprequest_from_"+r,i=(this._user.getName()?this._user.getName():this._user.getUri())+" invites you to share your stories with him.",o=be(t,i,(s=n+E+_)+a+".ttl",this._user.getUri()),u=this._user.getBeerDrinkerFolder()+U,this._friendsStore.add(this._friendsRequestedGroup,P("hasMember"),fe.sym(t)),e.next=11,ge.a(void 0,this._friendsStore,u,"text/turtle");case 11:return l=e.sent,e.next=14,te(s,a,o);case 14:return e.next=16,re(u,l);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"declineFriendSchipRequest",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserFile(t.getFrom());case 2:return n=e.sent,r=n.appLocation+E+_,a=this._user.getName(),i="Social_Linked_Beer_FriendschipRequestDecline_from_"+a,s=(this._user.getName()?this._user.getName():this._user.getUri())+" declined your friendship request.",o=r+i+".ttl",u=ke(t.getFrom(),s,o,this._user.getUri()),e.next=11,te(r,i,u);case 11:return e.next=13,Ae.deleteFile(t.getUri());case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"acceptFriendSchipRequest",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new tt(t.getFrom()),e.next=3,oe(n);case 3:return r=n.getBeerDrinkerFolder()+_,a=this._user.getBeerDrinkerFolder()+U,this._friendsStore.add(this._friendGroup,P("hasMember"),fe.sym(t.getFrom())),e.next=8,ge.a(void 0,this._friendsStore,a,"text/turtle");case 8:return i=e.sent,s=this._user.getName(),o=G+s,u=this._user.getName()+" accepted your friendship request.",l=r+o+".ttl",d=ye(t.getFrom(),u,l,this._user.getUri()),e.next=16,te(r,o,d);case 16:return e.next=18,Ae.deleteFile(t.getUri());case 18:return e.next=20,re(a,i);case 20:this._modelHolder.addFriend(n);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBeerData",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://testbrouwer.inrupt.net/public/brewerInformation/beers/beersIndex.ttl",e.next=3,Ae.readFile(t);case 3:return n=e.sent,r=fe.graph(),$e.a(n,r,t,"text/turtle"),a=r.each(void 0,J("type"),Q("Beer")),i=[],a.forEach((function(e){var t=r.any(e,Q("brewedBy")),n=r.any(e,Q("type")),a=r.any(e,z("name")),s=r.any(e,Q("style")),o=r.any(e,M("instance"));i.push(new At(a.value,n.value,s.value,t.value,o.value))})),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchBeer",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u,l,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getUrl(),e.next=3,Ae.readFile(n);case 3:return r=e.sent,a=fe.graph(),$e.a(r,a,n,"text/turtle"),i=a.any(void 0,Q("beerDescription")),s=a.any(i,Q("brewedBy")),o=a.any(i,Q("type")),u=a.any(i,z("name")),l=a.any(i,Q("style")),d=a.any(i,Q("beerDescription")),p=[],a.each(i,Q("container")).forEach((function(e){p.push(e.value)})),t.updateInformation(u.value,o.value,l.value,s.value,d.value,p),e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postBeerReview",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n,r,a,i){var s,o,u,l,d,p,h,m=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Date,u=this._checkInFolder,p=0,t?(l=o.getTime()+D,s=Ce(d=u+l+".ttl",this._user.getName(),this._user.getUri(),n.getUrl(),n.getName(),o,r,a),p=10):(l=o.getTime()+"_BeerCheckIn",s=xe(d=u+l+".ttl",this._user.getName(),this._user.getUri(),n.getUrl(),n.getName(),o),p=5),i.forEach((function(e){if(e===m._user.getCheckInLocation())m._modelHolder.getCheckInHandler().addBeerPoints(p),m.sendBeerPoints(p),t?m._modelHolder.getCheckInHandler().addBeerReviewToAmount():m._modelHolder.getCheckInHandler().addToCheckInsAmount();else{var n=m._modelHolder.getGroupFromCheckInLocationUri(e);Ae.fetch(n.getGroupCheckInIndex()).then((function(e){var t=fe.graph();$e.a(e,t,n.getGroupCheckInIndex(),"text/turtle");var r=t.any(fe.sym(m._user.getUri()),Q("points"));r.value=parseInt(r.value)+p+"";var a=ge.a(void 0,t,n.getGroupCheckInIndex(),"text/turtle");re(n.getGroupCheckInIndex(),a)}))}te(e,l,s)})),(h=new w(d)).loadInAttributes(this._user.getUri(),this._user.getName(),n._location,n._name,o.getUTCDate(),t?r:void 0,t?a:void 0),this._modelHolder.getCheckInHandler().addUserCheckIns([h]);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()},{key:"sendBeerPoints",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._appStore.any(this._blankNodeAppStore,Q("points"))).value=parseInt(n.value)+t+"",e.next=4,ge.a(void 0,this._appStore,this._appStoreLocation,"text/turtle");case 4:r=e.sent,re(this._appStoreLocation,r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBrewerInformation",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r,a,i,s,o,u,l,d,p,h,m,f,g,v,b,k,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getUrl(),e.next=3,Ae.fetch(n);case 3:return r=e.sent,a=fe.graph(),e.next=7,$e.a(r,a,n,"text/turtle");case 7:return i=a.any(void 0,J("type")),s=a.any(i,K("name")).value,o=a.any(i,Z("groep")).value,u=a.any(i,Z("opgericht")).value,l=[],a.each(i,Z("owners")).forEach((function(e){l.push(e.value)})),d=a.any(i,Z("provincie")).value,p=a.any(i,z("email")).value,h=a.any(i,z("taxID")).value,m=a.any(i,z("telephone")).value,a.any(i,z("url")).value,f=a.any(i,Z("beersIndex")),g=a.any(i,z("address")),v=a.any(g,z("postalCode")).value,b=a.any(g,z("streetAddress")).value,k=a.any(g,z("addressRegion")).value,y=a.any(g,z("addressLocality")).value,t.loadInBrewerInformation(s,o,u,l,d,p,h,m,v,b,k,y),this.fetchBeerData(f.value).then((function(e){t.addBeers(e)})),e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCheckInsLoggedInUser",value:function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._modelHolder.getCheckInHandler().getAllCheckInsGotten()){e.next=7;break}return e.t0=this._modelHolder.getCheckInHandler(),e.next=4,de(this._modelHolder.getUser().getBeerDrinkerFolder());case 4:e.t1=e.sent,e.t0.setUserCheckIns.call(e.t0,e.t1),this._modelHolder.getCheckInHandler().setAllCheckInsGotten(!0);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makeNewGroup",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n,r){var a,i,s,o,u,l,d,p,h,m,f,g,v,b=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(a=t+R+n+"/")+".acl",s=a+H,e.next=5,Ae.createFolder(a);case 5:return o=Ie(s,r,this._user.getUri(),n),e.next=8,te(a,"groupdata",o);case 8:return l=(u=a+I)+".acl",e.next=12,Ae.createFolder(u);case 12:return d=Oe(u,s,l,this._user.getUri()),e.next=15,re(l,d);case 15:return p=Ee(a,s,i,this._user.getUri()),e.next=18,re(i,p);case 18:return m=(h=a+N)+".acl",f=je(h,r,this._user),e.next=23,te(a,"checkinIndex",f);case 23:return g=Ue(h,s,m,this._user.getUri()),e.next=26,re(m,g);case 26:r.forEach((function(e){var t="Social_Linked_Beer_groupInvitation_to_"+n,r="Would you like to join us at "+n+"?",i=e.getBeerDrinkerFolder()+_,s=i+t+".ttl";te(i,t,we(e.getUri(),r,s,b._user.getUri(),a,n))})),(v=new nt(a)).setProperties(n,u,s,this._user.getUri(),r.map((function(e){return e.getUri()}))),this._modelHolder.addGroup(v);case 30:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"acceptGroupRequest",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._modelHolder.getFriendFromUri(t.getFrom()),n=this._user.getBeerDrinkerFolder()+R,r=n+t.getGroupName(),a=t.getLocation(),i=_e(a,r),e.next=7,te(n,t.getGroupName(),i);case 7:return e.next=9,Ae.deleteFile(t.getUri());case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"declineGroupRequest",value:function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.deleteFile(t.getUri());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ft=(n(505),function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onInput=function(e){n.props.onBeerSearch(e.target.value)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=a.a.Children.toArray(this.props.children);return t=t.map((function(e,t){return a.a.createElement("li",{key:e.props.to},e)})),console.log(this.props),this.props.loggedIn&&(e=a.a.createElement("li",{id:"navBarSearch"},a.a.createElement("input",{placeholder:"search for beers",value:this.props.searchQuery,onChange:this.onInput}),a.a.createElement("input",{type:"button",value:"x",onClick:this.props.onSearchBarButtonClick})),t.splice(t.length-1,0,e)),a.a.createElement("nav",null,a.a.createElement("ul",{id:"navBarUL"},t))}}]),t}(a.a.Component)),Rt=n(19),Lt=n(130),Ht=n.n(Lt),Nt=(n(506),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("section",{className:"home"},a.a.createElement("h3",null,"This application works with Solid.",a.a.createElement("br",null),"Log in with your pod to use the application. If you do not have an pod, you can get one\xa0",a.a.createElement("a",{href:"https://solid.inrupt.com/get-a-solid-pod"},"here")," for free"),a.a.createElement("br",null),a.a.createElement("img",{src:Ht.a,alt:"Inrupt logo"}),a.a.createElement("br",null),a.a.createElement("h3",{style:{color:"red"}},"Carefull, This application is still in development and might mess up your pod. if you want to test it out, I recommend you make a new pod that you can delete"))}}]),t}(a.a.Component)),Dt=(n(507),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).onChangeCheckBox=function(){n.setState({loginAsBrewer:!n.state.loginAsBrewer})},n.onButtonClick=function(){v.a.popupLogin({popupUri:"./popup.html"}).then((function(){v.a.currentSession().then((function(e){n.props.onLoggedIn(),n.props.history.push("/profile")}))}))},n.onRegisterClick=function(){window.location.assign("https://inrupt.net/")},n.state={loginAsBrewer:!1},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t;this.state.loginAsBrewer?(e=a.a.createElement("h1",null,"Brewer"),t=a.a.createElement("button",{onClick:this.onButtonClick,disabled:!0},"In progress")):(e=a.a.createElement("h1",null,"Beer Drinker"),t=a.a.createElement("button",{onClick:this.onButtonClick},"Log in"));var n=this.state.loginAsBrewer?"logInBrewer":"logInBeerDrinker";return a.a.createElement("section",{className:["logInScreen ",n].join(" ")},a.a.createElement("div",{className:"loginField"},e,a.a.createElement("label",{className:"switch"},a.a.createElement("input",{type:"checkbox",onChange:this.onChangeCheckBox}),a.a.createElement("span",{className:"slider"})),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("button",{onClick:this.onRegisterClick},"Register"),t)))}}]),t}(a.a.Component)),Gt=(n(508),n(132)),qt=(n(509),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).onDivClick=function(e){e.stopPropagation()},n.state={},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{onClick:this.props.onOverLayCancelClick,id:"overlayGroup",style:this.props.overlay?{display:"block"}:{display:"none"}},a.a.createElement("div",{id:"textGroup",onClick:this.onDivClick},a.a.createElement("h5",null,"makeGroup"),a.a.createElement("span",null,"group name")," : ",a.a.createElement("input",{value:this.props.groupName,onChange:this.props.onChange}),a.a.createElement("button",{onClick:this.props.makeGroup},"make new group"),a.a.createElement(Gt.a,{isMulti:!0,options:this.props.valuesSelector,value:this.props.selectedFriends,onChange:this.props.onSelect})))}}]),t}(a.a.Component)),Mt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).onMakeGroupClick=function(){n.setState({overlay:!0})},n.onOverLayCancelClick=function(){n.setState({overlay:!1})},n.makeGroup=function(){if(""!==n.state.groupName&&!/\s/.test(n.state.groupName)){var e=n.props.modelHolder.getUser().getBeerDrinkerFolder(),t=n.state.selectedFriends.map((function(e){return e.value}));n.props.solidCommunicator.makeNewGroup(e,n.state.groupName,t).then((function(e){})),n.setState({overlay:!1,selectedFriends:[],groupName:""})}},n.onSelectFriend=function(e){n.setState({selectedFriends:e})},n.onGroupNameChange=function(e){var t=e.target.value;n.setState({groupName:t})},n.state={overlay:!1,groupName:"b",selectedFriends:[]},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.modelHolder.getFriends().map((function(e){return{value:e,label:e.getName()}})),t=this.props.modelHolder.getGroups().map((function(e,t){return a.a.createElement("li",{key:e.getUrl()+e.getLeader()},a.a.createElement(b.b,{to:"/groups/".concat(t)},e.getName()))}));return a.a.createElement("section",{id:"groupsPage"},a.a.createElement("h1",null,"Groups"),a.a.createElement("div",{className:"makeNewGroupDiv"},a.a.createElement("button",{className:"makeNewGroup",onClick:this.onMakeGroupClick},"makeNewGroup")),a.a.createElement(qt,{overlay:this.state.overlay,onOverLayCancelClick:this.onOverLayCancelClick,onAddReviewClick:this.onAddReviewClick,addReview:this.state.addReview,checkInBeer:this.onPostBeerReview,onChange:this.onGroupNameChange,groupName:this.state.groupName,valuesSelector:e,selectedFriends:this.state.selectedFriends,onSelect:this.onSelectFriend,makeGroup:this.makeGroup}),a.a.createElement("ul",null,t))}}]),t}(a.a.Component),Tt=(n(514),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){n.setState({inputText:e.target.value})},n.checkIfUser=function(){var e=n.state.inputText.toUpperCase(),t=n.props.modelHolder.getUser(),r=t.getUri().toUpperCase(),a=t.getUri().toUpperCase().replace("#ME","").replace("#I",""),i=r.replace("HTTPS://",""),s=a.replace("HTTPS://","");return r===e||a===e||i===e||s===e},n.onButtonClick=Object(u.a)(c.a.mark((function e(){var t,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===(t=(t=n.props.modelHolder.getFriends()).filter((function(e){var t=n.state.inputText.toUpperCase(),r=e.getUri().toUpperCase(),a=e.getUri().toUpperCase().replace("#ME","").replace("#I",""),i=r.replace("HTTPS://",""),s=a.replace("HTTPS://","");return r===t||a===t||i===t||s===t}))).length){e.next=7;break}r=n.props.modelHolder.getFriends().map((function(e,n){if(t[0].getUri()===e.getUri())return n})).filter((function(e){return e})),n.props.history.push("/friend/".concat(r[0])),e.next=21;break;case 7:if(!n.checkIfUser()){e.next=11;break}n.props.history.push("/profile"),e.next=21;break;case 11:return e.prev=11,e.next=14,n.props.solidCommunicator.getUserFile(n.state.inputText);case 14:a=e.sent,n.props.history.push({pathname:"/user",state:{result:a}}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),n.setState({error:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[11,18]])}))),n.state={inputText:"",error:void 0},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.modelHolder.getFriends(),t=this.state.inputText.toUpperCase(),n=e.map((function(e,n){if(console.log(e.getName()),e.getUri().toUpperCase().includes(t)||e.getName()&&e.getName().toUpperCase().includes(t))return a.a.createElement("li",{key:e.getUri()},a.a.createElement(b.b,{to:"/friend/".concat(n)},a.a.createElement("p",null,e.getName()?e.getName():e.getUri())))}));return a.a.createElement("section",{className:"friends"},a.a.createElement("div",{className:"searchFriends"},a.a.createElement("h3",null,"Make new friends"),a.a.createElement("br",null),a.a.createElement("input",{type:"text",placeholder:"https://profile.card/profile/card#me",value:this.state.inputText,onChange:this.onChange}),a.a.createElement("button",{onClick:this.onButtonClick},"Search on the web"),a.a.createElement("p",{style:{color:"red"}},this.state.error)),a.a.createElement("div",{className:"friendSection"},a.a.createElement("h1",null,"Friends"),a.a.createElement("ul",null,n)))}}]),t}(a.a.Component)),Pt=(n(262),n(95)),Vt=n.n(Pt),Jt=(n(515),function(e){function t(e,n){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).call(this,e,n))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,n=this.props.checkin;return e=n._rating?a.a.createElement("p",null,"rating: ",n._rating):a.a.createElement("br",null),t=n._review?a.a.createElement("p",null,"review: ",n._review):a.a.createElement("br",null),a.a.createElement("li",{className:"BeerCheckInComponent"},a.a.createElement("h5",null,n._userName?n._userName:n._userWebId," is drinking a ",n._beerName),e,t)}}]),t}(a.a.Component));var Qt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={user:n.props.modelHolder.getFriendFromIndex(n.props.match.params.id)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.state.user,n=t.getImageUrl(),r=t.getCheckInHandler().getUserCheckIns();return r=r.map((function(e){return a.a.createElement(Jt,{key:e._fileLocation,checkin:e})})),t.getStartDate()&&(e=a.a.createElement("div",{className:"leftColumnProfile"},a.a.createElement("h1",null,t.getName()),a.a.createElement("img",{src:n||Vt.a,alt:""}),a.a.createElement("p",null,"check-ins : ",t.getCheckInHandler().getCheckInsAmount()),a.a.createElement("p",null,"reviews : ",t.getCheckInHandler().getBeerReviewsAmount()),a.a.createElement("p",null,"Begin date : ",function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return t+"/"+n+"/"+r}(t.getStartDate())),a.a.createElement("p",null,"beerbonus points : ",t.getCheckInHandler().getBeerPoints()))),a.a.createElement("section",{className:"profileScreen"},e,a.a.createElement("div",{className:"checkedInBeersProfile"},a.a.createElement("h1",null,"Recent activities"),a.a.createElement("ul",null,r)))}}]),t}(a.a.Component),Kt=(n(516),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).getAllCheckIns=function(){n.props.solidCommunicator.getAllCheckInsLoggedInUser()},n.state={res:[]},n.getAllCheckIns(),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.modelHolder.getCheckInHandler().getUserCheckIns();return e=e.map((function(e){return a.a.createElement(Jt,{key:e._fileLocation,checkin:e})})),a.a.createElement("section",{id:"beerCheckIns"},a.a.createElement("h1",null,"Check-Ins"),a.a.createElement("ul",null,e))}}]),t}(a.a.Component)),Wt=(n(517),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).onLinkClick=function(e){n.props.modelHolder.setBeer(e),n.props.onLinkClick()},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.solidCommunicator.fetchBeerData().then((function(t){t&&e.props.modelHolder.setBeers(t)}))}},{key:"render",value:function(){var e=this,t=this.props.modelHolder.getBeers().map((function(t){return a.a.createElement("li",{key:t._location},a.a.createElement(b.b,{to:"/beer/".concat(t._name),onClick:function(){e.onLinkClick(t)}},t._name))}));return a.a.createElement("section",{className:"beerResults"},a.a.createElement("h1",null,"Beer Results"),a.a.createElement("ul",null,t))}}]),t}(a.a.Component));var Zt=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props.modelHolder.getUser(),n=t.getImageUrl(),r=this.props.modelHolder.getCheckInHandler(),i=r.getUserCheckIns();return i=i.map((function(e){return a.a.createElement(Jt,{key:e._fileLocation,checkin:e})})),t.getBeginDate()&&(e=a.a.createElement("div",{className:"leftColumnProfile"},a.a.createElement("h1",null,t.getName()),a.a.createElement("img",{src:n||Vt.a,alt:""}),a.a.createElement("p",null,"check-ins : ",r.getCheckInsAmount()),a.a.createElement("p",null,"reviews : ",r.getBeerReviewsAmount()),a.a.createElement("p",null,"Begin date : ",function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return t+"/"+n+"/"+r}(t.getBeginDate())),a.a.createElement("p",null,"beerbonus points : ",r.getBeerPoints()))),a.a.createElement("section",{className:"profileScreen"},e,a.a.createElement("div",{className:"checkedInBeersProfile"},a.a.createElement("div",{className:"checkinDiv"},a.a.createElement(b.b,{to:"/checkIns"},"All check ins \u2192")),a.a.createElement("h1",null,"Recent activities"),a.a.createElement("ul",null,i)))}}]),t}(a.a.Component),zt=(n(518),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).onNotJoinedButtonClick=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.result,e.next=3,n.props.solidCommunicator.inviteUserToSolib(t.url,t.inbox);case 3:n.setState({clicked:!0});case 4:case"end":return e.stop()}}),e)}))),n.sendFriendShipRequest=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.result,e.next=3,n.props.solidCommunicator.sendFriendshipRequest(t.url,t.appLocation);case 3:n.setState({clicked:!0});case 4:case"end":return e.stop()}}),e)}))),n.state={clicked:!1,result:n.props.location.state.result},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props.location.state.result;return e=this.state.clicked?a.a.createElement("button",{disabled:!0},"Request send"):t.appLocation?a.a.createElement("button",{onClick:this.sendFriendShipRequest},"Send friendship request"):a.a.createElement("button",{onClick:this.onNotJoinedButtonClick},"Invite to Social linked beer"),a.a.createElement("section",{className:"userPageNew"},a.a.createElement("div",{className:"userPageHead"},a.a.createElement("h1",null,t.name),a.a.createElement("img",{src:t.imageUrl?t.imageUrl:Vt.a,alt:""})),a.a.createElement("div",{className:"userButtonDiv"},e),a.a.createElement("div",{className:"userInfo"},a.a.createElement("p",null,"Uri : ",t.url),a.a.createElement("p",null,"Has social linked beer account?: ",t.appLocation?"Yes":"No")))}}]),t}(a.a.Component)),Yt=(n(519),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).declineFriendShipRequest=function(e,t){n.props.modelHolder.spliceAtIndex(e),n.props.solidCommunicator.declineFriendSchipRequest(t)},n.acceptFriendShipRequest=function(e,t){n.props.modelHolder.spliceAtIndex(e),n.props.solidCommunicator.acceptFriendSchipRequest(t)},n.declineGroupRequest=function(e,t){n.props.modelHolder.spliceAtIndex(e),n.props.solidCommunicator.declineGroupRequest(t)},n.acceptGroupRequest=function(e,t){n.props.modelHolder.spliceAtIndex(e),n.props.solidCommunicator.acceptGroupRequest(t)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.solidCommunicator.getInboxContents()}},{key:"render",value:function(){var e=this,t=this.props.modelHolder.getInboxMessages().map((function(t,n){var r;return"FriendshipRequest"===t.getType()?r=a.a.createElement("div",{className:"buttonDiv"},a.a.createElement("button",{onClick:function(){return e.declineFriendShipRequest(n,t)}},"Decline"),a.a.createElement("button",{onClick:function(){return e.acceptFriendShipRequest(n,t)}},"Accept")):"GroupInvitation"===t.getType()&&(r=a.a.createElement("div",{className:"buttonDiv"},a.a.createElement("button",{onClick:function(){return e.declineGroupRequest(n,t)}},"Decline"),a.a.createElement("button",{onClick:function(){return e.acceptGroupRequest(n,t)}},"Accept"))),a.a.createElement("li",{key:t.getUri()},a.a.createElement("h4",null,t.getType()),a.a.createElement("p",null,t.getFrom()?"from :"+t.getFrom():"fetching file"),a.a.createElement("p",null,t.getDesc()),r)}));return a.a.createElement("section",{className:"inbox"},a.a.createElement("h1",null,"Inbox"),a.a.createElement("ul",null,t))}}]),t}(a.a.Component)),Xt=(n(520),n(521),n(541)),$t=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).onDivClick=function(e){e.stopPropagation()},n.state={},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,n=this;return this.props.addReview&&(e=a.a.createElement(Xt.a,{name:"beerRating",value:this.props.beerRating,precision:.5,onChange:function(e,t){n.props.setBeerRating(t)}}),t=a.a.createElement("textarea",{value:this.props.beerReview,onChange:function(e){n.props.onBeerReviewChange(e.target.value)}})),a.a.createElement("div",{onClick:this.props.onOverLayCancelClick,id:"overlay",style:this.props.overlay?{display:"block"}:{display:"none"}},a.a.createElement("div",{id:"text",onClick:this.onDivClick},a.a.createElement("h5",null,"check in beer"),a.a.createElement("button",{onClick:this.props.onAddReviewClick},this.props.addReview?"dont add review":"Add review"),e,t,a.a.createElement("br",null),a.a.createElement("button",{onClick:this.props.checkInBeer},"check in beer"),a.a.createElement(Gt.a,{isMulti:!0,onChange:this.props.onSelect,options:this.props.groupsOptions,value:this.props.selectedOptions})))}}]),t}(a.a.Component),en=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this)))._url=e,n._beers=[],n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"loadInBrewerInformation",value:function(e,t,n,r,a,i,s,o,c,u,l,d){this._name=e,this._groep=t,this._opgericht=n,this._owners=r,this._provincie=a,this._email=i,this._taxid=s,this._telephone=o,this._postalcode=c,this._streetAdress=u,this._addressRegion=l,this._addressLocality=d,this.updateSubscribers()}},{key:"addBeers",value:function(e){this._beers=this._beers.concat(e),this.updateSubscribers()}},{key:"getUrl",value:function(){return this._url}},{key:"update",value:function(){this.updateSubscribers()}},{key:"getGroep",value:function(){return this._groep}}]),t}(y),tn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).onPostBeerReview=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.solidCommunicator.postBeerReview(n.state.addReview,n.state.beer,n.state.beerRating,n.state.beerReview,n.state.selectedOptions.map((function(e){return e.value})));case 2:n.setState({overlay:!1,beerReview:"",beerRating:2.5,addReview:!1,selectedOptions:[{value:n.props.modelHolder.getUser().getCheckInLocation(),label:"Public"}]});case 3:case"end":return e.stop()}}),e)}))),n.onCheckInClick=function(){n.setState({overlay:!0})},n.onOverLayCancelClick=function(){n.setState({overlay:!1})},n.setBeerRating=function(e){n.setState({beerRating:e})},n.onBeerReviewChange=function(e){n.setState({beerReview:e})},n.onAddReviewClick=function(){n.setState({addReview:!n.state.addReview,beerRating:2.5,beerReview:""})},n.onSelectGroup=function(e){n.setState({selectedOptions:e})},n.state={beer:n.props.modelHolder.getBeer(),overlay:!1,beerReview:"",beerRating:2.5,addReview:!1,selectedOptions:[{value:n.props.modelHolder.getUser().getCheckInLocation(),label:"Public"}]},n.props.modelHolder.setBrewer(new en(n.state.beer.getBrewer())),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.solidCommunicator.fetchBeer(this.props.modelHolder.getBeer()).then((function(e){}))}},{key:"render",value:function(){var e=this.state.beer,t=e._brewer.replace("https://","").replace(/\..*/,""),n=this.props.modelHolder.getGroups().map((function(e){return{value:e.getCheckInLocation(),label:e.getName()}}));return n.push({value:this.props.modelHolder.getUser().getCheckInLocation(),label:"Public"}),a.a.createElement("section",{className:"beerDetailScreen"},a.a.createElement("h1",null,e._name),a.a.createElement("p",null,e._description),a.a.createElement("div",null,a.a.createElement("button",{onClick:this.onCheckInClick},"Check in beer")),a.a.createElement("p",null,a.a.createElement(b.b,{to:"/brewer/".concat(t)},"brewer")),a.a.createElement("p",null,"containers: ",e._containers),a.a.createElement($t,{overlay:this.state.overlay,beerReview:this.state.beerReview,beerRating:this.state.beerRating,onOverLayCancelClick:this.onOverLayCancelClick,setBeerRating:this.setBeerRating,onBeerReviewChange:this.onBeerReviewChange,onAddReviewClick:this.onAddReviewClick,addReview:this.state.addReview,checkInBeer:this.onPostBeerReview,groupsOptions:n,onSelect:this.onSelectGroup,selectedOptions:this.state.selectedOptions}))}}]),t}(a.a.Component),nn=(n(522),function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(h.a)(t).call(this,e,n))).getBrewer=function(){r.props.solidCommunicator.getBrewerInformation(r.state.brewer).then((function(e){}))},r.state={brewer:r.props.modelHolder.getBrewer()},r.getBrewer(),r}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,n=this,r=this.state.brewer;return r.getGroep()&&(e=a.a.createElement("div",null,a.a.createElement("h1",null,this.state.brewer._name),a.a.createElement("p",null,r._groep),a.a.createElement("p",null,r._opgericht),a.a.createElement("p",null,r._owners.join(", ")),a.a.createElement("p",null,r._provincie),a.a.createElement("p",null,r._email),a.a.createElement("p",null,r._taxid),a.a.createElement("p",null,r._telephone),a.a.createElement("p",null,r._url),a.a.createElement("p",null,r._postalcode),a.a.createElement("p",null,r._streetAdress),a.a.createElement("p",null,r._addressRegion),a.a.createElement("p",null,r._addressLocality)),r._beers&&(t=r._beers.map((function(e){return a.a.createElement("li",{key:e._location},a.a.createElement(b.b,{to:{pathname:"/beer/".concat(e._name),state:{beer:e}},onClick:n.props.onLinkClick},e._name))})))),a.a.createElement("section",{className:"brewerPage"},e,a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("h3",null,"Beers"),a.a.createElement("ul",null,t))}}]),t}(a.a.Component)),rn=(n(523),n(266)),an=n.n(rn),sn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={group:n.props.modelHolder.getGroupFromIndex(n.props.match.params.id)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.group.getCheckInHandler().getUserCheckIns();t=t.map((function(e){return a.a.createElement(Jt,{key:e._fileLocation,checkin:e})}));var n=this.state.group.getMembers();return n.push(this.state.group.getLeader()),n.sort((function(e,t){return t.points-e.points})),n=n.map((function(t){var n;return e.state.group.getLeader()&&(n=a.a.createElement("p",null,t===e.state.group.getLeader()?a.a.createElement("img",{src:an.a,title:"leader"}):void 0,t.member+" ["+t.points+"]")),a.a.createElement("li",{key:t},n)})),a.a.createElement("section",{className:"groupDetailScreen"},a.a.createElement("h1",null,this.state.group.getName()),a.a.createElement("div",{className:"groupDetailSection"},a.a.createElement("div",{className:"participants"},a.a.createElement("h2",null,"Users"),a.a.createElement("ul",null,n)),a.a.createElement("div",{className:"checkInsGroup"},a.a.createElement("h2",null,"Checkins"),a.a.createElement("ul",null,t))))}}]),t}(a.a.Component),on=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(k.d,null,a.a.createElement(k.b,{exact:!0,path:"/",component:Nt,isLoggedIn:this.props.loggedIn,solidCommunicator:this.props.solidCommunicator}),a.a.createElement(cn,{path:"/user",component:zt,isLoggedIn:this.props.loggedIn,solidCommunicator:this.props.solidCommunicator,modelHolder:this.props.modelHolder}),a.a.createElement(cn,{path:"/beer/:id",component:tn,isLoggedIn:this.props.loggedIn,solidCommunicator:this.props.solidCommunicator,modelHolder:this.props.modelHolder}),a.a.createElement(cn,{path:"/brewer/:id",component:nn,isLoggedIn:this.props.loggedIn,solidCommunicator:this.props.solidCommunicator,modelHolder:this.props.modelHolder}),a.a.createElement(cn,{exact:!0,path:"/friend",component:Tt,isLoggedIn:this.props.loggedIn,modelHolder:this.props.modelHolder,solidCommunicator:this.props.solidCommunicator}),a.a.createElement(cn,{path:"/friend/:id",component:Qt,isLoggedIn:this.props.loggedIn,modelHolder:this.props.modelHolder}),a.a.createElement(cn,{path:"/beerresults",component:Wt,isLoggedIn:this.props.loggedIn,onLinkClick:this.props.clearSearchQuery,solidCommunicator:this.props.solidCommunicator,modelHolder:this.props.modelHolder}),a.a.createElement(cn,{path:"/groups/:id",component:sn,isLoggedIn:this.props.loggedIn,modelHolder:this.props.modelHolder,solidCommunicator:this.props.solidCommunicator}),a.a.createElement(cn,{exact:!0,path:"/groups",component:Mt,isLoggedIn:this.props.loggedIn,modelHolder:this.props.modelHolder,solidCommunicator:this.props.solidCommunicator}),a.a.createElement(cn,{path:"/profile",component:Zt,isLoggedIn:this.props.loggedIn,modelHolder:this.props.modelHolder}),a.a.createElement(cn,{path:"/checkIns",component:Kt,isLoggedIn:this.props.loggedIn,solidCommunicator:this.props.solidCommunicator,modelHolder:this.props.modelHolder}),a.a.createElement(cn,{path:"/inbox",component:Yt,isLoggedIn:this.props.loggedIn,solidCommunicator:this.props.solidCommunicator,modelHolder:this.props.modelHolder}),a.a.createElement(un,{path:"/login",component:Dt,isLoggedIn:this.props.loggedIn,onLoggedIn:this.props.onLoggedIn}))}}]),t}(a.a.Component),cn=function(e){var t=e.component,n=e.isLoggedIn,r=Object(Rt.a)(e,["component","isLoggedIn"]);return a.a.createElement(k.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,Object.assign({},e,r)):a.a.createElement(k.a,{to:"/"})}}))},un=function(e){var t=e.component,n=e.isLoggedIn,r=e.onLoggedIn,i=Object(Rt.a)(e,["component","isLoggedIn","onLoggedIn"]);return a.a.createElement(k.b,Object.assign({},i,{render:function(e){return n?a.a.createElement(k.a,{to:"/profile"}):a.a.createElement(t,Object.assign({onLoggedIn:r},e))}}))},ln=Object(k.g)(on),dn=(n(524),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("section",{className:"aclErrorPage"},a.a.createElement("h1",null,"The application does not have correct access. please give the application read, write, append and control access."))}}]),t}(a.a.Component)),pn=(n(525),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("section",{className:"rendering"},a.a.createElement("h1",null,"Fetching data"),a.a.createElement("div",{id:"fetchinAnimation"}))}}]),t}(a.a.Component)),hn=(n(526),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this)))._uri=e,n._name=n.getUserName(e),n._imageUrl=void 0,n._startDate=void 0,n._appFolder=void 0,n._beerDrinkerFoler=void 0,n._checkInFolder=void 0,n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"setUri",value:function(e){this._uri=e,this._name||(this._name=this.getUserName(e)),this.updateSubscribers()}},{key:"loadInUserValues",value:function(e,t,n,r,a){e&&(this._name=e),this._imageUrl=t,this._appFolder=n,this._beerDrinkerFoler=r,this._checkInFolder=a,this.updateSubscribers()}},{key:"loadInAppData",value:function(e){this._startDate=e,this.updateSubscribers()}},{key:"getUri",value:function(){return this._uri}},{key:"getUserName",value:function(e){return e.replace("https://","").replace(/\..*/,"")}},{key:"getAppFolder",value:function(){return this._appFolder}},{key:"getName",value:function(){return this._name}},{key:"getBeginDate",value:function(){return this._startDate?new Date(this._startDate.getTime()):void 0}},{key:"getImageUrl",value:function(){return this._imageUrl}},{key:"getBeerDrinkerFolder",value:function(){return this._beerDrinkerFoler}},{key:"getCheckInLocation",value:function(){return this._checkInFolder}}]),t}(y)),mn=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this)))._user=new hn(""),e._checkInHandler=new et,e._friends=[],e._brewer=void 0,e._slectedBeer=void 0,e._beers=[],e._groups=[],e._inboxMessages=[],e._checkInHandler.subscribe(Object(m.a)(e)),e._user.subscribe(Object(m.a)(e)),e}return Object(f.a)(t,e),Object(d.a)(t,[{key:"setInboxMessages",value:function(e){var t=this;this._inboxMessages.forEach((function(e){e.unsubscribe(t)})),this._inboxMessages=e,this._inboxMessages.forEach((function(e){e.subscribe(t)}))}},{key:"getInboxMessages",value:function(){return this._inboxMessages}},{key:"spliceAtIndex",value:function(e){this._inboxMessages.splice(e,1),this.updateSubscribers()}},{key:"addFriends",value:function(e){var t=this;e.forEach((function(e){e.subscribe(t)})),this._friends=this._friends.concat(e),this.updateSubscribers()}},{key:"addFriend",value:function(e){e.subscribe(this),this._friends.push(e),this.updateSubscribers()}},{key:"getFriendFromIndex",value:function(e){return this._friends[e]}},{key:"getFriends",value:function(){return this._friends}},{key:"clearAll",value:function(){var e=this;this._user.unsubscribe(this),this._checkInHandler.unsubscribe(this),this._checkInHandler.clearAll(),this._slectedBeer&&this._slectedBeer.unsubscribe(this),this._brewer&&this._brewer.unsubscribe(this),this._friends.forEach((function(t){t.unsubscribe(e),t.clearAll()})),this._groups.forEach((function(t){t.unsubscribe(e),t.clearAll()})),this._beers.forEach((function(t){t.unsubscribe(e)})),this._inboxMessages.forEach((function(t){t.unsubscribe(e)})),this._user=new hn(""),this._checkInHandler=new et,this._friends=[],this._groups=[],this._beers=[],this._inboxMessages=[],this._brewer=void 0,this._slectedBeer=void 0}},{key:"getUser",value:function(){return this._user}},{key:"getCheckInHandler",value:function(){return this._checkInHandler}},{key:"setGroups",value:function(e){var t=this;this._groups.forEach((function(e){e.unsubscribe(t)})),this._groups=e,this._groups.forEach((function(e){e.subscribe(t)})),this.updateSubscribers()}},{key:"addGroup",value:function(e){this._groups.push(e),e.subscribe(this),this.updateSubscribers()}},{key:"getGroups",value:function(){return this._groups}},{key:"getBrewer",value:function(){return this._brewer}},{key:"setBrewer",value:function(e){this._brewer&&this._brewer.unsubscribe(),this._brewer=e,this._brewer.subscribe(this)}},{key:"getBeers",value:function(){return this._beers}},{key:"setBeers",value:function(e){this._beers=e,this.updateSubscribers()}},{key:"getBeer",value:function(){return this._slectedBeer}},{key:"setBeer",value:function(e){this._slectedBeer&&this.unsubscribe(this),this._slectedBeer=e,e.subscribe(this),this.updateSubscribers()}},{key:"update",value:function(){this.updateSubscribers()}},{key:"getFriendFromUri",value:function(e){for(var t=0;t<this._friends.length;t++)if(this._friends[t].getUri()===e)return this._friends[t]}},{key:"getGroupFromIndex",value:function(e){return this._groups[e]}},{key:"getGroupFromCheckInLocationUri",value:function(e){for(var t=0;t<this._groups.length;t++)if(this._groups[t].getCheckInLocation()===e)return this._groups[t]}}]),t}(y),fn=n(267),gn=n.n(fn),vn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).update=function(){n.setState({modelHolder:n.state.modelHolder})},n.clearSearchQuery=function(){n.setState({searchQuery:""})},n.checkLoggedIn=Object(u.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.currentSession();case 2:if(!(t=e.sent)){e.next=21;break}return n.setState({fetchingFiles:!0}),n.state.modelHolder.getUser().setUri(t.webId),e.prev=6,e.next=9,St.build(n.state.modelHolder);case 9:r=e.sent,n.setState({solidCommunicator:r,loggedIn:!0,fetchingFiles:!1}),n.props.history.push("/profile"),e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(6),!(e.t0 instanceof Ye)){e.next=20;break}n.setState({accessError:!0,fetchingFiles:!1}),e.next=21;break;case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[6,14]])}))),n.onClickLogOut=function(){v.a.logout().then((function(e){n.state.modelHolder.clearAll(),n.setState({loggedIn:!1,userObject:void 0,accessError:!1})}))},n.onLoggedIn=function(){n.checkLoggedIn()},n.onBeerSearch=function(e){var t=n.props.location.pathname;n.setState({searchQuery:e}),e?"/beerresults"!==t&&n.props.history.push("/beerresults"):n.props.history.goBack()},n.onDeleteButtonClicked=function(){n.clearSearchQuery(),"/beerresults"===n.props.location.pathname&&n.props.history.goBack()},n.state={loggedIn:!1,searchQuery:"",modelHolder:new mn,solidCommunicator:void 0,accessError:!1,fetchingFiles:!1},n.state.modelHolder.subscribe(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.checkLoggedIn()}},{key:"render",value:function(){var e,t;return e=this.state.fetchingFiles?a.a.createElement(Ft,{onSearchBarButtonClick:this.onDeleteButtonClicked},a.a.createElement(b.b,{to:"/"},"\xa0")):this.state.accessError?a.a.createElement(Ft,{onSearchBarButtonClick:this.onDeleteButtonClicked},a.a.createElement(b.b,{to:"/",onClick:this.onClickLogOut},"Log out")):this.state.loggedIn?a.a.createElement(Ft,{onSearchBarButtonClick:this.onDeleteButtonClicked,onBeerSearch:this.onBeerSearch,loggedIn:this.state.loggedIn,searchQuery:this.state.searchQuery},a.a.createElement(b.b,{to:"/profile"},"Profile"),a.a.createElement(b.b,{to:"/friend"},"Friends"),a.a.createElement(b.b,{to:"/groups"},"Groups"),a.a.createElement(b.b,{to:"/inbox"},"Inbox"),a.a.createElement(b.b,{to:"/",onClick:this.onClickLogOut},"Log out")):a.a.createElement(Ft,{onBeerSearch:this.onBeerSearch,loggedIn:this.state.loggedIn},a.a.createElement(b.b,{to:"/LogIn"},"Log in")),t=this.state.fetchingFiles?a.a.createElement(pn,null):this.state.accessError?a.a.createElement(dn,null):a.a.createElement(ln,{loggedIn:this.state.loggedIn,modelHolder:this.state.modelHolder,solidCommunicator:this.state.solidCommunicator,clearSearchQuery:this.clearSearchQuery,onLoggedIn:this.onLoggedIn}),a.a.createElement("div",{id:"AppRoot"},a.a.createElement("header",null,a.a.createElement(b.b,{to:"/"},a.a.createElement("img",{src:gn.a})),e),t,a.a.createElement("footer",null,a.a.createElement("span",null,"This application works with"),a.a.createElement("a",{href:"https://solid.inrupt.com"},a.a.createElement("img",{alt:"Solid inrupt",src:Ht.a}))))}}]),t}(a.a.Component),bn=Object(k.g)(vn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(b.a,{basename:"/Social-linked-beer"},a.a.createElement(bn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},95:function(e,t,n){e.exports=n.p+"static/media/profilePic.b6681619.png"}},[[272,1,2]]]);
//# sourceMappingURL=main.71eaee28.chunk.js.map