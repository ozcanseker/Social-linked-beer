{"version":3,"sources":["assets/Knipsel.png","assets/pldnlogo.png","assets/Thumb-emoji.png","assets/star.png","assets/logo.png","../node_modules/@trust/webcrypto/src/algorithms sync","solid/SolidMethods.js","model/HolderComponents/Observable.js","model/HolderComponents/CheckIn.js","solid/rdf/Constants.js","solid/rdf/Prefixes.js","solid/rdf/SolidTtlTemplates.js","solid/solidCommunicatorInits/PodFolderBuilder.js","error/AccessError.js","solid/solidCommunicatorInits/AccessChecker.js","model/HolderComponents/CheckInHandler.js","model/HolderComponents/Friend.js","model/HolderComponents/Group.js","solid/solidCommunicatorInits/SolidCommunicatorBuilder.js","solid/solidCommunicatorInits/PreApplicationHandelings.js","model/HolderComponents/Beer.js","model/HolderComponents/Brewer.js","solid/DataLavaKadaster/DataLabsKadasterComm.js","model/HolderComponents/InboxMessage.js","solid/SolidCommunicator.js","component/NavBar.js","routes/page/Home.js","routes/page/LogIn.js","component/GroupMakerOverlay.js","component/ToastMethods.js","routes/page/Groups.js","routes/page/Friends.js","context/StandardContext.js","component/BeerCheckInComponent.js","routes/page/FriendPage.js","routes/page/CheckIns.js","routes/page/BeerResults.js","routes/page/Profile.js","routes/page/User.js","component/FetchingComponent.js","routes/page/Inbox.js","component/BeerCheckInOverlay.js","routes/page/BeerDetailScreen.js","routes/page/BrewerPage.js","routes/page/GroupDetail.js","routes/AppRoutes.js","routes/extrapage/AclErrorPage.js","model/HolderComponents/User.js","model/ModelHolder.js","App.js","serviceWorker.js","index.js","assets/profilePic.png","assets/logowhite.png"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","user","Observable","this","_subscribers","map","subscriber","update","push","filter","subscriberList","CheckIn","fileLocation","_fileLocation","userWebId","userName","beerLocation","beerName","checkInTime","rating","review","liked","amountOfLikes","_type","_userWebId","_userName","_beerLocation","_beerName","_checkInTime","_rating","_review","_liked","_amountOfLikes","updateSubscribers","APPURL","rdfLib","require","SOLID","Namespace","PIM","VCARD","TERMS","RDF","SOLIDLINKEDBEER","FOAF","LDP","SCHEMA","ACL","ACTIVITYSTREAM","BEER","PURLRELATIONSHIP","fileClient","authClient","postSolidFile","folder","filename","body","a","async","fetch","method","headers","putSolidFile","url","appendSolidResource","getUserFile","userttt","graph","status","text","parse","any","undefined","profile","publicProfileIndex","readFile","value","ppiTTL","ppigraph","app","sym","appQuery","nameFN","imageURL","inbox","console","log","result","name","imageUrl","appLocation","loadFriendData","friend","getUri","userDetails","setUserDetails","friendAppdataLocation","then","friendsAppdata","blankNode","startdate","points","setAppData","Date","getCheckInHandler","setBeerPoints","getTenUserCheckIns","getBeerDrinkerFolder","res","setReviesCheckInsAndUserCheckIns","reviews","checkIns","userBeerCheckIns","beerDrinkerFolder","checkinLocation","readFolder","fileContents","files","reverse","i","length","loadValuesInCheckInFile","beerCheckIn","includes","getAllUserCheckIns","beerdrinkerFolder","getFileLocation","ttlFile","checkinBN","checkinTime","personNN","userID","beerNN","reviewNN","ratingBN","query","each","amount","forEach","_appFolder","loadInAttributes","getInviteToLSBInvitation","urlInvitee","invitation","postLocation","documentNN","add","applicationNN","inviteBN","inviterNN","inviteeNN","getFriendShipRequest","relationshipBN","offerBN","getDeclineFriendshipRequest","from","description","friendshipRequestUri","rejectBN","getAcceptFriendshipRequest","acceptBN","getGroupInvitaion","groupUrl","groupName","groupNN","beerCheckInTemplate","time","beerNode","userNN","getIsNick","getName","consumeActionBN","checkInBlankNode","beerReviewInTemplate","reviewBlankNode","getGroupAppDataTTL","urlFile","friends","leader","getGroupAclTTL","groupLocation","groupAppDataLocation","groupAcl","webIdOwner","owner","ownerAgent","members","resource","getGroupCheckInsAclTTL","getGroupOtherPersonTTL","postlocation","getCheckInIndexBody","namedNode","member","groupCheckInIndexAcl","getLikeBody","checkInLocation","likeLocation","likeBN","getLikeAcl","likerWebid","likedUserWebid","likeFile","likefileAclLocation","ownerPost","buildFolders","storePublicProfileIndex","storagePublic","webId","createAppNodeForPublicTypeIndex","applocation","makeAppFolderStructure","sleep","ms","Promise","setTimeout","checkFolderIntegrity","appfolder","groupFolder","groupFolderAcl","getAclGroupFolder","likeFolder","likeFolderAcl","getAclLikeFolder","store","publicTypeIndex","publicLocation","findEmptyFolder","appLocationNN","rdflib","newTTLpublicTypeindex","makeRandomString","characters","charactersLength","charAt","Math","floor","random","appFolderUrl","aclUrl","getAclAppFolder","beerDrinkerUrl","getFriendsFile","friendsUrl","appDataFileAcl","appDataFile","getAppDataInit","getAclAppData","getACLInboxFolder","inboxUrl","inboxUrlacl","reviewUrlacl","reviewUrl","getACLSubmittersFriends","docAppData","appUrl","webIdUserLoggedIn","agent","friendsgroup","friendsgroupRequested","_public","resourceUrl","group1","fgroup1","fgroup2","AccessError","args","message","checkacess","storeProfileCard","readAcess","match","Write","Append","Control","CheckInHandler","_checkInsAmount","_beerReviewsAmount","_beerPoints","_userCheckIns","_allCheckinsGotten","checkIn","subscribe","bool","beerPoints","beerReviews","userCheckins","unsubscribe","concat","Friend","uri","_profileUri","_name","_imageUrl","_beerDrinkerFolder","_startDate","_checkInHandler","clearAll","pictureurl","getUserName","replace","getTime","Group","createdByMe","_url","_createdByMe","_groupLeader","_members","naam","checkInsLocation","groupDataLocation","groupCheckInIndex","groupLeader","groupMembers","_checkInsLocation","_groupDataLocation","_groupCheckInIndex","buildSolidCommunicator","modelHolder","solidCommunicator","returnObject","getUser","checkInHandler","webIdNN","getUserCard","getPPILocation","ppiObject","getStorePublic","getApplicationLocation","ppi","applicationLocation","sc","getUserDetails","loadInUserValues","setFileLocations","getAppData","loadInAppData","parseInt","loadInAppStore","docNN","addUserCheckIns","setBeerReviewsAmount","setCheckInsAmount","getFriends","addFriends","loadInFriendsStore","group","sentGroup","friendsStore","getGroups","setGroups","groupsLocation","groups","myGroups","folders","friendsGroups","loadGroupInformation","loadFriendGroupData","getUrl","file","NN","setUrl","groupCheckInsLocation","checkIndexLocation","groupDataGraph","hasMemberGroup","checkInIndex","checkInIndexGraph","pointsMemberGroup","setProperties","webIdUrl","profileCardTTl","storePublicTypeIndex","publicTypeIndexTTL","appdataLocation","appdatattl","friendsLocation","ttlFriends","index","checkAcceptedFriendShipRequests","acceptedRequests","friendsGroup","friendsSent","friendGraph","filettl","friendNN","relationBn","removeMatches","addFriend","serialize","friendsTtl","deleteFile","checkDeclinedFriendShipRequests","declinedRequests","Beer","ldUrl","_ldUrl","_brewers","type","label","alcoholpercentage","style","minSchenkTemperatuur","stamwortgehalte","maxSchenkTemperatuur","depiction","brewer","_style","_label","_description","_minSchenkTemperatuur","_maxSchenkTemperatuur","_stamwortgehalte","_alcoholpercentage","_depiction","Brewer","_ldurl","_beers","groep","address","categorie","jaarproduktie","provincie","_groep","_address","_categorie","_jaarproduktie","_provincie","addressLocality","postalCode","streetAddress","_addressLocality","_postalCode","_streetAddress","beers","getBeerData","queryTriply","JSON","makeBeerList","getBrewerData","getRegularBrewerData","getBrewerBeers","getPredicateObject","results","bindings","pred","obj","loadInBrewerInformation","getAddress","getAddressUrl","addAddressInformation","brewerUrl","addBeers","fetchBeerData","beer","brouwerijnaam","updateInformation","data","blyat","InboxMessage","_uri","_from","_desc","_location","_groupName","desc","location","SolidCommunicator","_modelHolder","_user","friendGroup","friendsRequestedGroup","_friendsStore","_friendGroup","_friendsRequestedGroup","FriendsStore","inboxContent","preApplicationHandelings","_appStore","_NNAppStore","_checkInFolder","_appStoreLocation","loadFileContents","setInboxMessages","fileTTL","groupQuery","setContents","query1","query2","fileName","encodeURI","invitationTTL","SolidTemplates","checkIfUserIsFriend","fileNameName","friendsFile","friendsTTL","getFrom","declineTTL","acceptedTTL","searchQuery","kadasterLabsComm","setBeers","hasReview","date","getCheckInLocation","addBeerPoints","sendBeerPoints","addBeerReviewToAmount","addToCheckInsAmount","getGroupFromCheckInLocationUri","getGroupCheckInIndex","userNamedNode","BeerCheckIn","toString","beerPointsQueryNow","appTTL","getAllCheckInsGotten","setUserCheckIns","setAllCheckInsGotten","beerdrinkerUrl","groupUrlAcl","appdataName","checkInsAcl","checkins","groupCheckInAclTtl","groupAclTtl","checkInsIndexAcl","checkInsIndex","checkInIndexBody","slice","aclBody","addGroup","folderLocation","getGroupName","getLocation","ownGroupBody","checkin","getLiked","encodedUri","likeFolderLocation","checkInUrl","likeBody","likeAclLocation","likeAclBody","setLikedTrue","catch","addMembers","getGroupDataFile","friendFile","checkInIndexFile","graph2","group2NN","NavBar","onInput","props","onBeerSearch","target","input","cldn","React","Children","toArray","children","child","key","to","loggedIn","onClick","onSearchBarButtonClick","splice","Component","Home","className","src","Logo","alt","href","solidImage","PLDNlogo","LogIn","onChangeCheckBox","setState","loginAsBrewer","state","onButtonClick","solidAuth","popupLogin","popupUri","currentSession","session","onLoggedIn","history","onRegisterClick","window","assign","typeLogIn","loginButton","disabled","activeClass","join","onChange","GroupMakerOverlay","onDivClick","stopPropagation","nameField","text2","isNewGroup","errorB","error","color","onOverLayCancelClick","overlay","display","isMulti","options","valuesSelector","selectedFriends","onSelect","makeGroup","waitToast","string","toast","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","updateToSuccesToast","toastUpdate","TYPE","SUCCESS","render","updateToErrorToast","ERROR","Groups","onMakeGroupClick","onSelectFriend","test","makeNewGroup","onGroupNameChange","friendsComs","getLeader","Friends","inputText","checkIfUser","toUpperCase","friendUri","friendUri2","friendUri3","friendUri4","pathname","onKeyPress","friendsElements","imgUrl","getImageUrl","friendsName","profilePic","placeholder","StandardContext","createContext","SUCK_ON","BeerCheckInComponent","onLikeClick","context","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","dateToString","getAmountOfLiked","Like","contextType","FriendPage","getFriendFromIndex","params","content","userCheckIns","getUserCheckIns","isFlipped","getStartDate","getCheckInsAmount","getBeerReviewsAmount","getBeerPoints","getAllCheckIns","getAllCheckInsLoggedInUser","BeerResults","fetchBeerList","onLinkClick","setBeer","elements","getBeers","listItem","size","autoFocus","Profile","getBeginDate","User","onNotJoinedButtonClick","clicked","inviteUserToSolib","sendFriendShipRequest","sendFriendshipRequest","button","FetchingComponent","Inbox","declineFriendShipRequest","spliceAtIndex","declineFriendSchipRequest","acceptFriendShipRequest","acceptFriendSchipRequest","declineGroupRequest","acceptGroupRequest","fetching","getInboxContents","items","getInboxMessages","buttonDiv","getType","getDesc","BeerCheckInOverlay","addReview","Rating","beerRating","precision","event","newValue","setBeerRating","beerReview","onBeerReviewChange","onAddReviewClick","groupsOptions","selectedOptions","checkInBeer","BeerDetailScreen","onPostBeerReview","addreview","postBeerReview","getBeer","onCheckInClick","onSelectGroup","beerData","alcholdPercentage","min","max","stamworth","unshift","Fragment","brewers","getBrewers","setBrewer","BrewerPage","getBrewerInformation","getBrewer","adress","GroupDetail","addFriendsClick","addFriendsToGroup","getGroupFromIndex","addFriendsButton","getMembers","sort","b","Star","title","stringify","AppRoutes","exact","path","component","isLoggedIn","UserPage","FriendsPage","clearSearchQuery","CheckIns","PrivateRoute","rest","PrivateRouteLogIn","withRouter","AclErrorPage","_beerDrinkerFoler","_isNick","appFolder","checkInFolder","startDate","ModelHolder","_friends","_brewer","_slectedBeer","_groups","_inboxMessages","inboxMessages","newFriends","newFriend","App","checkLoggedIn","fetchingFiles","setUri","build","accessError","onClickLogOut","logout","userObject","onCheckInButtonClick","navBar","Provider","newestOnTop","rtl","pauseOnVisibilityChange","Knipsel","Boolean","hostname","ReactDOM","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f76cf24a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Knipsel.4dafcfef.png\";","module.exports = __webpack_public_path__ + \"static/media/pldnlogo.ec6cdff8.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.5f8e2e70.png\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 490;","import CheckIn from \"../model/HolderComponents/CheckIn\";\r\nimport {\r\n    APPDATA_FILE,\r\n    APPLICATION_NAME_PTI,\r\n    BEERDRINKERFOLDER,\r\n    BEERREVIEWFILENAME,\r\n    CHECKIN_FOLDER\r\n} from \"./rdf/Constants\";\r\nimport {ACTIVITYSTREAM, BEER, FOAF, LDP, RDF, SCHEMA, SOLID, SOLIDLINKEDBEER, VCARD} from \"./rdf/Prefixes\";\r\n\r\nconst fileClient = require('solid-file-client');\r\nconst authClient = require('solid-auth-client');\r\nconst rdfLib = require('rdflib');\r\n\r\nlet user;\r\n\r\nexport function setUserSolidMethods(url){\r\n    user = url;\r\n}\r\n\r\n/**\r\n * Post a solid file.\r\n * @param folder The folder you want the file to live in\r\n * @param filename\r\n * @param body (ttl file)\r\n * @returns {Promise<void>}\r\n */\r\nexport async function postSolidFile(folder, filename, body) {\r\n    return await authClient.fetch(folder, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'text/turtle',\r\n            'Link': '<http://www.w3.org/ns/ldp#Resource>; rel=\"type\"',\r\n            'SLUG': filename\r\n        },\r\n        body: body\r\n    });\r\n}\r\n\r\n/**\r\n * Put the solid file. Will replace the current file.\r\n * @param url The url of the location of the resource.\r\n * @param body The body you want it to replace with\r\n * @returns {Promise<void>} ?\r\n */\r\nexport async function putSolidFile(url, body) {\r\n    authClient.fetch(url, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'text/turtle'\r\n        },\r\n        body: body\r\n    });\r\n}\r\n\r\n/**\r\n * Allows you to append a solid file.\r\n * @param {*} url of the file you want to append\r\n * @param {*} body `INSERT DATA { <subject> <predicate> <object> }`\r\n */\r\nexport async function appendSolidResource(url, body) {\r\n    authClient.fetch(url, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-update'\r\n        },\r\n        body: body\r\n    });\r\n}\r\n\r\n/**\r\n *\r\n * @param url\r\n * @returns {Promise<{appLocation: (*), imageUrl: (*), name: (*), inbox: (*), url: *}>}\r\n */\r\nexport async function getUserFile(url) {\r\n    let inbox;\r\n\r\n    //get url resource\r\n    let userttt = await authClient.fetch(url);\r\n    let graph = rdfLib.graph();\r\n\r\n    if (userttt.status === 403) {\r\n        throw new Error(\"Something went wrong, check if the profile card is correct\");\r\n    } else if (userttt.status > 400) {\r\n        throw new Error(\"Something went wrong, check if the profile card is correct\");\r\n    }\r\n\r\n    userttt = await userttt.text();\r\n\r\n    try {\r\n        //parse to check if it is ttl\r\n        rdfLib.parse(userttt, graph, url, \"text/turtle\");\r\n    } catch (err) {\r\n        throw new Error(\"Not a correct profile linked data file\");\r\n    }\r\n\r\n    //check if it is a profile card\r\n    let query = graph.any(undefined, undefined, FOAF('PersonalProfileDocument'));\r\n\r\n    if (query) {\r\n\r\n        //check if user has ppi\r\n        let profile = graph.any(undefined, SOLID(\"publicTypeIndex\"));\r\n        let publicProfileIndex = graph.any(profile, SOLID(\"publicTypeIndex\"));\r\n\r\n        if (publicProfileIndex) {\r\n            let ppiTTL = await fileClient.readFile(publicProfileIndex.value);\r\n            let ppigraph = rdfLib.graph();\r\n            rdfLib.parse(ppiTTL, ppigraph, publicProfileIndex.value, \"text/turtle\");\r\n\r\n            let app = rdfLib.sym(publicProfileIndex.value + \"#\" + APPLICATION_NAME_PTI);\r\n            let appQuery = ppigraph.any(app, SOLID(\"instanceContainer\"));\r\n\r\n            //get name and Image\r\n            let nameFN = graph.any(profile, VCARD('fn'));\r\n\r\n            if (!nameFN) {\r\n                nameFN = graph.any(profile, FOAF('name'));\r\n            }\r\n\r\n            let imageURL = graph.any(profile, VCARD('hasPhoto'));\r\n\r\n            if (!appQuery) {\r\n                inbox = graph.any(profile, LDP('inbox'));\r\n                console.log(inbox);\r\n            }\r\n\r\n            //applocation is not of beerdrinker\r\n            let result = {\r\n                url: url,\r\n                name: nameFN ? nameFN.value : undefined,\r\n                imageUrl: imageURL ? imageURL.value : undefined,\r\n                appLocation: appQuery ? appQuery.value : undefined,\r\n                inbox: inbox ? inbox.value : undefined\r\n            }\r\n\r\n            return result;\r\n        } else {\r\n            throw new Error(\"This user does not have a public type index\");\r\n        }\r\n    } else {\r\n        throw new Error(\"Not a profile card\");\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @param friend\r\n */\r\nexport async function loadFriendData(friend) {\r\n    //getUserFile\r\n    let userDetails = await getUserFile(friend.getUri());\r\n    friend.setUserDetails(userDetails.name, userDetails.imageUrl, userDetails.appLocation + BEERDRINKERFOLDER);\r\n\r\n    //appdatafile\r\n    let friendAppdataLocation = userDetails.appLocation + BEERDRINKERFOLDER + APPDATA_FILE;\r\n\r\n    fileClient.readFile(friendAppdataLocation).then(friendsAppdata => {\r\n        let graph = rdfLib.graph();\r\n        rdfLib.parse(friendsAppdata, graph, friendAppdataLocation, \"text/turtle\");\r\n\r\n        let blankNode = graph.any(undefined, SOLIDLINKEDBEER('startDate'));\r\n\r\n        let startdate = graph.any(blankNode, SOLIDLINKEDBEER('startDate'));\r\n        let points = graph.any(blankNode, SOLIDLINKEDBEER('points'));\r\n\r\n        friend.setAppData(new Date(startdate.value));\r\n        friend.getCheckInHandler().setBeerPoints(points.value);\r\n    });\r\n\r\n    getTenUserCheckIns(friend.getBeerDrinkerFolder()).then(res => {\r\n        friend.getCheckInHandler().setReviesCheckInsAndUserCheckIns(res.reviews, res.checkIns, res.userBeerCheckIns)\r\n    });\r\n}\r\n\r\nexport async function getTenUserCheckIns(beerDrinkerFolder) {\r\n    let checkinLocation = beerDrinkerFolder + CHECKIN_FOLDER;\r\n    let fileContents = (await fileClient.readFolder(checkinLocation)).files.reverse();\r\n    let userBeerCheckIns = [];\r\n\r\n    let checkIns = 0;\r\n    let reviews = 0;\r\n\r\n    for (let i = 0; i < fileContents.length; i++) {\r\n        if (i < 10) {\r\n            let beerCheckIn = new CheckIn(fileContents[i].url);\r\n            loadValuesInCheckInFile(beerCheckIn);\r\n            userBeerCheckIns.push(beerCheckIn);\r\n        }\r\n\r\n        if (fileContents[i].url.includes(BEERREVIEWFILENAME)) {\r\n            reviews++;\r\n        } else {\r\n            checkIns++;\r\n        }\r\n    }\r\n\r\n    return {userBeerCheckIns: userBeerCheckIns, reviews: reviews, checkIns: checkIns};\r\n}\r\n\r\nexport async function getAllUserCheckIns(beerdrinkerFolder) {\r\n    let checkinLocation = beerdrinkerFolder + CHECKIN_FOLDER;\r\n    let fileContents = (await fileClient.readFolder(checkinLocation)).files.reverse();\r\n    let userBeerCheckIns = [];\r\n\r\n    let checkIns = 0;\r\n    let reviews = 0;\r\n\r\n    for (let i = 0; i < fileContents.length; i++) {\r\n        let beerCheckIn = new CheckIn(fileContents[i].url);\r\n        loadValuesInCheckInFile(beerCheckIn);\r\n        userBeerCheckIns.push(beerCheckIn);\r\n\r\n        if (fileContents[i].url.includes(BEERREVIEWFILENAME)) {\r\n            reviews++;\r\n        } else {\r\n            checkIns++;\r\n        }\r\n\r\n    }\r\n\r\n    return {userBeerCheckIns: userBeerCheckIns, reviews: reviews, checkIns: checkIns};\r\n}\r\n\r\nexport async function loadValuesInCheckInFile(beerCheckIn) {\r\n    fileClient.readFile(beerCheckIn.getFileLocation()).then(ttlFile => {\r\n        let graph = rdfLib.graph();\r\n        rdfLib.parse(ttlFile, graph, beerCheckIn.getFileLocation(), \"text/turtle\");\r\n\r\n        let checkinBN = graph.any(undefined, RDF('type'), ACTIVITYSTREAM('Activity'));\r\n        let checkinTime = graph.any(checkinBN, ACTIVITYSTREAM('published'));\r\n\r\n        //person nn\r\n        let personNN = graph.any(undefined, FOAF('name'));\r\n        let userID = graph.any(personNN, FOAF('name'));\r\n        if(!userID){\r\n            userID = graph.any(personNN, FOAF('nick'));\r\n        }\r\n\r\n        //beer nn\r\n        let beerNN = graph.any(undefined, BEER('beerName'));\r\n        let beerName = graph.any(beerNN, BEER('beerName'));\r\n\r\n        let reviewNN = graph.any(undefined, SCHEMA('reviewBody'));\r\n        let review = graph.any(reviewNN, SCHEMA('reviewBody'));\r\n\r\n        let ratingBN = graph.any(undefined, SCHEMA('ratingValue'));\r\n        let rating = graph.any(ratingBN, SCHEMA('ratingValue'));\r\n\r\n        let query = graph.each(undefined, RDF('type') , ACTIVITYSTREAM(\"Like\"));\r\n        let amount = query.length;\r\n\r\n        let liked;\r\n        query.forEach(res => {\r\n            if(res.value.includes(user._appFolder)){\r\n                liked = true;\r\n            }\r\n        });\r\n\r\n        beerCheckIn.loadInAttributes(\r\n            personNN.value,\r\n            userID ? userID.value : undefined,\r\n            beerNN.value,\r\n            beerName.value,\r\n            checkinTime.value,\r\n            rating ? rating.value : undefined,\r\n            review ? review.value : undefined,\r\n            liked,\r\n            amount\r\n        );\r\n    });\r\n}","class Observable {\r\n    constructor(){\r\n        this._subscribers = [];\r\n    }\r\n\r\n    updateSubscribers(){\r\n        this._subscribers.map(subscriber => subscriber.update());\r\n    }\r\n\r\n    subscribe(subscriber){\r\n        this._subscribers.push(subscriber);\r\n    }\r\n\r\n    unsubscribe(subscriber){\r\n        this._subscribers.filter(subscriberList  => {\r\n            return subscriberList !== subscriber;\r\n        });\r\n    }\r\n}\r\n\r\nexport default Observable;","import Observable from \"./Observable\";\r\n\r\nclass CheckIn extends Observable{\r\n    constructor(fileLocation){\r\n        super();\r\n        this._fileLocation = fileLocation;\r\n    }\r\n\r\n    getFileLocation(){\r\n        return this._fileLocation;\r\n    }\r\n\r\n    loadInAttributes(userWebId, userName, beerLocation, beerName, checkInTime, rating, review, liked, amountOfLikes){\r\n        this._type  = rating? \"BeerReview\" : \"BeerCheckIn\";\r\n        this._userWebId = userWebId;\r\n        this._userName = userName;\r\n        this._beerLocation = beerLocation;\r\n        this._beerName = beerName;\r\n        this._checkInTime = checkInTime;\r\n        this._rating = rating;\r\n        this._review = review;\r\n        this._liked = liked;\r\n        this._amountOfLikes = amountOfLikes;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setLikedTrue(){\r\n        this._liked = true;\r\n        this._amountOfLikes++;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getLiked(){\r\n        return this._liked;\r\n    }\r\n\r\n    getAmountOfLiked() {\r\n        return this._amountOfLikes;\r\n    }\r\n}\r\n\r\nexport default CheckIn;","export const APPURL = \"https://ozcanseker.github.io/Social-linked-beer/\";\r\nexport const APPLICATION_NAME = \"Social Linked Beer\";\r\n\r\n/**\r\n * App folder names\r\n * @type {string}\r\n */\r\nexport const APPLICATION_NAME_PTI = \"SocialLinkedBeer\";\r\nexport const APPFOLDER_NAME = \"sociallinkedbeer\";\r\nexport const CHECKIN_FOLDER = \"checkins/\";\r\nexport const BEERDRINKERFOLDER = \"beerdrinker/\";\r\nexport const CONTENT_TYPE_TURTLE = \"text/turtle\";\r\nexport const INBOX_FOLDER = 'inbox/';\r\nexport const LIKE_FOLDER = 'likes/';\r\n\r\nexport const APPDATA_FILE = 'appdata.ttl';\r\nexport const FRIENDS_FILE = \"friends.ttl\";\r\nexport const APPDATA_FILENAME = 'appdata';\r\nexport const FRIENDS_FILENAME = \"friends\";\r\n\r\nexport const FRIENDSGROUPNAME = \"Friends\";\r\nexport const FRIENDSSENTGROUPNAME = \"FriendsRequested\";\r\n\r\nexport const GROUPFOLDER = \"groups/\";\r\nexport const GROUP_MEMBERS = \"Members\";\r\nexport const GROUP_DATA_FILENAME = \"groupdata\";\r\nexport const GROUP_DATA_FILE = \"groupdata.ttl\";\r\n\r\nexport const CHECKIN_INDEX_FILE = \"checkinIndex.ttl\";\r\nexport const CHECKIN_INDEX_NAME = \"checkinIndex\";\r\n\r\n/**\r\n * Text\r\n * @type {string}\r\n */\r\nexport const APPLICATION_INVITAION_NAME = \"Social_Linked_Beer_app_invitation_from_\";\r\nexport const APPLICATION_INVITAION_DESC = \" invites you to drink a beer with him on https://ozcanseker.github.io/Social-linked-beer/ .\";\r\n\r\nexport const BEERREVIEWFILENAME = \"_BeerReview\";\r\nexport const BEERCHECKINFILENAME = \"_BeerCheckIn\";\r\n\r\nexport const FRIENDSSHIPREQUEST_NAME = \"Social_Linked_Beer_friendshiprequest_from_\";\r\nexport const FRIENDSSHIPREQUEST_DESC = \" invites you to share your stories with him.\";\r\n\r\nexport const FRIENDSHIPREQUEST_ACCEPTED_NAME = \"Social_Linked_Beer_FriendschipRequestAccepted_from_\";\r\nexport const FRIENDSHIPREQUEST_ACCEPTED_DESC = \" accepted your friendship request.\";\r\n\r\nexport const FRIENDSHIPREQUEST_DECLINED_NAME = \"Social_Linked_Beer_FriendschipRequestDecline_from_\";\r\nexport const FRIENDSHIPREQUEST_DECLINED_DESC = \" declined your friendship request.\";\r\n\r\nexport const GROUPINVITATION_NAME = \"Social_Linked_Beer_groupInvitation_to_\";\r\nexport const GROUPINVITATION_DESC = \"Would you like to join us at \";\r\n\r\nexport const LIKEFILENAME = \"_LIKE\";\r\n\r\nexport const FRIENDSHIPREQUESTCLASSNAME = \"Friend request\";\r\nexport const GROUPINVITATIONCLASSNAME = \"Group request\";\r\n\r\nexport const UNKOWNTYPEINBOXMESSAGE = \"UNKOWNTYPEINBOXMESSAGE\";","const rdfLib = require('rdflib');\r\n\r\nexport const SOLID = rdfLib.Namespace( \"http://www.w3.org/ns/solid/terms#\");\r\nexport const PIM = rdfLib.Namespace(\"http://www.w3.org/ns/pim/space#\");\r\nexport const VCARD = rdfLib.Namespace(\"http://www.w3.org/2006/vcard/ns#\");\r\nexport const TERMS = rdfLib.Namespace('http://purl.org/dc/terms/');\r\nexport const RDF = rdfLib.Namespace(\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\");\r\nexport const SOLIDLINKEDBEER = rdfLib.Namespace('https://ozcanseker.github.io/Social-linked-beer/vocab/');\r\nexport const FOAF = rdfLib.Namespace('http://xmlns.com/foaf/0.1/');\r\nexport const LDP = rdfLib.Namespace('http://www.w3.org/ns/ldp#');\r\nexport const DBPEDIA = rdfLib.Namespace('http://dbeerpedia.com/def#');\r\nexport const SCHEMA = rdfLib.Namespace('http://schema.org/');\r\nexport const ACL = rdfLib.Namespace(\"http://www.w3.org/ns/auth/acl#\");\r\nexport const ACTIVITYSTREAM = rdfLib.Namespace(\"https://www.w3.org/ns/activitystreams#\");\r\nexport const BEER = rdfLib.Namespace(\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/\");\r\nexport const PURLRELATIONSHIP = rdfLib.Namespace(\"http://purl.org/vocab/relationship/\");\r\n","import * as rdfLib from \"rdflib\";\r\nimport {ACL, ACTIVITYSTREAM, BEER, FOAF, PURLRELATIONSHIP, RDF, SCHEMA, SOLIDLINKEDBEER, VCARD} from \"./Prefixes\";\r\nimport {APPLICATION_NAME, APPURL, GROUP_MEMBERS} from \"./Constants\";\r\n\r\nexport function getInviteToLSBInvitation(urlInvitee, invitation, postLocation, userWebId){\r\n    let graph = rdfLib.graph();\r\n\r\n    //document\r\n    let documentNN = rdfLib.sym(postLocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    //application\r\n    let applicationNN = rdfLib.sym(APPURL);\r\n    graph.add(applicationNN, RDF('type'), ACTIVITYSTREAM(\"Application\"));\r\n    graph.add(applicationNN, RDF('type'), ACTIVITYSTREAM(\"Page\"));\r\n    graph.add(applicationNN, ACTIVITYSTREAM('name'), APPLICATION_NAME);\r\n    graph.add(applicationNN, ACTIVITYSTREAM('url'), APPURL);\r\n\r\n    //invite\r\n    let inviteBN = rdfLib.blankNode();\r\n    graph.add(inviteBN, RDF('type'), ACTIVITYSTREAM('Invite'));\r\n    graph.add(inviteBN, ACTIVITYSTREAM('summary'), invitation);\r\n\r\n    let inviterNN = rdfLib.sym(userWebId);\r\n    let inviteeNN = rdfLib.sym(urlInvitee);\r\n\r\n    //connections\r\n    graph.add(inviteBN, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), inviteBN);\r\n\r\n    graph.add(inviteBN, ACTIVITYSTREAM('object'), applicationNN);\r\n\r\n    graph.add(inviteBN, ACTIVITYSTREAM('actor'), inviterNN);\r\n    graph.add(inviteBN, ACTIVITYSTREAM('target'), inviteeNN);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getFriendShipRequest(urlInvitee, invitation, postLocation, userWebId){\r\n    //make friendrequest\r\n    let graph = rdfLib.graph();\r\n\r\n    //document\r\n    let documentNN = rdfLib.sym(postLocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    //Relationship\r\n    let relationshipBN = rdfLib.blankNode();\r\n    graph.add(relationshipBN, RDF('type'),  ACTIVITYSTREAM('Relationship'));\r\n    graph.add(relationshipBN, ACTIVITYSTREAM('relationship'), PURLRELATIONSHIP('friendOf'));\r\n\r\n    //offer\r\n    let offerBN = rdfLib.blankNode();\r\n    graph.add(offerBN, RDF('type'), ACTIVITYSTREAM('Offer'));\r\n    graph.add(offerBN, ACTIVITYSTREAM('summary'), invitation);\r\n\r\n    let inviteeNN = rdfLib.sym(urlInvitee);\r\n    let inviterNN = rdfLib.sym(userWebId);\r\n\r\n    graph.add(offerBN, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), offerBN);\r\n\r\n    graph.add(offerBN, ACTIVITYSTREAM('object'), relationshipBN);\r\n    graph.add(offerBN, ACTIVITYSTREAM('actor'), inviterNN);\r\n    graph.add(offerBN, ACTIVITYSTREAM('target'), inviteeNN);\r\n\r\n    graph.add(relationshipBN, ACTIVITYSTREAM('subject'), inviterNN);\r\n    graph.add(relationshipBN, ACTIVITYSTREAM('object'), inviteeNN);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getDeclineFriendshipRequest(from , description, postLocation, userWebId, friendshipRequestUri){\r\n    let graph = rdfLib.graph();\r\n\r\n    //doc\r\n    let documentNN = rdfLib.sym(postLocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    //accept\r\n    let rejectBN = rdfLib.blankNode();\r\n    graph.add(rejectBN, RDF('type'), ACTIVITYSTREAM('Reject'));\r\n    graph.add(rejectBN, ACTIVITYSTREAM('summary'), description);\r\n\r\n    //balls\r\n    graph.add(rejectBN, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), rejectBN);\r\n\r\n    graph.add(rejectBN, ACTIVITYSTREAM('object'), rdfLib.sym(friendshipRequestUri));\r\n    graph.add(rejectBN, ACTIVITYSTREAM('actor'), rdfLib.sym(userWebId));\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getAcceptFriendshipRequest(from, description , postLocation, userWebId, friendshipRequestUri){\r\n    let graph = rdfLib.graph();\r\n\r\n    //doc\r\n    let documentNN = rdfLib.sym(postLocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    //accept\r\n    let acceptBN = rdfLib.blankNode();\r\n    graph.add(acceptBN, RDF('type'), ACTIVITYSTREAM('Accept'));\r\n    graph.add(acceptBN, ACTIVITYSTREAM('summary'), description)\r\n\r\n    //balls\r\n    graph.add(acceptBN, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), acceptBN);\r\n\r\n    graph.add(acceptBN, ACTIVITYSTREAM('object'), rdfLib.sym(friendshipRequestUri));\r\n    graph.add(acceptBN, ACTIVITYSTREAM('actor'), rdfLib.sym(userWebId));\r\n\r\n    //make a text file and send\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getGroupInvitaion(urlInvitee, invitation, postLocation, userWebId, groupUrl, groupName){\r\n    //make friendrequest\r\n    let graph = rdfLib.graph();\r\n\r\n    //document\r\n    let documentNN = rdfLib.sym(postLocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    //groupnn\r\n    let groupNN = rdfLib.sym(groupUrl);\r\n    graph.add(groupNN, RDF('type'), SOLIDLINKEDBEER('Group'));\r\n    graph.add(groupNN, SOLIDLINKEDBEER('name'), groupName);\r\n\r\n    //invite bn\r\n    let inviteBN = rdfLib.blankNode();\r\n    graph.add(inviteBN, RDF('type'), ACTIVITYSTREAM('Invite'));\r\n    graph.add(inviteBN, ACTIVITYSTREAM('summary'), invitation);\r\n\r\n    let inviteeNN = rdfLib.sym(urlInvitee);\r\n    let inviterNN = rdfLib.sym(userWebId);\r\n\r\n    graph.add(inviteBN, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), inviteBN);\r\n\r\n    graph.add(inviteBN, ACTIVITYSTREAM('object'), groupNN);\r\n    graph.add(inviteBN, ACTIVITYSTREAM('actor'), inviterNN);\r\n    graph.add(inviteBN, ACTIVITYSTREAM('target'), inviteeNN);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} postLocation \r\n * @param {string} userName \r\n * @param {string} webId \r\n * @param {url to webresresource} beerLocation \r\n * @param {string} beerName \r\n * @param {Date} time \r\n */\r\nexport function beerCheckInTemplate(postLocation, user, beerLocation, beerName, time){\r\n    let graph = rdfLib.graph();\r\n\r\n    //doc\r\n    let documentNN = rdfLib.sym(postLocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    //beer\r\n    let beerNode = rdfLib.sym(beerLocation);\r\n    graph.add(beerNode, RDF('type'), BEER('Beer'));\r\n    graph.add(beerNode, BEER('beerName'), beerName);\r\n\r\n    //user\r\n    let userNN = rdfLib.sym(user.getUri());\r\n    graph.add(userNN, RDF('type'), FOAF('Person'));\r\n\r\n    if(user.getIsNick()){\r\n        graph.add(userNN, FOAF('nick'), user.getName());\r\n    }else{\r\n        graph.add(userNN, FOAF('name'), user.getName());\r\n    }\r\n\r\n    //consume action\r\n    let consumeActionBN = rdfLib.blankNode();\r\n    graph.add(consumeActionBN, RDF('type'), SCHEMA('ConsumeAction'));\r\n\r\n    //checkIn BlankNode\r\n    let checkInBlankNode = rdfLib.blankNode();\r\n    graph.add(checkInBlankNode, RDF('type'), ACTIVITYSTREAM('Activity'));\r\n    graph.add(checkInBlankNode, RDF('type'), SOLIDLINKEDBEER('CheckIn'));\r\n    graph.add(checkInBlankNode, ACTIVITYSTREAM('published'), time);\r\n\r\n    //interaction between nodes.\r\n    graph.add(consumeActionBN, SCHEMA('object'), beerNode);\r\n    graph.add(consumeActionBN, SCHEMA('agent'), userNN);\r\n\r\n    graph.add(checkInBlankNode, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), checkInBlankNode);\r\n\r\n    graph.add(checkInBlankNode, SOLIDLINKEDBEER('checkInOf'), consumeActionBN);\r\n\r\n    // //make a text file and send\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function beerReviewInTemplate(postLocation, user, beerLocation, beerName, time, rating, review){\r\n    let graph = rdfLib.graph();\r\n\r\n    //doc\r\n    let documentNN = rdfLib.sym(postLocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    //beer\r\n    let beerNode = rdfLib.sym(beerLocation);\r\n    graph.add(beerNode, RDF('type'), BEER('Beer'));\r\n    graph.add(beerNode, BEER('beerName'), beerName);\r\n\r\n    //user\r\n    let userNN = rdfLib.sym(user.getUri());\r\n    graph.add(userNN, RDF('type'), FOAF('Person'));\r\n\r\n    if(user.getIsNick()){\r\n        graph.add(userNN, FOAF('nick'), user.getName());\r\n    }else{\r\n        graph.add(userNN, FOAF('name'), user.getName());\r\n    }\r\n\r\n    //consume action\r\n    let consumeActionBN = rdfLib.blankNode();\r\n    graph.add(consumeActionBN, RDF('type'), SCHEMA('ConsumeAction'));\r\n\r\n    //checkIn BlankNode\r\n    let reviewBlankNode = rdfLib.blankNode();\r\n    graph.add(reviewBlankNode, RDF('type'), ACTIVITYSTREAM('Activity'));\r\n    graph.add(reviewBlankNode, RDF('type'), SOLIDLINKEDBEER('CheckIn'));\r\n    graph.add(reviewBlankNode, RDF('type'), SOLIDLINKEDBEER('Review'));\r\n    graph.add(reviewBlankNode, RDF('type'), SCHEMA('Review'));\r\n\r\n    graph.add(reviewBlankNode, ACTIVITYSTREAM('published'), time);\r\n    graph.add(reviewBlankNode, SCHEMA('reviewBody'), review);\r\n\r\n    //Rating\r\n    let ratingBN = rdfLib.blankNode();\r\n\r\n    graph.add(ratingBN, RDF('type'), SCHEMA('Rating'));\r\n    graph.add(ratingBN, SCHEMA('worstRating'), 1);\r\n    graph.add(ratingBN, SCHEMA('bestRating'), 5);\r\n    graph.add(ratingBN, SCHEMA('ratingValue'), rating);\r\n\r\n    //interaction between nodes.\r\n    graph.add(consumeActionBN, SCHEMA('object'), beerNode);\r\n    graph.add(consumeActionBN, SCHEMA('agent'), userNN);\r\n\r\n    graph.add(reviewBlankNode, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), reviewBlankNode);\r\n\r\n    graph.add(reviewBlankNode, SOLIDLINKEDBEER('checkInOf'), consumeActionBN);\r\n    graph.add(reviewBlankNode, SCHEMA('itemReviewed'), beerNode);\r\n    graph.add(reviewBlankNode, SCHEMA('reviewRating'), ratingBN);\r\n\r\n    // //make a text file and send\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getGroupAppDataTTL(urlFile, friends, leader, groupName){\r\n    let graph = rdfLib.graph();\r\n\r\n    let documentNN = rdfLib.sym(urlFile);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    let groupNN = rdfLib.sym(urlFile + \"#\" + GROUP_MEMBERS);\r\n\r\n    graph.add(groupNN, RDF('type'), VCARD('Group'));\r\n    graph.add(groupNN, RDF('type'), SOLIDLINKEDBEER('Group'));\r\n\r\n    graph.add(groupNN, SOLIDLINKEDBEER('hasLeader'), rdfLib.sym(leader));\r\n\r\n    friends.forEach(res => {\r\n        graph.add(groupNN, VCARD('hasMember'), rdfLib.sym(res.getUri()));\r\n    });\r\n\r\n    graph.add(groupNN, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), groupNN);\r\n\r\n    graph.add(groupNN, SOLIDLINKEDBEER('name'), groupName);\r\n\r\n    return rdfLib.serialize(undefined, graph, urlFile, 'text/turtle');\r\n}\r\n\r\nexport function getGroupAclTTL(groupLocation, groupAppDataLocation, groupAcl, webIdOwner){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(groupAcl + \"#Owner\");\r\n    let ownerAgent = rdfLib.sym(webIdOwner);\r\n\r\n    let members = rdfLib.sym(groupAppDataLocation + \"#\" + GROUP_MEMBERS);\r\n    let resource = rdfLib.sym(groupLocation);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), ownerAgent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(members, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(members, ACL('accessTo'), resource);\r\n    graph.add(members, ACL('default'), resource);\r\n\r\n    graph.add(members, ACL('agentGroup'), members);\r\n\r\n    graph.add(members, ACL('mode'), ACL('Read'));\r\n\r\n    return rdfLib.serialize(undefined, graph, groupAcl, 'text/turtle');\r\n}\r\n\r\nexport function getGroupCheckInsAclTTL(groupLocation, groupAppDataLocation, groupAcl, webIdOwner){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(groupAcl + \"#Owner\");\r\n    let ownerAgent = rdfLib.sym(webIdOwner);\r\n\r\n    let members = rdfLib.sym(groupAppDataLocation + \"#\" + GROUP_MEMBERS);\r\n    let resource = rdfLib.sym(groupLocation);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), ownerAgent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(members, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(members, ACL('accessTo'), resource);\r\n    graph.add(members, ACL('default'), resource);\r\n\r\n    graph.add(members, ACL('agentGroup'), members);\r\n    graph.add(members, ACL('mode'), ACL('Read'));\r\n    graph.add(members, ACL('mode'), ACL('Append'));\r\n\r\n    return rdfLib.serialize(undefined, graph, groupAcl, 'text/turtle');\r\n}\r\n\r\nexport function getGroupOtherPersonTTL(groupLocation, postlocation){\r\n    let graph = rdfLib.graph();\r\n\r\n    let documentNN = rdfLib.sym(postlocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    let groupNN = rdfLib.sym(groupLocation);\r\n    graph.add(groupNN, RDF('type'), VCARD('Group'));\r\n    graph.add(groupNN, RDF('type'), SOLIDLINKEDBEER('Group'));\r\n\r\n    graph.add(groupNN, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), groupNN);\r\n\r\n    return rdfLib.serialize(undefined, graph, postlocation, 'text/turtle');\r\n}\r\n\r\nexport function getCheckInIndexBody(postlocation, members, user){\r\n    let graph = rdfLib.graph();\r\n\r\n    let documentNN = rdfLib.sym(postlocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    let namedNode = rdfLib.sym(postlocation + \"#\" + GROUP_MEMBERS);\r\n    members.push(user);\r\n\r\n    graph.add(namedNode, RDF('type'), VCARD('Group'));\r\n\r\n    members.forEach(res => {\r\n        let member = rdfLib.sym(res.getUri());\r\n        graph.add(namedNode, VCARD('hasMember'), member);\r\n        graph.add(member, RDF('type'), FOAF('Person'));\r\n        graph.add(member, RDF('type'), SOLIDLINKEDBEER('GroupMember'));\r\n        graph.add(member, SOLIDLINKEDBEER('points'), 0);\r\n    });\r\n\r\n    graph.add(namedNode, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), namedNode);\r\n\r\n    return rdfLib.serialize(undefined, graph, postlocation, 'text/turtle');\r\n}\r\n\r\nexport function groupCheckInIndexAcl(groupLocation, groupAppDataLocation, groupAcl, webIdOwner){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(groupAcl + \"#Owner\");\r\n    let ownerAgent = rdfLib.sym(webIdOwner);\r\n\r\n    let members = rdfLib.sym(groupAppDataLocation + \"#\" + GROUP_MEMBERS);\r\n    let resource = rdfLib.sym(groupLocation);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), ownerAgent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(members, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(members, ACL('accessTo'), resource);\r\n    graph.add(members, ACL('default'), resource);\r\n\r\n    graph.add(members, ACL('agentGroup'), members);\r\n    graph.add(members, ACL('mode'), ACL('Read'));\r\n    graph.add(members, ACL('mode'), ACL('Write'));\r\n    graph.add(members, ACL('mode'), ACL('Append'));\r\n\r\n    return rdfLib.serialize(undefined, graph, groupAcl, 'text/turtle');\r\n}\r\n\r\nexport function getLikeBody(checkInLocation, likeLocation, userWebId){\r\n    let graph = rdfLib.graph();\r\n\r\n    let documentNN = rdfLib.sym(likeLocation);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    let likeBN = rdfLib.blankNode();\r\n    graph.add(likeBN, RDF('type'), ACTIVITYSTREAM('Like'));\r\n\r\n    graph.add(likeBN, ACTIVITYSTREAM('actor'), rdfLib.sym(userWebId));\r\n    graph.add(likeBN, ACTIVITYSTREAM('object'), rdfLib.sym(checkInLocation));\r\n\r\n    graph.add(likeBN, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(documentNN, FOAF('primaryTopic'), likeBN);\r\n\r\n    return rdfLib.serialize(undefined, graph, likeLocation, 'text/turtle');\r\n}\r\n\r\nexport function getLikeAcl(likerWebid, likedUserWebid, likeFile, likefileAclLocation){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(likefileAclLocation + \"#Owner\");\r\n    let ownerPost = rdfLib.sym(likefileAclLocation + \"#OwnerPost\");\r\n    let resource = rdfLib.sym(likeFile);\r\n\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), rdfLib.sym(likerWebid));\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    if(likerWebid !== likedUserWebid){\r\n        //public\r\n        graph.add(ownerPost, RDF('type'), ACL('Authorization'));\r\n\r\n        graph.add(ownerPost, ACL('accessTo'), resource);\r\n        graph.add(ownerPost, ACL('default'), resource);\r\n        graph.add(ownerPost, ACL('agent'), rdfLib.sym(likedUserWebid));\r\n\r\n        graph.add(ownerPost, ACL('mode'), ACL('Read'));\r\n    }\r\n\r\n    return rdfLib.serialize(undefined, graph, likefileAclLocation, 'text/turtle');\r\n}","import {postSolidFile, putSolidFile} from \"../SolidMethods\";\r\n\r\nimport * as fileClient from \"solid-file-client\";\r\nimport authClient from \"solid-auth-client\";\r\nimport * as rdflib from \"rdflib\";\r\nimport {ACL, FOAF, RDF, SOLID, SOLIDLINKEDBEER, TERMS, VCARD} from \"../rdf/Prefixes\";\r\nimport {\r\n    APPDATA_FILE,\r\n    APPDATA_FILENAME,\r\n    APPFOLDER_NAME,\r\n    BEERDRINKERFOLDER,\r\n    CHECKIN_FOLDER,\r\n    CONTENT_TYPE_TURTLE,\r\n    FRIENDS_FILE,\r\n    FRIENDS_FILENAME, GROUPFOLDER,\r\n    INBOX_FOLDER, LIKE_FOLDER\r\n} from \"../rdf/Constants\";\r\n\r\nexport async function buildFolders(publicProfileIndex, storePublicProfileIndex, storagePublic, app, webId) {\r\n    //TODO a whole lot of error checking. Checking for 400 error codes and stuff like that\r\n    let applocation = await createAppNodeForPublicTypeIndex(storePublicProfileIndex, publicProfileIndex, storagePublic, app);\r\n    await makeAppFolderStructure(applocation, webId);\r\n\r\n    //sleep zodat de server de requests kan verwerken\r\n    await sleep(2000);\r\n\r\n    return applocation;\r\n}\r\n\r\nfunction sleep(ms) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\nexport async function checkFolderIntegrity(appfolder, webId) {\r\n    //TODO breidt dit uit\r\n\r\n    //Group\r\n    let groupFolder = appfolder + BEERDRINKERFOLDER + GROUPFOLDER;\r\n    let groupRes = await authClient.fetch(groupFolder);\r\n\r\n    if (groupRes.status === 404) {\r\n        let groupFolderAcl = groupFolder + '.acl';\r\n        await fileClient.createFolder(groupFolder);\r\n        let body = getAclGroupFolder(groupFolder, groupFolderAcl, webId);\r\n        await putSolidFile(groupFolderAcl, body);\r\n    }\r\n\r\n    let likeFolder = appfolder + BEERDRINKERFOLDER + LIKE_FOLDER;\r\n    let likeRes = await authClient.fetch(likeFolder);\r\n\r\n    if (likeRes.status === 404) {\r\n        let likeFolderAcl = likeFolder + '.acl';\r\n        await fileClient.createFolder(likeFolder);\r\n        let body = getAclLikeFolder(likeFolder, likeFolderAcl, webId);\r\n        await putSolidFile(likeFolderAcl, body);\r\n    }\r\n}\r\n\r\n/**\r\n * Adds the applicatioin to the public type index\r\n * @param {store} store\r\n * @param {NN} publicTypeIndex\r\n * @param {string} publicLocation\r\n * @param {string} app\r\n */\r\nasync function createAppNodeForPublicTypeIndex(store, publicTypeIndex, publicLocation, app) {\r\n    //find empty folder\r\n    let appLocation = await findEmptyFolder(publicLocation);\r\n\r\n    //create a named node for the app\r\n    let appLocationNN = rdflib.sym(appLocation);\r\n\r\n    //add values to the pti\r\n    store.add(publicTypeIndex, TERMS('references'), app);\r\n    store.add(app, RDF('type'), SOLID('TypeRegistration'));\r\n    store.add(app, SOLID('instanceContainer'), appLocationNN);\r\n\r\n    //serialize and send the pti\r\n    let newTTLpublicTypeindex = await rdflib.serialize(undefined, store, publicTypeIndex.value, CONTENT_TYPE_TURTLE);\r\n    await putSolidFile(publicTypeIndex.value, newTTLpublicTypeindex);\r\n\r\n    return appLocation;\r\n}\r\n\r\n/**\r\n * Finds an empty folder for the application\r\n * @param {} publicLocation\r\n */\r\nasync function findEmptyFolder(publicLocation) {\r\n    //TODO improve this. You can check if the other folder holds up to your standards. A lot of possibilities\r\n    let appLocation = publicLocation + APPFOLDER_NAME + '/';\r\n\r\n    //see if there is a folder at the applocation\r\n    let res = await authClient.fetch(appLocation);\r\n\r\n    //make eiher a new random foldername or use the original\r\n    if (res.status % 400 < 100) {\r\n        return appLocation;\r\n    } else {\r\n        return publicLocation + APPFOLDER_NAME + makeRandomString(10) + '/'\r\n    }\r\n}\r\n\r\n/**\r\n * Makes a random string\r\n * @param {int} length\r\n */\r\nfunction makeRandomString(length) {\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * Makes the folder struckture for the application\r\n * @param {string} appFolderUrl\r\n * @param {string} webId\r\n */\r\nasync function makeAppFolderStructure(appFolderUrl, webId) {\r\n    //TODO make all async\r\n    let body;\r\n\r\n    //top folder\r\n    let aclUrl = appFolderUrl + '.acl';\r\n\r\n    await fileClient.createFolder(appFolderUrl);\r\n    body = getAclAppFolder(appFolderUrl, aclUrl, webId);\r\n    await putSolidFile(aclUrl, body);\r\n\r\n    //beerdrinker\r\n    let beerDrinkerUrl = appFolderUrl + BEERDRINKERFOLDER;\r\n    await fileClient.createFolder(beerDrinkerUrl);\r\n\r\n    // friends\r\n    let friendsUrl = beerDrinkerUrl + FRIENDS_FILE;\r\n    body = getFriendsFile(friendsUrl, webId);\r\n\r\n    await postSolidFile(beerDrinkerUrl, FRIENDS_FILENAME, body);\r\n\r\n    //appData\r\n    let appDataFile = beerDrinkerUrl + APPDATA_FILE;\r\n    let appDataFileAcl = appDataFile + '.acl';\r\n\r\n    body = getAppDataInit(appDataFile);\r\n    await postSolidFile(beerDrinkerUrl, APPDATA_FILENAME, body);\r\n\r\n    body = getAclAppData(appDataFile, appDataFileAcl, webId, friendsUrl);\r\n    await putSolidFile(appDataFileAcl, body);\r\n\r\n    //inboxfolder\r\n    let inboxUrl = beerDrinkerUrl + INBOX_FOLDER;\r\n    let inboxUrlacl = inboxUrl + '.acl';\r\n    body = getACLInboxFolder(inboxUrl, inboxUrlacl, webId);\r\n\r\n    await fileClient.createFolder(inboxUrl);\r\n    await putSolidFile(inboxUrlacl, body);\r\n\r\n    //check in folder\r\n    let reviewUrl = beerDrinkerUrl + CHECKIN_FOLDER;\r\n    let reviewUrlacl = reviewUrl + '.acl';\r\n\r\n    await fileClient.createFolder(reviewUrl);\r\n    body = getACLSubmittersFriends(reviewUrl, reviewUrlacl, webId, friendsUrl);\r\n    await putSolidFile(reviewUrlacl, body);\r\n\r\n    //check in folder\r\n    let groupFolder = beerDrinkerUrl + GROUPFOLDER;\r\n    let groupFolderAcl = groupFolder + '.acl';\r\n\r\n    //group folder\r\n    await fileClient.createFolder(groupFolder);\r\n    body = getAclGroupFolder(groupFolder, groupFolderAcl, webId);\r\n    await putSolidFile(groupFolderAcl, body);\r\n\r\n    //like folder\r\n    let likeFolder = beerDrinkerUrl + LIKE_FOLDER;\r\n    let likeFolderAcl = likeFolder + '.acl';\r\n\r\n    await fileClient.createFolder(likeFolder);\r\n    body = getAclLikeFolder(likeFolder, likeFolderAcl, webId);\r\n    await putSolidFile(likeFolderAcl, body);\r\n}\r\n\r\n/**\r\n * The init file for the appdata\r\n * @param {string} url\r\n */\r\nfunction getAppDataInit(url) {\r\n    let graph = rdflib.graph();\r\n\r\n    let docAppData = rdflib.sym(url);\r\n    graph.add(docAppData, RDF('type'), FOAF('Document'));\r\n    graph.add(docAppData, RDF('type'), SOLIDLINKEDBEER('BeerApplicationData'));\r\n    graph.add(docAppData, SOLIDLINKEDBEER('startDate'), new Date());\r\n    graph.add(docAppData, SOLIDLINKEDBEER('points'), 0);\r\n\r\n    return rdflib.serialize(undefined, graph, url, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Makes the acl for the app folder\r\n * Only owner can see, write and control\r\n * @param {*} appUrl\r\n * @param {*} aclUrl\r\n * @param {*} webIdUserLoggedIn\r\n */\r\nfunction getAclAppFolder(appUrl, aclUrl, webIdUserLoggedIn) {\r\n    let graph = rdflib.graph();\r\n    let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n    let app = rdflib.sym(appUrl);\r\n    let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), app);\r\n    graph.add(owner, ACL('default'), app);\r\n    graph.add(owner, ACL('agent'), agent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Init for the friends file\r\n * @param {string} urlFile\r\n * @param {*} webId\r\n */\r\nfunction getFriendsFile(urlFile) {\r\n    let graph = rdflib.graph();\r\n\r\n    //document\r\n    let documentNN = rdflib.sym(urlFile);\r\n    graph.add(documentNN, RDF('type'), FOAF('Document'));\r\n\r\n    //friends\r\n    let friendsgroup = rdflib.sym(urlFile + \"#Friends\");\r\n    graph.add(friendsgroup, RDF('type'), VCARD('Group'));\r\n\r\n    //friends requested\r\n    let friendsgroupRequested = rdflib.sym(urlFile + \"#FriendsRequested\");\r\n    graph.add(friendsgroupRequested, RDF('type'), VCARD('Group'));\r\n\r\n    graph.add(documentNN, FOAF('topic'), friendsgroupRequested);\r\n    graph.add(documentNN, FOAF('primaryTopic'), friendsgroup);\r\n\r\n    graph.add(friendsgroup, FOAF('isPrimaryTopicOf'), documentNN);\r\n    graph.add(friendsgroupRequested, FOAF('page'), documentNN);\r\n\r\n    return rdflib.serialize(undefined, graph, urlFile, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Get the acl for the inbox folder. Everyone can write but only owner can read\r\n * @param {} inboxUrl\r\n * @param {*} aclUrl\r\n * @param {*} webIdUserLoggedIn\r\n */\r\nfunction getACLInboxFolder(inboxUrl, aclUrl, webIdUserLoggedIn) {\r\n    let graph = rdflib.graph();\r\n    let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n    let _public = rdflib.sym(aclUrl + \"#Public\");\r\n    let inbox = rdflib.sym(inboxUrl);\r\n    let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), inbox);\r\n    graph.add(owner, ACL('default'), inbox);\r\n    graph.add(owner, ACL('agent'), agent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(_public, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(_public, ACL('accessTo'), inbox);\r\n    graph.add(_public, ACL('default'), inbox);\r\n    graph.add(_public, ACL('agentClass'), FOAF(\"Agent\"));\r\n\r\n    graph.add(_public, ACL('mode'), ACL('Append'));\r\n\r\n    return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Acl check in folder. Friend and user can read\r\n * @param {*} resourceUrl\r\n * @param {*} aclUrl\r\n * @param {*} webIdUserLoggedIn\r\n * @param {*} friendsUrl\r\n */\r\nfunction getACLSubmittersFriends(resourceUrl, aclUrl, webIdUserLoggedIn, friendsUrl) {\r\n    let graph = rdflib.graph();\r\n    let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n    let group1 = rdflib.sym(aclUrl + \"#Friends\");\r\n    let resource = rdflib.sym(resourceUrl);\r\n    let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n    //group who get acess\r\n    let fgroup1 = rdflib.sym(friendsUrl + \"#Friends\");\r\n    let fgroup2 = rdflib.sym(friendsUrl + \"#FriendsRequested\");\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), agent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(group1, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(group1, ACL('accessTo'), resource);\r\n    graph.add(group1, ACL('default'), resource);\r\n\r\n    graph.add(group1, ACL('agentGroup'), fgroup1);\r\n    graph.add(group1, ACL('agentGroup'), fgroup2);\r\n\r\n    graph.add(group1, ACL('mode'), ACL('Read'));\r\n    graph.add(group1, ACL('mode'), ACL('Append'));\r\n\r\n    return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Acl app file. Friend and user can read\r\n * @param {*} resourceUrl\r\n * @param {*} aclUrl\r\n * @param {*} webIdUserLoggedIn\r\n * @param {*} friendsUrl\r\n */\r\nfunction getAclAppData(resourceUrl, aclUrl, webIdUserLoggedIn, friendsUrl) {\r\n    let graph = rdflib.graph();\r\n    let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n    let group1 = rdflib.sym(aclUrl + \"#Friends\");\r\n    let resource = rdflib.sym(resourceUrl);\r\n    let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n    //group who get acess\r\n    let fgroup1 = rdflib.sym(friendsUrl + \"#Friends\");\r\n    let fgroup2 = rdflib.sym(friendsUrl + \"#FriendsRequested\");\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), agent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(group1, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(group1, ACL('accessTo'), resource);\r\n    graph.add(group1, ACL('default'), resource);\r\n\r\n    graph.add(group1, ACL('agentGroup'), fgroup1);\r\n    graph.add(group1, ACL('agentGroup'), fgroup2);\r\n\r\n    graph.add(group1, ACL('mode'), ACL('Read'));\r\n\r\n    return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\nfunction getAclGroupFolder(appUrl, aclUrl, webIdUserLoggedIn) {\r\n    let graph = rdflib.graph();\r\n    let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n    let app = rdflib.sym(appUrl);\r\n    let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), app);\r\n    graph.add(owner, ACL('default'), app);\r\n    graph.add(owner, ACL('agent'), agent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\nfunction getAclLikeFolder(appUrl, aclUrl, webIdUserLoggedIn) {\r\n    let graph = rdflib.graph();\r\n    let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n    let app = rdflib.sym(appUrl);\r\n    let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), app);\r\n    graph.add(owner, ACL('default'), app);\r\n    graph.add(owner, ACL('agent'), agent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}","class AccessError extends Error {\r\n    constructor(...args) {\r\n        super(...args);\r\n\r\n        this.message = \"Access file is not correct\";\r\n    }\r\n}\r\n\r\nexport default AccessError;","import * as rdfLib from \"rdflib\"\r\n\r\nimport AccessError from '../../error/AccessError'\r\nimport {ACL} from '../rdf/Prefixes'\r\n\r\nexport function checkacess(storeProfileCard){\r\n    let blankNode = storeProfileCard.any(undefined, ACL('origin'),rdfLib.sym(\"https://ozcanseker.github.io\"));\r\n    let readAcess = storeProfileCard.match(blankNode, ACL('mode'), ACL('Read'));\r\n    let Write = storeProfileCard.match(blankNode, ACL('mode'),ACL('Write'));\r\n    let Append = storeProfileCard.match(blankNode, ACL('mode'),ACL('Append'));\r\n    let Control = storeProfileCard.match(blankNode, ACL('mode'),ACL('Control'));\r\n\r\n    if(!readAcess.length){\r\n        throw new AccessError(\"Read access\");\r\n    }\r\n\r\n    if(!Write.length){\r\n        throw new AccessError(\"Write access\");\r\n    }\r\n\r\n    if(!Append.length){\r\n        throw new AccessError(\"Append access\");\r\n    }\r\n\r\n    if(!Control.length){\r\n        throw new AccessError(\"Control access\");\r\n    }\r\n}","import Observable from \"./Observable\";\r\n\r\nclass CheckInHandler extends Observable {\r\n    constructor() {\r\n        super();\r\n\r\n        this._checkInsAmount = 0;\r\n        this._beerReviewsAmount = 0;\r\n        this._beerPoints = 0;\r\n        this._userCheckIns = [];\r\n        this._allCheckinsGotten = false;\r\n    }\r\n\r\n    setReviesCheckInsAndUserCheckIns(reviews, checkIns, userBeerCheckIns){\r\n        this._beerReviewsAmount = reviews;\r\n        this._checkInsAmount = checkIns;\r\n\r\n        userBeerCheckIns.forEach(checkIn => {\r\n            checkIn.subscribe(this);\r\n        });\r\n\r\n        this._userCheckIns = userBeerCheckIns;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setAllCheckInsGotten(bool){\r\n        this._allCheckinsGotten = bool;\r\n    }\r\n\r\n    getAllCheckInsGotten(){\r\n        return this._allCheckinsGotten;\r\n    }\r\n\r\n    addBeerPoints(amount) {\r\n        this._beerPoints += amount;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setBeerPoints(beerPoints) {\r\n        this._beerPoints = beerPoints;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getBeerPoints() {\r\n        return this._beerPoints;\r\n    }\r\n\r\n    setBeerReviewsAmount(beerReviews) {\r\n        this._beerReviewsAmount = beerReviews;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    getBeerReviewsAmount() {\r\n        return this._beerReviewsAmount;\r\n    }\r\n\r\n    addBeerReviewToAmount() {\r\n        this._beerReviewsAmount++;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    setCheckInsAmount(checkIns) {\r\n        this._checkInsAmount = checkIns;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    getCheckInsAmount() {\r\n        return this._checkInsAmount;\r\n    }\r\n\r\n    addToCheckInsAmount() {\r\n        this._checkInsAmount++;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    setUserCheckIns(userCheckins) {\r\n        this._userCheckIns.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        userCheckins = userCheckins.userBeerCheckIns;\r\n\r\n        userCheckins.forEach(checkIn => {\r\n            checkIn.subscribe(this);\r\n        });\r\n\r\n        this._userCheckIns = userCheckins;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    clearAll(){\r\n        this._userCheckIns.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n    }\r\n\r\n    addUserCheckIns(userCheckins) {\r\n        userCheckins.forEach(checkIn => {\r\n            checkIn.subscribe(this);\r\n        })\r\n\r\n        this._userCheckIns = userCheckins.concat(this._userCheckIns);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUserCheckIns() {\r\n        return this._userCheckIns;\r\n    }\r\n\r\n    update() {\r\n        this.updateSubscribers();\r\n    }\r\n}\r\n\r\nexport default CheckInHandler;","import Observable from \"./Observable\";\r\nimport CheckInHandler from \"./CheckInHandler\";\r\n\r\nclass Friend extends Observable{\r\n    constructor(uri){\r\n        super();\r\n        this._profileUri = uri;\r\n\r\n        this._name = undefined;\r\n        this._imageUrl = undefined;\r\n        this._beerDrinkerFolder = undefined;\r\n        this._startDate = undefined;\r\n\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._checkInHandler.subscribe(this);\r\n    }\r\n\r\n    clearAll(){\r\n        this._checkInHandler.unsubscribe(this);\r\n        this._checkInHandler.clearAll();\r\n    }\r\n\r\n    setUserDetails(name, pictureurl, beerDrinkerFolder){\r\n        this._name = name ? name : this.getUserName(this._profileUri);\r\n\r\n        this._imageUrl = pictureurl;\r\n        this._beerDrinkerFolder = beerDrinkerFolder;\r\n\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setAppData(startdate){\r\n        this._startDate = startdate;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    update(){\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getCheckInHandler(){\r\n        return this._checkInHandler;\r\n    }\r\n\r\n    getUserName(uri){\r\n        return  uri.replace(\"https://\", \"\").replace(/\\..*/, \"\");\r\n    }\r\n\r\n    getBeerDrinkerFolder(){\r\n        return this._beerDrinkerFolder;\r\n    }\r\n\r\n    getUri(){\r\n        return this._profileUri;\r\n    }\r\n\r\n    getImageUrl(){\r\n        return this._imageUrl;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getStartDate(){\r\n        if(this._startDate){\r\n            //send a copy of the date back and not the date itself\r\n            return new Date(this._startDate.getTime())\r\n        }else{\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Friend;","import CheckInHandler from \"./CheckInHandler\";\r\nimport Observable from \"./Observable\";\r\n\r\nclass Group extends Observable{\r\n    constructor(url, createdByMe){\r\n        super();\r\n\r\n        this._url = url;\r\n        this._name = url;\r\n\r\n        this._createdByMe = createdByMe;\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._checkInHandler.subscribe(this);\r\n\r\n        this._groupLeader = undefined;\r\n        this._members = [];\r\n    }\r\n\r\n    setProperties(naam, checkInsLocation, groupDataLocation, groupCheckInIndex, groupLeader, groupMembers){\r\n        this._name = naam;\r\n        this._checkInsLocation = checkInsLocation;\r\n        this._groupDataLocation = groupDataLocation;\r\n        this._groupLeader = groupLeader;\r\n        this._members = groupMembers;\r\n        this._groupCheckInIndex = groupCheckInIndex;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addMembers(members){\r\n        this._members = this._members.concat(members);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getMembers(){\r\n        return this._members;\r\n    }\r\n\r\n    getGroupCheckInIndex(){\r\n        return this._groupCheckInIndex;\r\n    }\r\n\r\n    getLeader(){\r\n        return this._groupLeader;\r\n    }\r\n\r\n    setUrl(url){\r\n        this._url = url;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getCheckInHandler(){\r\n        return this._checkInHandler;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getUrl(){\r\n        return this._url;\r\n    }\r\n\r\n    getCheckInLocation(){\r\n        return this._checkInsLocation;\r\n    }\r\n\r\n    getGroupDataFile(){\r\n        return this._groupDataLocation;\r\n    }\r\n\r\n    clearAll(){\r\n        this._checkInHandler.clearAll();\r\n    }\r\n\r\n    update(){\r\n        this.updateSubscribers();\r\n    }\r\n}\r\n\r\nexport default Group;","import {buildFolders, checkFolderIntegrity} from './PodFolderBuilder';\r\nimport {getTenUserCheckIns, loadFriendData, setUserSolidMethods} from \"../SolidMethods\";\r\nimport {checkacess} from './AccessChecker';\r\nimport {FOAF, PIM, RDF, SCHEMA, SOLID, SOLIDLINKEDBEER, VCARD} from \"../rdf/Prefixes\";\r\n\r\nimport * as fileClient from \"solid-file-client\";\r\nimport * as rdfLib from \"rdflib\";\r\nimport {\r\n    APPDATA_FILE,\r\n    APPLICATION_NAME_PTI,\r\n    BEERDRINKERFOLDER, CHECKIN_FOLDER, CHECKIN_INDEX_FILE, CONTENT_TYPE_TURTLE,\r\n    FRIENDS_FILE,\r\n    FRIENDSGROUPNAME,\r\n    FRIENDSSENTGROUPNAME, GROUP_DATA_FILE, GROUPFOLDER\r\n} from \"../rdf/Constants\";\r\nimport Friend from \"../../model/HolderComponents/Friend\";\r\nimport Group from \"../../model/HolderComponents/Group\";\r\n\r\nexport async function buildSolidCommunicator(modelHolder, solidCommunicator) {\r\n    let returnObject = {};\r\n    let user = modelHolder.getUser();\r\n    let checkInHandler = modelHolder.getCheckInHandler();\r\n\r\n    //make a named node of the session webid of the user\r\n    //namednode\r\n    const webIdNN = rdfLib.sym(user.getUri());\r\n\r\n    //get a store of the profile card of the logged in user\r\n    //store\r\n    let storeProfileCard = await getUserCard(webIdNN.uri);\r\n\r\n    //check the acess before trying to make an application\r\n    checkacess(storeProfileCard);\r\n\r\n    //store for the Public Profile Index\r\n    //object with store and nn\r\n    let ppiObject = await getPPILocation(webIdNN, storeProfileCard);\r\n\r\n    //String that shows the location of the public storage of the pod\r\n    //string \r\n    let storagePublic = getStorePublic(webIdNN, storeProfileCard);\r\n\r\n    //locatie voor de applicatie\r\n    //string\r\n    let applicationLocation = await getApplicationLocation(ppiObject.ppi, ppiObject.store, storagePublic, webIdNN.value);\r\n\r\n    //returnobject\r\n    returnObject.sc = {};\r\n\r\n    let userDetails = getUserDetails(webIdNN, storeProfileCard);\r\n    user.loadInUserValues(userDetails.name,\r\n        userDetails.imageURL,\r\n        applicationLocation,\r\n        applicationLocation + BEERDRINKERFOLDER,\r\n        applicationLocation + BEERDRINKERFOLDER + CHECKIN_FOLDER);\r\n    solidCommunicator.setFileLocations();\r\n\r\n    setUserSolidMethods(user);\r\n\r\n    getAppData(user.getBeerDrinkerFolder()).then(res => {\r\n        user.loadInAppData(new Date(res.startdate));\r\n        modelHolder.getCheckInHandler().setBeerPoints(parseInt(res.points));\r\n        solidCommunicator.loadInAppStore(res.store, res.docNN);\r\n    });\r\n\r\n    getTenUserCheckIns(user.getBeerDrinkerFolder()).then(res => {\r\n        checkInHandler.addUserCheckIns(res.userBeerCheckIns);\r\n        checkInHandler.setBeerReviewsAmount(res.reviews);\r\n        checkInHandler.setCheckInsAmount(res.checkIns);\r\n    });\r\n\r\n    getFriends(user.getBeerDrinkerFolder()).then(res => {\r\n        modelHolder.addFriends(res.friends);\r\n        solidCommunicator.loadInFriendsStore(res.group, res.sentGroup, res.friendsStore);\r\n    });\r\n\r\n    getGroups(user.getBeerDrinkerFolder()).then(res => {\r\n        modelHolder.setGroups(res);\r\n    })\r\n}\r\n\r\nasync function getGroups(beerDrinkerFolder) {\r\n    let groupsLocation = beerDrinkerFolder + GROUPFOLDER;\r\n    let res = await fileClient.readFolder(groupsLocation);\r\n    let groups = [];\r\n\r\n    let myGroups = res.folders;\r\n    let friendsGroups = res.files;\r\n\r\n    myGroups.forEach(res => {\r\n        let group = new Group(res.url, true);\r\n\r\n        loadGroupInformation(group);\r\n        groups.push(group);\r\n    });\r\n\r\n    friendsGroups.forEach(res => {\r\n        let group = new Group(res.url, false);\r\n\r\n        loadFriendGroupData(group);\r\n        groups.push(group);\r\n    });\r\n\r\n    return groups;\r\n}\r\n\r\nasync function loadFriendGroupData(group) {\r\n    let file = await fileClient.fetch(group.getUrl());\r\n\r\n    let graph = rdfLib.graph();\r\n    rdfLib.parse(file, graph, group.getUrl(), CONTENT_TYPE_TURTLE);\r\n\r\n    let NN = graph.any(undefined, RDF('type'), SOLIDLINKEDBEER('Group'));\r\n    group.setUrl(NN.value);\r\n\r\n    await loadGroupInformation(group);\r\n}\r\n\r\nexport async function loadGroupInformation(group) {\r\n    let groupCheckInsLocation = group.getUrl() + CHECKIN_FOLDER;\r\n    let groupDataLocation = group.getUrl() + GROUP_DATA_FILE;\r\n    let checkIndexLocation = group.getUrl() + CHECKIN_INDEX_FILE;\r\n\r\n    //krijg de checkins van de grop\r\n    getTenUserCheckIns(group.getUrl()).then(res => {\r\n        group.getCheckInHandler().setReviesCheckInsAndUserCheckIns(res.reviews, res.checkIns, res.userBeerCheckIns);\r\n    });\r\n\r\n    //group data\r\n    let res = await fileClient.fetch(groupDataLocation);\r\n    let groupDataGraph = rdfLib.graph();\r\n    rdfLib.parse(res, groupDataGraph, groupDataLocation, CONTENT_TYPE_TURTLE);\r\n\r\n    let hasMemberGroup = groupDataGraph.any(undefined, SOLIDLINKEDBEER('hasLeader'));\r\n    let leader = groupDataGraph.any(hasMemberGroup, SOLIDLINKEDBEER('hasLeader'));\r\n    let name = groupDataGraph.any(hasMemberGroup, SOLIDLINKEDBEER('name'));\r\n\r\n    //checkInIndex\r\n    let checkInIndex = await fileClient.fetch(checkIndexLocation);\r\n\r\n    let checkInIndexGraph = rdfLib.graph();\r\n    rdfLib.parse(checkInIndex, checkInIndexGraph, checkIndexLocation, CONTENT_TYPE_TURTLE);\r\n\r\n    let pointsMemberGroup = checkInIndexGraph.any(undefined, VCARD('hasMember'));\r\n\r\n    let members = [];\r\n\r\n    checkInIndexGraph.each(pointsMemberGroup, VCARD('hasMember')).forEach(res => {\r\n        let points = checkInIndexGraph.any(res, SOLIDLINKEDBEER('points'));\r\n\r\n        if(res.value === leader.value){\r\n            leader = {member: res.value, points: points.value};\r\n        }else{\r\n            members.push({member: res.value, points: points.value});\r\n        }\r\n    });\r\n\r\n    group.setProperties(name.value, groupCheckInsLocation, groupDataLocation,checkIndexLocation, leader, members);\r\n}\r\n\r\n/**\r\n * Get the user profile card in the form of a rdflib graph.\r\n *\r\n * @param webIdUrl the uri for the profile card\r\n * @returns {Promise<void>} graph of user VCARD\r\n */\r\nasync function getUserCard(webIdUrl) {\r\n    const profileCardTTl = await fileClient.fetch(webIdUrl);\r\n    const storeProfileCard = rdfLib.graph();\r\n    rdfLib.parse(profileCardTTl, storeProfileCard, webIdUrl, \"text/turtle\");\r\n\r\n    return storeProfileCard;\r\n}\r\n\r\nasync function getPPILocation(profile, storeProfileCard) {\r\n    const publicProfileIndex = storeProfileCard.any(profile, SOLID(\"publicTypeIndex\"));\r\n\r\n    const storePublicTypeIndex = rdfLib.graph();\r\n    const publicTypeIndexTTL = await fileClient.fetch(publicProfileIndex.value);\r\n    rdfLib.parse(publicTypeIndexTTL, storePublicTypeIndex, publicProfileIndex.value, \"text/turtle\");\r\n\r\n    return {store: storePublicTypeIndex, ppi: publicProfileIndex};\r\n}\r\n\r\nfunction getStorePublic(profile, storeProfileCard) {\r\n    let locationStorage = storeProfileCard.any(profile, PIM(\"storage\"));\r\n    return locationStorage.value + \"public/\";\r\n}\r\n\r\nasync function getApplicationLocation(publicProfileIndex, storePublicProfileIndex, storagePublic, webId) {\r\n    let app = rdfLib.sym(publicProfileIndex.value + \"#\" + APPLICATION_NAME_PTI);\r\n    let appQuery = storePublicProfileIndex.any(app, SOLID(\"instanceContainer\"));\r\n\r\n    if (appQuery) {\r\n        await checkFolderIntegrity(appQuery.value, webId);\r\n        return appQuery.value;\r\n    } else {\r\n        return await buildFolders(publicProfileIndex, storePublicProfileIndex, storagePublic, app, webId);\r\n    }\r\n}\r\n\r\nfunction getUserDetails(profile, storeProfileCard) {\r\n    let nameFN = storeProfileCard.any(profile, VCARD('fn'));\r\n\r\n    if(!nameFN){\r\n        nameFN = storeProfileCard.any(profile, FOAF('name'));\r\n    }\r\n\r\n    let imageURL = storeProfileCard.any(profile, VCARD('hasPhoto'));\r\n\r\n    nameFN = nameFN ? nameFN.value : undefined;\r\n    imageURL = imageURL ? imageURL.value : undefined;\r\n\r\n    return {name: nameFN, imageURL: imageURL};\r\n}\r\n\r\nasync function getAppData(beerDrinkerFolder) {\r\n    let appdataLocation = beerDrinkerFolder + APPDATA_FILE;\r\n    let appdatattl = await fileClient.readFile(appdataLocation);\r\n    let graph = rdfLib.graph();\r\n    rdfLib.parse(appdatattl, graph, appdataLocation, \"text/turtle\");\r\n\r\n    let docNN = graph.any(undefined, RDF('type'))\r\n    let startdate = graph.any(docNN, SOLIDLINKEDBEER('startDate'));\r\n    let points = graph.any(docNN, SOLIDLINKEDBEER('points'));\r\n\r\n    return {startdate: startdate.value, points: points.value, store: graph, docNN: docNN};\r\n}\r\n\r\nasync function getFriends(beerDrinkerFolder) {\r\n    let friendsLocation = beerDrinkerFolder + FRIENDS_FILE;\r\n    let ttlFriends = await fileClient.readFile(friendsLocation);\r\n\r\n    let group = rdfLib.sym(friendsLocation + \"#\" + FRIENDSGROUPNAME);\r\n    let sentGroup = rdfLib.sym(friendsLocation + \"#\" + FRIENDSSENTGROUPNAME);\r\n    let friends = [];\r\n\r\n    let graph = rdfLib.graph();\r\n    rdfLib.parse(ttlFriends, graph, friendsLocation, CONTENT_TYPE_TURTLE);\r\n\r\n    let query = graph.each(group, VCARD('hasMember'), undefined);\r\n\r\n    for (let index = 0; index < query.length; index++) {\r\n        let friend = new Friend(query[index].value);\r\n        loadFriendData(friend);\r\n\r\n        if (friend) {\r\n            friends.push(friend);\r\n        }\r\n    }\r\n\r\n    return {friends: friends, friendsStore: graph, group: group, sentGroup: sentGroup};\r\n}\r\n\r\n","import {putSolidFile, loadFriendData} from \"../SolidMethods\";\r\nimport {FRIENDS_FILE, FRIENDSHIPREQUEST_ACCEPTED_NAME, INBOX_FOLDER} from \"../rdf/Constants\";\r\nimport {ACTIVITYSTREAM, FOAF, PURLRELATIONSHIP, RDF, SOLIDLINKEDBEER, VCARD} from \"../rdf/Prefixes\";\r\nimport Friend from \"../../model/HolderComponents/Friend\";\r\n\r\nconst fileClient = require('solid-file-client');\r\nconst rdfLib = require('rdflib');\r\n\r\nexport async function preApplicationHandelings(beerDrinkerFolder, friendGroup, friendsRequestedGroup, FriendsStore, modelHolder) {\r\n    let inbox = beerDrinkerFolder + INBOX_FOLDER;\r\n    let inboxContent = await fileClient.readFolder(inbox);\r\n\r\n    //add friend from friend requested to friends\r\n    let acceptedRequests = inboxContent.files.filter(file => {\r\n        return file.name.includes(FRIENDSHIPREQUEST_ACCEPTED_NAME);\r\n    });\r\n\r\n    if (acceptedRequests.length !== 0) {\r\n        checkAcceptedFriendShipRequests(beerDrinkerFolder, acceptedRequests, friendGroup, friendsRequestedGroup, FriendsStore, modelHolder);\r\n    }\r\n\r\n    //delete user from friends requested if they declined\r\n    let declinedRequests = inboxContent.files.filter(file => {\r\n        return file.name.includes(\"Social_Linked_Beer_FriendschipRequestDecline\");\r\n    });\r\n\r\n    if (declinedRequests.length !== 0) {\r\n        await checkDeclinedFriendShipRequests(beerDrinkerFolder, declinedRequests, friendsRequestedGroup, FriendsStore);\r\n    }\r\n}\r\n\r\n/**\r\n * Check if there are accepted friendschip requests\r\n * @param {*} beerdrinkerFolder\r\n * @param {*} acceptedRequests\r\n * @param friendsGroup\r\n * @param friendsSent\r\n * @param friendGraph\r\n * @param modelHolder\r\n */\r\nasync function checkAcceptedFriendShipRequests(beerdrinkerFolder, acceptedRequests, friendsGroup, friendsSent, friendGraph, modelHolder) {\r\n    //get some values\r\n    let postLocation = beerdrinkerFolder + FRIENDS_FILE;\r\n\r\n    for (let i = 0; i < acceptedRequests.length; i++) {\r\n        //make a graph and get file\r\n        let graph = rdfLib.graph();\r\n        let filettl = await fileClient.readFile(acceptedRequests[i].url);\r\n        rdfLib.parse(filettl, graph, acceptedRequests[i].url, \"text/turtle\");\r\n\r\n        //get the blanknode from the message\r\n        let friendNN = graph.any(undefined, ACTIVITYSTREAM('actor'));\r\n        friendNN = graph.any(friendNN, ACTIVITYSTREAM('actor'));\r\n\r\n        //add from friend requested to friend\r\n        let userNN = rdfLib.sym(modelHolder.getUser().getUri());\r\n\r\n        let relationBn = rdfLib.blankNode();\r\n        friendGraph.add(relationBn, RDF('type'), ACTIVITYSTREAM('Relationship'));\r\n        friendGraph.add(relationBn, RDF('relationship'), PURLRELATIONSHIP('friendOf'));\r\n\r\n        friendGraph.add(friendsGroup, VCARD('hasMember'), friendNN);\r\n        friendGraph.add(userNN, FOAF('knows'), friendNN);\r\n        friendGraph.add(relationBn, ACTIVITYSTREAM('subject'), userNN);\r\n        friendGraph.add(relationBn, ACTIVITYSTREAM('object'), friendNN);\r\n\r\n        friendGraph.removeMatches(friendsSent, VCARD('hasMember'), friendNN);\r\n\r\n        //get the friend from the internet\r\n        let friend = new Friend(friendNN.value);\r\n        loadFriendData(friend);\r\n        modelHolder.addFriend(friend);\r\n    }\r\n\r\n    //update the original friend file\r\n    let friendsTtl = await rdfLib.serialize(undefined, friendGraph, postLocation, 'text/turtle');\r\n    await putSolidFile(postLocation, friendsTtl);\r\n\r\n    acceptedRequests.forEach(res => {\r\n        //delete the original message\r\n        fileClient.deleteFile(res.url);\r\n    })\r\n}\r\n\r\nasync function checkDeclinedFriendShipRequests(beerDrinkerFolder, declinedRequests, friendsSent, friendGraph) {\r\n    let postLocation = beerDrinkerFolder + FRIENDS_FILE;\r\n\r\n    for (let i = 0; i < declinedRequests.length; i++) {\r\n        let graph = rdfLib.graph();\r\n        let filettl = await fileClient.readFile(declinedRequests[i].url);\r\n\r\n        rdfLib.parse(filettl, graph, declinedRequests[i].url, \"text/turtle\");\r\n\r\n        //get blank node from friend sent\r\n        let friend = graph.any(undefined, ACTIVITYSTREAM('actor'));\r\n        friend = graph.any(friend, ACTIVITYSTREAM('actor'));\r\n\r\n        if(friend){\r\n            //remove friend from the friendssent file\r\n            friendGraph.removeMatches(friendsSent, VCARD('hasMember'), friend);\r\n        }\r\n    }\r\n\r\n    //post new friend solid file\r\n    let friendsTtl = await rdfLib.serialize(undefined, friendGraph, postLocation, 'text/turtle');\r\n    putSolidFile(postLocation, friendsTtl);\r\n\r\n    declinedRequests.forEach(res => {\r\n        //delete the original message\r\n        fileClient.deleteFile(res.url);\r\n    })\r\n//     //TODO post new file for user so that he know friendship is declined\r\n}","import Observable from \"./Observable\";\r\n\r\nclass Beer extends Observable{\r\n    constructor(ldUrl, name){\r\n        super();\r\n        this._ldUrl = ldUrl;\r\n        this._name = name;\r\n        this._brewers = [];\r\n    }\r\n\r\n    updateInformation(type,\r\n                      label,\r\n                      description,\r\n                      alcoholpercentage,\r\n                      style,\r\n                      minSchenkTemperatuur,\r\n                      stamwortgehalte,\r\n                      maxSchenkTemperatuur,\r\n                      depiction,\r\n                      brewer){\r\n        this._type = type;\r\n        this._style = style;\r\n        this._label = label;\r\n        this._description = description;\r\n        this._minSchenkTemperatuur = minSchenkTemperatuur;\r\n        this._maxSchenkTemperatuur = maxSchenkTemperatuur;\r\n        this._stamwortgehalte = stamwortgehalte;\r\n        this._alcoholpercentage = alcoholpercentage;\r\n\r\n        this._depiction = depiction;\r\n        this._brewers = brewer;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUrl(){\r\n        return this._ldUrl;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getBrewers(){\r\n        return this._brewers;\r\n    }\r\n}\r\n\r\nexport default Beer;","import Observable from \"./Observable\";\r\n\r\nclass Brewer extends Observable {\r\n    constructor(url, name) {\r\n        super();\r\n\r\n        this._ldurl = url;\r\n\r\n        if(!name){\r\n            this._name = this._url.replace(/.*[\\\\\\/#]/, \"\");\r\n        }else{\r\n            this._name = name;\r\n        }\r\n\r\n        this._beers = [];\r\n    }\r\n\r\n    loadInBrewerInformation(name,\r\n                            groep,\r\n                            url,\r\n                            address,\r\n                            type,\r\n                            categorie,\r\n                            jaarproduktie,\r\n                            provincie) {\r\n\r\n        this._groep = groep;\r\n        this._url = url;\r\n        this._address = address;\r\n        this._type = type;\r\n        this._categorie = categorie;\r\n        this._jaarproduktie = jaarproduktie;\r\n        this._provincie = provincie;\r\n\r\n        if(!name){\r\n            this._name = this._ldurl.replace(/.*[\\\\\\/#]/, \"\");\r\n        }else{\r\n            this._name = name;\r\n        }\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getAddressUrl() {\r\n        return this._address;\r\n    }\r\n\r\n    addAddressInformation(addressLocality,\r\n                          postalCode,\r\n                          streetAddress) {\r\n\r\n        this._addressLocality = addressLocality;\r\n        this._postalCode = postalCode;\r\n        this._streetAddress = streetAddress;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addBeers(beers) {\r\n        this._beers = this._beers.concat(beers);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUrl() {\r\n        return this._ldurl;\r\n    }\r\n\r\n    update() {\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getGroep() {\r\n        return this._groep;\r\n    }\r\n\r\n    getAddress(){\r\n        return \"\"\r\n            + (this._streetAddress ? this._streetAddress + \", \" : \"\")\r\n            + (this._addressLocality ? this._addressLocality + \", \" : \"\" )\r\n            + (this._postalCode ? this._postalCode + \" \" : \"\");\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n}\r\n\r\nexport default Brewer;","import Beer from \"../../model/HolderComponents/Beer\";\r\nimport Brewer from \"../../model/HolderComponents/Brewer\";\r\n\r\nexport async function getBeerData(query) {\r\n    let res = await queryTriply(getBeerQuery(query));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n    return makeBeerList(res);\r\n}\r\n\r\nexport async function getBrewerData(brewer) {\r\n    getRegularBrewerData(brewer);\r\n    getBrewerBeers(brewer);\r\n}\r\n\r\nasync function getRegularBrewerData(brewer) {\r\n    let res = await queryTriply(getPredicateObject(brewer.getUrl()));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    let name,\r\n        groep,\r\n        url,\r\n        address,\r\n        type,\r\n        categorie,\r\n        jaarproduktie,\r\n        provincie;\r\n\r\n    res = res.results.bindings;\r\n\r\n    res.forEach((res) => {\r\n        let pred = res.pred.value;\r\n        let value = res.obj.value;\r\n\r\n        if (pred === 'https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/groep') {\r\n            groep = value;\r\n        } else if (pred === \"http://schema.org/address\") {\r\n            address = value;\r\n        } else if (pred === \"http://schema.org/url\") {\r\n            url = value;\r\n        } else if (pred === \"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\") {\r\n            type = value;\r\n        } else if (pred === \"http://www.w3.org/2000/01/rdf-schema#label\") {\r\n            name = value;\r\n        } else if (pred === \"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/categorie\") {\r\n            categorie = value;\r\n        } else if (pred === \"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/jaarproduktie\") {\r\n            jaarproduktie = value;\r\n        } else if (pred === \"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/provincie\") {\r\n            provincie = value;\r\n        } else if (pred === \"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/address\") {\r\n            if (!address) {\r\n                address = value;\r\n            }\r\n        }\r\n    });\r\n\r\n    brewer.loadInBrewerInformation(name,\r\n        groep,\r\n        url,\r\n        address,\r\n        type,\r\n        categorie,\r\n        jaarproduktie,\r\n        provincie);\r\n\r\n    getAddress(brewer);\r\n\r\n    console.log(brewer);\r\n}\r\n\r\nasync function getAddress(brewer) {\r\n    let res = await queryTriply(getPredicateObject(brewer.getAddressUrl()));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n    res = res.results.bindings;\r\n\r\n    let addressLocality,\r\n        postalCode,\r\n        streetAddress;\r\n\r\n    res.forEach((res) => {\r\n        let pred = res.pred.value;\r\n        let value = res.obj.value;\r\n\r\n        if (pred === \"http://schema.org/addressLocality\") {\r\n            addressLocality = value;\r\n        } else if (pred === \"http://schema.org/postalCode\") {\r\n            postalCode = value;\r\n        } else if (pred === \"http://schema.org/streetAddress\") {\r\n            streetAddress = value;\r\n        }\r\n    });\r\n\r\n    brewer.addAddressInformation(\r\n        addressLocality,\r\n        postalCode,\r\n        streetAddress\r\n    );\r\n}\r\n\r\nasync function getBrewerBeers(brewer) {\r\n    let res = await queryTriply(getBrewerBeersQuery(brewer.getUrl()));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    let beers = makeBeerList(res);\r\n    brewer.addBeers(beers);\r\n}\r\n\r\nexport async function fetchBeerData(beer) {\r\n    let res = await queryTriply(getBeerDataQuery(beer.getUrl()));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    let results = res.results.bindings;\r\n    let type,\r\n        label,\r\n        description,\r\n        alcoholpercentage,\r\n        style,\r\n        minSchenkTemperatuur,\r\n        stamwortgehalte,\r\n        maxSchenkTemperatuur,\r\n        depiction;\r\n\r\n    let brewer = [];\r\n\r\n    results.forEach(res => {\r\n        let obj = res.pred.value;\r\n        let value = res.obj.value;\r\n\r\n\r\n        if (\"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\" === obj) {\r\n            type = value;\r\n        } else if (\"http://www.w3.org/2000/01/rdf-schema#label\" === obj) {\r\n            label = value;\r\n        } else if (\"http://purl.org/dc/terms/description\" === obj) {\r\n            description = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/alcoholpercentage\" === obj) {\r\n            alcoholpercentage = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/maxSchenkTemperatuur\" === obj) {\r\n            maxSchenkTemperatuur = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/minSchenkTemperatuur\" === obj) {\r\n            minSchenkTemperatuur = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/stamwortgehalte\" === obj) {\r\n            stamwortgehalte = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/style\" === obj) {\r\n            style = value;\r\n        } else if (\"http://xmlns.com/foaf/0.1/depiction\" === obj) {\r\n            depiction = value;\r\n        } else if(\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/brewedby\"  === obj){\r\n            brewer.push(new Brewer(value, res.brouwerijnaam.value));\r\n        }\r\n    });\r\n\r\n    beer.updateInformation(type,\r\n        label,\r\n        description,\r\n        alcoholpercentage,\r\n        style,\r\n        minSchenkTemperatuur,\r\n        stamwortgehalte,\r\n        maxSchenkTemperatuur,\r\n        depiction,\r\n        brewer);\r\n}\r\n\r\nfunction makeBeerList(data) {\r\n    let beers = [];\r\n    data = data.results.bindings;\r\n\r\n    data.forEach(res => {\r\n        beers.push(new Beer(res.blyat.value, res.name.value));\r\n    });\r\n\r\n    return beers;\r\n}\r\n\r\nasync function queryTriply(query) {\r\n    return await fetch(\"https://api.labs.kadaster.nl/datasets/dbeerpedia/dbeerpedia/services/dbeerpedia/sparql\", {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-query',\r\n            'Accept': 'application/sparql-results+json'\r\n        },\r\n        body: query\r\n    });\r\n}\r\n\r\nfunction getBrewerBeersQuery(brewerUrl){\r\n    return `\r\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n    PREFIX vocab: <https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/>\r\n\r\n    SELECT * WHERE {\r\n        ?blyat vocab:brewedby <${brewerUrl}>;\r\n        vocab:beerName ?name.\r\n    }`;\r\n}\r\n\r\n\r\nfunction getBeerQuery(name) {\r\n    return `\r\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX vocab: <https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/>\r\n            \r\n            SELECT distinct ?blyat ?name ?brewer WHERE {\r\n              ?blyat a vocab:Beer;\r\n              vocab:beerName ?name.\r\n              \r\n              FILTER(regex(?name, \"${name}\", \"i\"))\r\n            } limit 200\r\n`\r\n}\r\n\r\nfunction getPredicateObject(url) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n        \r\n        SELECT * WHERE {\r\n            <${url}> ?pred ?obj .\r\n        }\r\n`;\r\n}\r\n\r\nfunction getBeerDataQuery(url) {\r\n    return `\r\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n    PREFIX bier: <https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/id/bier/>\r\n    PREFIX vocab: <https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/>\r\n\r\n    SELECT ?pred ?obj ?brouwerijnaam {\r\n        <${url}> ?pred ?obj.\r\n        OPTIONAL{?obj rdfs:label ?label}\r\n        bind(\r\n            IF(?pred = vocab:brewedby,\r\n                IF(?label, ?label, replace(str(?obj), \".*[\\\\\\\\/#]\", \"\")), \"\")\r\n            as ?brouwerijnaam)\r\n        }\r\n    `;\r\n}","import Observable from \"./Observable\";\r\n\r\nclass InboxMessage extends Observable{\r\n    constructor(uri){\r\n        super();\r\n        this._uri = uri;\r\n        this._type = undefined;\r\n        this._from = undefined;\r\n        this._desc = undefined;\r\n        this._location = undefined;\r\n        this._groupName = undefined;\r\n    }\r\n\r\n    setContents(type, from, desc, location, groupName){\r\n        this._type = type;\r\n        this._from = from;\r\n        this._desc = desc;\r\n        this._location = location;\r\n        this._groupName = groupName;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUri(){\r\n        return this._uri;\r\n    }\r\n\r\n    getFrom(){\r\n        return this._from;\r\n    }\r\n\r\n    getType(){\r\n        return this._type;\r\n    }\r\n\r\n    getDesc(){\r\n        return this._desc;\r\n    }\r\n\r\n    getLocation(){\r\n        return this._location;\r\n    }\r\n\r\n    getGroupName(){\r\n        return this._groupName;\r\n    }\r\n}\r\n\r\nexport default InboxMessage;","import {\r\n    appendSolidResource,\r\n    getAllUserCheckIns,\r\n    getUserFile,\r\n    loadFriendData,\r\n    postSolidFile,\r\n    putSolidFile\r\n} from \"./SolidMethods\";\r\n\r\nimport * as SolidTemplates from './rdf/SolidTtlTemplates';\r\nimport {\r\n    buildSolidCommunicator,\r\n    loadGroupInformation\r\n} from './solidCommunicatorInits/SolidCommunicatorBuilder'\r\nimport {preApplicationHandelings} from './solidCommunicatorInits/PreApplicationHandelings'\r\n\r\nimport BeerCheckIn from '../model/HolderComponents/CheckIn'\r\n\r\nimport * as fileClient from 'solid-file-client';\r\nimport * as rdfLib from 'rdflib';\r\n\r\nimport * as kadasterLabsComm from './DataLavaKadaster/DataLabsKadasterComm';\r\n\r\nimport {\r\n    APPDATA_FILE,\r\n    APPLICATION_INVITAION_DESC,\r\n    APPLICATION_INVITAION_NAME,\r\n    BEERCHECKINFILENAME,\r\n    BEERDRINKERFOLDER,\r\n    BEERREVIEWFILENAME,\r\n    CHECKIN_FOLDER,\r\n    CHECKIN_INDEX_FILE,\r\n    CHECKIN_INDEX_NAME,\r\n    FRIENDS_FILE,\r\n    FRIENDSHIPREQUEST_ACCEPTED_DESC,\r\n    FRIENDSHIPREQUEST_ACCEPTED_NAME,\r\n    FRIENDSHIPREQUEST_DECLINED_DESC,\r\n    FRIENDSHIPREQUEST_DECLINED_NAME, FRIENDSHIPREQUESTCLASSNAME,\r\n    FRIENDSSHIPREQUEST_DESC,\r\n    FRIENDSSHIPREQUEST_NAME,\r\n    GROUP_DATA_FILE,\r\n    GROUP_DATA_FILENAME,\r\n    GROUPFOLDER,\r\n    GROUPINVITATION_DESC,\r\n    GROUPINVITATION_NAME, GROUPINVITATIONCLASSNAME,\r\n    INBOX_FOLDER, LIKE_FOLDER, LIKEFILENAME, UNKOWNTYPEINBOXMESSAGE\r\n} from \"./rdf/Constants\";\r\nimport {ACTIVITYSTREAM, FOAF, PURLRELATIONSHIP, RDF, SOLIDLINKEDBEER, VCARD} from \"./rdf/Prefixes\";\r\nimport Friend from \"../model/HolderComponents/Friend\";\r\nimport Group from \"../model/HolderComponents/Group\";\r\nimport InboxMessage from \"../model/HolderComponents/InboxMessage\";\r\n\r\nclass SolidCommunicator {\r\n    /**\r\n     * Build the solid communicator\r\n     * @param {*} modelHolder\r\n     */\r\n    static async build(modelHolder) {\r\n        let solidCommunicator = new SolidCommunicator(modelHolder);\r\n\r\n        await buildSolidCommunicator(modelHolder, solidCommunicator);\r\n\r\n        //make new solidCommunicator\r\n        return solidCommunicator;\r\n    }\r\n\r\n    constructor(modelHolder) {\r\n        this._modelHolder = modelHolder;\r\n        this._user = modelHolder.getUser();\r\n    }\r\n\r\n    loadInFriendsStore(friendGroup, friendsRequestedGroup, friendsStore) {\r\n        this._friendsStore = friendsStore;\r\n        this._friendGroup = friendGroup;\r\n        this._friendsRequestedGroup = friendsRequestedGroup;\r\n\r\n        preApplicationHandelings(this._user.getBeerDrinkerFolder(), friendGroup, friendsRequestedGroup, friendsStore, this._modelHolder);\r\n    }\r\n\r\n    loadInAppStore(store, blankNode) {\r\n        this._appStore = store;\r\n        this._NNAppStore = blankNode;\r\n    }\r\n\r\n    setFileLocations() {\r\n        this._beerDrinkerFolder = this._user.getBeerDrinkerFolder();\r\n        this._checkInFolder = this._beerDrinkerFolder + CHECKIN_FOLDER;\r\n        this._appStoreLocation = this._beerDrinkerFolder + APPDATA_FILE;\r\n    }\r\n\r\n    /**\r\n     * Get an user file\r\n     * @param {*} url\r\n     */\r\n    async getUserFile(url) {\r\n        return await getUserFile(url);\r\n    }\r\n\r\n    /**\r\n     * Get all content from the inbox.\r\n     * @returns {Promise<[]>}\r\n     */\r\n    async getInboxContents() {\r\n        let inbox = this._user.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n        let res = await fileClient.readFolder(inbox);\r\n        let files = [];\r\n\r\n        for (let index = 0; index < res.files.length; index++) {\r\n            let file = new InboxMessage(res.files[index].url);\r\n            this.loadFileContents(file);\r\n            files.push(file);\r\n        }\r\n\r\n        this._modelHolder.setInboxMessages(files);\r\n    }\r\n\r\n    async loadFileContents(file) {\r\n        let url = file.getUri();\r\n        let graph = rdfLib.graph();\r\n        let fileTTL = await fileClient.readFile(url);\r\n        await rdfLib.parse(fileTTL, graph, url, \"text/turtle\");\r\n\r\n        //if not friend request then group request\r\n        let query = graph.any(undefined, RDF('type'), ACTIVITYSTREAM('Offer'));\r\n        let type = FRIENDSHIPREQUESTCLASSNAME;\r\n\r\n        if(!query){\r\n            query = graph.any(undefined, RDF('type'), ACTIVITYSTREAM('Invite'));\r\n            type = GROUPINVITATIONCLASSNAME;\r\n\r\n            if(!query){\r\n                type = UNKOWNTYPEINBOXMESSAGE;\r\n            }\r\n        }\r\n\r\n        let description = graph.any(query, ACTIVITYSTREAM('summary'));\r\n        let from = graph.any(query, ACTIVITYSTREAM('actor'));\r\n\r\n        let groupQuery = graph.any(undefined, SOLIDLINKEDBEER('name'));\r\n        let groupName = graph.any(groupQuery, SOLIDLINKEDBEER('name'));\r\n\r\n        file.setContents(\r\n            type,\r\n            from.value,\r\n            description.value,\r\n            groupQuery ? groupQuery.value : undefined,\r\n            groupName ? groupName.value : undefined\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Check if user is already friend\r\n     * @param {*} url\r\n     */\r\n    checkIfUserIsFriend(url) {\r\n        let query1 = this._friendsStore.match(this._friendsRequestedGroup, VCARD('hasMember'), rdfLib.sym(url));\r\n        let query2 = this._friendsStore.match(this._friendGroup, VCARD('hasMember'), rdfLib.sym(url));\r\n\r\n        if (query1.length !== 0 || query2.length !== 0) {\r\n            console.log(\"already friend\");\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Send invitation to user for the application\r\n     * @param {*} urlInvitee\r\n     * @param {*} inbox\r\n     */\r\n    async inviteUserToSolib(urlInvitee, inbox) {\r\n        //name for file\r\n        let fileName = APPLICATION_INVITAION_NAME + encodeURI(this._user.getName());\r\n        let invitation = this._user.getName() + APPLICATION_INVITAION_DESC;\r\n\r\n        //name of the location where it will be posted\r\n        let postLocation = inbox + fileName + \".ttl\";\r\n\r\n        //get ttl file for invitation\r\n        let invitationTTL = SolidTemplates.getInviteToLSBInvitation(urlInvitee, invitation, postLocation, this._user.getUri());\r\n\r\n        await postSolidFile(inbox, fileName, invitationTTL);\r\n    }\r\n\r\n    /**\r\n     * Sends a friendship request to user\r\n     * @param {*} urlInvitee\r\n     * @param {*} appLocation\r\n     */\r\n    async sendFriendshipRequest(urlInvitee, appLocation) {\r\n        if (!this.checkIfUserIsFriend(urlInvitee)) {\r\n            //get url without https and profile card.me\r\n            let fileNameName = encodeURI(this._user.getName());\r\n\r\n            //make a file name\r\n            let fileName = FRIENDSSHIPREQUEST_NAME + fileNameName;\r\n\r\n            //the invitation\r\n            let invitation = (this._user.getName() ? this._user.getName() : this._user.getUri()) + FRIENDSSHIPREQUEST_DESC;\r\n\r\n            //locations to be posted\r\n            let location = appLocation + BEERDRINKERFOLDER + INBOX_FOLDER;\r\n            let postLocation = location + fileName + \".ttl\";\r\n\r\n            //the ttl file\r\n            let invitationTTL = SolidTemplates.getFriendShipRequest(urlInvitee, invitation, postLocation, this._user.getUri());\r\n\r\n            //add friend to friend request send\r\n            let friendsFile = this._user.getBeerDrinkerFolder() + FRIENDS_FILE;\r\n            this._friendsStore.add(this._friendsRequestedGroup, VCARD('hasMember'), rdfLib.sym(urlInvitee));\r\n            let friendsTTL = await rdfLib.serialize(undefined, this._friendsStore, friendsFile, 'text/turtle');\r\n\r\n            // send files\r\n            await postSolidFile(location, fileName, invitationTTL);\r\n            await putSolidFile(friendsFile, friendsTTL);\r\n        }else{\r\n            throw Error(\"already send friendship request\");\r\n        }\r\n    }\r\n\r\n    async declineFriendSchipRequest(message) {\r\n        //send a declined friendship request to other pod\r\n        let result = await this.getUserFile(message.getFrom());\r\n        let inbox = result.appLocation + BEERDRINKERFOLDER + INBOX_FOLDER;\r\n\r\n        //get file name and description string\r\n        let fileNameName = encodeURI(this._user.getName());\r\n        let fileName = FRIENDSHIPREQUEST_DECLINED_NAME + fileNameName;\r\n        let invitation = (this._user.getName() ? this._user.getName() : this._user.getUri()) + FRIENDSHIPREQUEST_DECLINED_DESC;\r\n\r\n        //get the location is will be posted to\r\n        let postLocation = inbox + fileName + \".ttl\";\r\n\r\n        //make a text file and send\r\n        let declineTTL = SolidTemplates.getDeclineFriendshipRequest(message.getFrom(), invitation, postLocation, this._user.getUri(), message.getUri());\r\n\r\n        //delete friendship request from own pod\r\n        await postSolidFile(inbox, fileName, declineTTL);\r\n        await fileClient.deleteFile(message.getUri());\r\n    }\r\n\r\n    async acceptFriendSchipRequest(message) {\r\n        //get user\r\n        let friend = new Friend(message.getFrom());\r\n        await loadFriendData(friend);\r\n\r\n        let inbox = friend.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n\r\n        //add user as friend\r\n        let friendsFile = this._user.getBeerDrinkerFolder() + FRIENDS_FILE;\r\n\r\n        let userNN = rdfLib.sym(this._user.getUri());\r\n\r\n        let friendNN = rdfLib.sym(message.getFrom());\r\n\r\n        let relationBn = rdfLib.blankNode();\r\n        this._friendsStore.add(relationBn, RDF('type'), ACTIVITYSTREAM('Relationship'));\r\n        this._friendsStore.add(relationBn, RDF('relationship'), PURLRELATIONSHIP('friendOf'));\r\n\r\n        this._friendsStore.add(this._friendGroup, VCARD('hasMember'), friendNN);\r\n        this._friendsStore.add(userNN, FOAF('knows'), friendNN);\r\n        this._friendsStore.add(relationBn, ACTIVITYSTREAM('subject'), userNN);\r\n        this._friendsStore.add(relationBn, ACTIVITYSTREAM('object'), friendNN);\r\n\r\n        let friendsTTL = await rdfLib.serialize(undefined, this._friendsStore, friendsFile, 'text/turtle');\r\n\r\n        //get file name and description string\r\n        let fileNameName = encodeURI(this._user.getName());\r\n        let fileName = FRIENDSHIPREQUEST_ACCEPTED_NAME + fileNameName;\r\n        let description = this._user.getName() + FRIENDSHIPREQUEST_ACCEPTED_DESC;\r\n\r\n        //get the location is will be posted to\r\n        let postLocation = inbox + fileName + \".ttl\";\r\n\r\n        //make a text file and send\r\n        let acceptedTTL = SolidTemplates.getAcceptFriendshipRequest(message.getFrom(), description, postLocation, this._user.getUri(), message.getUri());\r\n\r\n        //send friendship accepted to user\r\n        await postSolidFile(inbox, fileName, acceptedTTL);\r\n        //delete friendship request from own pod\r\n        await fileClient.deleteFile(message.getUri());\r\n        //update FriendsFile\r\n        await putSolidFile(friendsFile, friendsTTL);\r\n\r\n        this._modelHolder.addFriend(friend);\r\n    }\r\n\r\n    async fetchBeerList(searchQuery) {\r\n        let res = await kadasterLabsComm.getBeerData(searchQuery);\r\n        this._modelHolder.setBeers(res);\r\n    }\r\n\r\n    async fetchBeerData(beer) {\r\n        await kadasterLabsComm.fetchBeerData(beer);\r\n    }\r\n\r\n    async postBeerReview(hasReview, beer, rating, review, groups) {\r\n        let date = new Date();\r\n        let beerPoints = hasReview ? 10 : 5;\r\n        let filename = hasReview ? date.getTime() + BEERREVIEWFILENAME : date.getTime() + BEERCHECKINFILENAME;\r\n\r\n        groups.forEach(res => {\r\n            let ttlFile;\r\n            let postLocation;\r\n\r\n            if (hasReview) {\r\n                filename = date.getTime() + BEERREVIEWFILENAME;\r\n                postLocation = res + filename + \".ttl\";\r\n\r\n                ttlFile = SolidTemplates.beerReviewInTemplate(postLocation,\r\n                    this._user,\r\n                    beer.getUrl(),\r\n                    beer.getName(),\r\n                    date,\r\n                    rating,\r\n                    review);\r\n\r\n                beerPoints = 10;\r\n            } else {\r\n                filename = date.getTime() + BEERCHECKINFILENAME;\r\n                postLocation = res + filename + \".ttl\";\r\n\r\n                ttlFile = SolidTemplates.beerCheckInTemplate(postLocation,\r\n                    this._user,\r\n                    beer.getUrl(),\r\n                    beer.getName(),\r\n                    date);\r\n\r\n                beerPoints = 5;\r\n            }\r\n\r\n            if (res === this._user.getCheckInLocation()) {\r\n                this._modelHolder.getCheckInHandler().addBeerPoints(beerPoints);\r\n                this.sendBeerPoints(beerPoints);\r\n\r\n                if (hasReview) {\r\n                    this._modelHolder.getCheckInHandler().addBeerReviewToAmount();\r\n                } else {\r\n                    this._modelHolder.getCheckInHandler().addToCheckInsAmount();\r\n                }\r\n            } else {\r\n                let group = this._modelHolder.getGroupFromCheckInLocationUri(res);\r\n\r\n                fileClient.fetch(group.getGroupCheckInIndex()).then(checkInIndex => {\r\n                    let graph = rdfLib.graph();\r\n                    rdfLib.parse(checkInIndex, graph, group.getGroupCheckInIndex(), \"text/turtle\");\r\n                    let userNamedNode = graph.any(rdfLib.sym(this._user.getUri()), SOLIDLINKEDBEER('points'));\r\n                    userNamedNode.value = parseInt(userNamedNode.value) + beerPoints + \"\";\r\n\r\n                    let ttlFile = rdfLib.serialize(undefined, graph, group.getGroupCheckInIndex(), 'text/turtle');\r\n                    putSolidFile(group.getGroupCheckInIndex(), ttlFile);\r\n                })\r\n            }\r\n\r\n            postSolidFile(res, filename, ttlFile);\r\n\r\n            //make checkin to add\r\n            let checkIn = new BeerCheckIn(postLocation);\r\n            checkIn.loadInAttributes(\r\n                this._user.getUri(),\r\n                this._user.getName(),\r\n                beer.getUrl(),\r\n                beer.getName(),\r\n                date.toString(),\r\n                hasReview ? rating : undefined,\r\n                hasReview ? review : undefined,\r\n                false,\r\n                0);\r\n\r\n            let group = this._modelHolder.getGroupFromCheckInLocationUri(res);\r\n\r\n            if (group !== undefined) {\r\n                group.getCheckInHandler().addUserCheckIns([checkIn]);\r\n            } else {\r\n                this._modelHolder.getCheckInHandler().addUserCheckIns([checkIn]);\r\n            }\r\n        });\r\n    }\r\n\r\n    async sendBeerPoints(amount) {\r\n        let beerPointsQueryNow = this._appStore.any(this._NNAppStore, SOLIDLINKEDBEER(\"points\"));\r\n        beerPointsQueryNow.value = parseInt(beerPointsQueryNow.value) + amount + \"\";\r\n\r\n        let appTTL = await rdfLib.serialize(undefined, this._appStore, this._appStoreLocation, 'text/turtle');\r\n        putSolidFile(this._appStoreLocation, appTTL);\r\n    }\r\n\r\n    async getBrewerInformation(brewer) {\r\n        await kadasterLabsComm.getBrewerData(brewer);\r\n    }\r\n\r\n    async getAllCheckInsLoggedInUser() {\r\n        if (!this._modelHolder.getCheckInHandler().getAllCheckInsGotten()) {\r\n            this._modelHolder.getCheckInHandler().setUserCheckIns(\r\n                await getAllUserCheckIns(\r\n                    this._modelHolder.getUser().getBeerDrinkerFolder()\r\n                )\r\n            );\r\n\r\n            this._modelHolder.getCheckInHandler().setAllCheckInsGotten(true);\r\n        }\r\n    }\r\n\r\n    async makeNewGroup(beerdrinkerUrl, groupName, friends) {\r\n        let groupUrl = beerdrinkerUrl + GROUPFOLDER + groupName + \"/\";\r\n        let groupUrlAcl = groupUrl + \".acl\";\r\n        let appdataName = groupUrl + GROUP_DATA_FILE;\r\n\r\n        //maak groep folder aan\r\n        await fileClient.createFolder(groupUrl);\r\n\r\n        //maak appdata file aan\r\n        let body = SolidTemplates.getGroupAppDataTTL(appdataName, friends, this._user.getUri(), groupName);\r\n        await postSolidFile(groupUrl, GROUP_DATA_FILENAME, body);\r\n\r\n        //maak checkins folder aan\r\n        let checkins = groupUrl + CHECKIN_FOLDER;\r\n        let checkInsAcl = checkins + \".acl\";\r\n\r\n        await fileClient.createFolder(checkins);\r\n        let groupCheckInAclTtl = SolidTemplates.getGroupCheckInsAclTTL(checkins, appdataName, checkInsAcl, this._user.getUri());\r\n        await putSolidFile(checkInsAcl, groupCheckInAclTtl);\r\n\r\n        //zet de acl van de groups folder online\r\n        let groupAclTtl = SolidTemplates.getGroupAclTTL(groupUrl, appdataName, groupUrlAcl, this._user.getUri());\r\n        await putSolidFile(groupUrlAcl, groupAclTtl);\r\n\r\n        //make checkins index\r\n        let checkInsIndex = groupUrl + CHECKIN_INDEX_FILE;\r\n        let checkInsIndexAcl = checkInsIndex + \".acl\";\r\n        let checkInIndexBody = SolidTemplates.getCheckInIndexBody(checkInsIndex, friends.slice(), this._user);\r\n\r\n        await postSolidFile(groupUrl, CHECKIN_INDEX_NAME, checkInIndexBody);\r\n\r\n        let aclBody = SolidTemplates.groupCheckInIndexAcl(\r\n            checkInsIndex,\r\n            appdataName,\r\n            checkInsIndexAcl,\r\n            this._user.getUri());\r\n        await putSolidFile(checkInsIndexAcl, aclBody);\r\n\r\n        //stuur de uitnodigingen naar de vrienden\r\n        friends.forEach(res => {\r\n            let fileName = GROUPINVITATION_NAME + groupName;\r\n            let desc = GROUPINVITATION_DESC + groupName + \"?\";\r\n\r\n            let location = res.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n            let postLocation = location + fileName + \".ttl\";\r\n\r\n            let inv = SolidTemplates.getGroupInvitaion(res.getUri(),\r\n                desc,\r\n                postLocation,\r\n                this._user.getUri(),\r\n                groupUrl,\r\n                groupName\r\n            );\r\n\r\n            postSolidFile(location, fileName, inv);\r\n        });\r\n\r\n        let group = new Group(groupUrl, true);\r\n        group.setProperties(groupName, checkins, appdataName, checkInsIndex,{member: this._user.getUri(), points: 0}, friends.map(res => {\r\n            return {member: res.getUri(), points:0};\r\n        }));\r\n\r\n        this._modelHolder.addGroup(group);\r\n    }\r\n\r\n    async acceptGroupRequest(message) {\r\n        //maak een ttl file om het in eigen groep folder te zetten\r\n        let folderLocation = this._user.getBeerDrinkerFolder() + GROUPFOLDER;\r\n        let postlocation = folderLocation + message.getGroupName();\r\n        let groupLocation = message.getLocation();\r\n        let ownGroupBody = SolidTemplates.getGroupOtherPersonTTL(groupLocation, postlocation);\r\n\r\n        let group = new Group(message.getLocation(), message.getGroupName());\r\n        loadGroupInformation(group);\r\n        this._modelHolder.addGroup(group);\r\n\r\n        await postSolidFile(folderLocation, message.getGroupName(), ownGroupBody);\r\n\r\n        //verwijder het bericht\r\n        await fileClient.deleteFile(message.getUri());\r\n    }\r\n\r\n    async declineGroupRequest(message) {\r\n        //verwijder het bericht\r\n        await fileClient.deleteFile(message.getUri());\r\n\r\n        //TODO decline stuur het door, zodat je eruit wordt getrapt.\r\n    }\r\n\r\n    async onLikeClick(checkin) {\r\n        if (!checkin.getLiked()) {\r\n            let encodedUri = checkin._fileLocation.replace(/[\\/:|]/gi, \"_\");\r\n            let fileName = encodedUri.replace(\".ttl\", \"\") + LIKEFILENAME;\r\n\r\n            let likeFolderLocation = this._user.getBeerDrinkerFolder() + LIKE_FOLDER;\r\n            let likeLocation = likeFolderLocation + fileName + \".ttl\";\r\n\r\n            let checkInUrl = checkin._fileLocation;\r\n            let body  = `INSERT DATA { <${likeLocation}> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <https://www.w3.org/ns/activitystreams#Like>; <https://www.w3.org/ns/activitystreams#object> <${checkin._fileLocation}>}`;\r\n\r\n            let likeBody = SolidTemplates.getLikeBody(checkInUrl, likeLocation, this._user.getUri());\r\n\r\n            let likeAclLocation = likeLocation + \".acl\";\r\n            let likeAclBody = SolidTemplates.getLikeAcl(\r\n                this._user.getUri(),\r\n                checkin._userWebId,\r\n                likeLocation,\r\n                likeAclLocation\r\n            );\r\n\r\n            checkin.setLikedTrue();\r\n\r\n            fileClient.fetch(likeLocation).then(res => {\r\n                console.log(\"exists\");\r\n            }).catch(res => {\r\n                    postSolidFile(likeFolderLocation, fileName, likeBody);\r\n                    putSolidFile(likeAclLocation, likeAclBody);\r\n                }\r\n            );\r\n\r\n            await appendSolidResource(checkInUrl, body);\r\n        }\r\n    }\r\n\r\n    async addFriendsToGroup(group, friends) {\r\n        if (friends.length > 0) {\r\n            let friendsGroup = friends.map(res => {\r\n                return {member: res.getUri(), points: \"0\"};\r\n            });\r\n\r\n            group.addMembers(friendsGroup);\r\n\r\n            let friendFile = await fileClient.readFile(group.getGroupDataFile());\r\n            let graph = rdfLib.graph();\r\n            await rdfLib.parse(friendFile, graph, group.getGroupDataFile(), \"text/turtle\");\r\n            let groupNN = graph.any(undefined, SOLIDLINKEDBEER('hasLeader'));\r\n\r\n            let checkInIndexFile = await fileClient.readFile(group.getGroupCheckInIndex());\r\n            let graph2 = rdfLib.graph();\r\n            await rdfLib.parse(checkInIndexFile, graph2, group.getGroupDataFile(), \"text/turtle\");\r\n            let group2NN = graph2.any(undefined, VCARD('hasMember'));\r\n\r\n            friends.forEach(res => {\r\n                let friendNN = rdfLib.sym(res.getUri());\r\n                //groupdata.ttl\r\n                graph.add(groupNN, VCARD('hasMember'), friendNN);\r\n\r\n                //checkinIndex.ttl\r\n                graph2.add(group2NN, VCARD('hasMember'), friendNN);\r\n                graph2.add(friendNN, SOLIDLINKEDBEER('points'), 0);\r\n                graph2.add(friendNN, RDF('type'), FOAF('Person'));\r\n                graph2.add(friendNN, RDF('type'), SOLIDLINKEDBEER('GroupMember'));\r\n            });\r\n\r\n            //stuur de uitnodigingen naar de vrienden\r\n            friends.forEach(res => {\r\n                let fileName = GROUPINVITATION_NAME + group.getName();\r\n                let desc = GROUPINVITATION_DESC + group.getName() + \"?\";\r\n\r\n                let location = res.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n                let postLocation = location + fileName + \".ttl\";\r\n\r\n                let inv = SolidTemplates.getGroupInvitaion(res.getUri(),\r\n                    desc,\r\n                    postLocation,\r\n                    this._user.getUri(),\r\n                    group.getUrl(),\r\n                    group.getName()\r\n                );\r\n\r\n                postSolidFile(location, fileName, inv);\r\n            });\r\n\r\n            friendFile = await rdfLib.serialize(undefined, graph, group.getGroupDataFile(), 'text/turtle');\r\n            await putSolidFile(group.getGroupDataFile(), friendFile);\r\n\r\n            checkInIndexFile = await rdfLib.serialize(undefined, graph2, group.getGroupCheckInIndex(), 'text/turtle');\r\n            await putSolidFile(group.getGroupCheckInIndex(), checkInIndexFile);\r\n        }\r\n    }\r\n}\r\n\r\nexport default SolidCommunicator;","import React from 'react';\r\nimport './css/NavBar.scss'\r\n\r\nclass NavBar extends React.Component {\r\n    onInput = (e) => {\r\n        this.props.onBeerSearch(e.target.value);\r\n    };\r\n\r\n    render() {\r\n        let cldn = React.Children.toArray(this.props.children);\r\n        let input;\r\n\r\n        cldn = cldn.map((child, index) => {\r\n            return (\r\n                <li key={child.props.to}>\r\n                    {child}\r\n                </li>\r\n            )\r\n        });\r\n\r\n        if (this.props.loggedIn) {\r\n            input = (<li key={\"input\"}>\r\n                <input type=\"button\" value=\"Check in beer\" onClick={this.props.onSearchBarButtonClick}/>\r\n            </li>);\r\n\r\n            cldn.splice(cldn.length - 1, 0, input);\r\n        }\r\n\r\n        return (\r\n            <nav>\r\n                <ul id=\"navBarUL\">\r\n                    {cldn}\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport '../css/Home.scss'\r\nimport solidImage from '../../assets/Knipsel.png';\r\nimport Logo from '../../assets/logowhite.png';\r\nimport PLDNlogo from '../../assets/pldnlogo.png'\r\n\r\nclass Home extends React.Component {\r\n    render() {\r\n        return (\r\n            <section className=\"home\">\r\n                <div className={\"homeSection homesection-right socialLinkedBeerSection\"}>\r\n                    <img src={Logo} alt ={\"\"}/>\r\n                    <div className={\"text-section\"}>\r\n                        <h1>Social Linked Beer</h1>\r\n                        <p>Social Linked Beer is an application to share your beer adventures with your friends. This\r\n                            application is made for PLDN.\r\n                            It is made with Solid.</p>\r\n                    </div>\r\n                </div>\r\n                <div className={\"homeSection solidSection\"}>\r\n                    <div className={\"text-section\"}>\r\n                        <a href={\"https://solid.inrupt.com/\"}><h1>Solid</h1></a>\r\n                        <p>Solid was created by the inventor of the World Wide Web, Sir Tim Berners-Lee. Its mission is\r\n                            to reshape the web as we know it. Solid will foster a new breed of applications with\r\n                            capabilities above and beyond anything that exists today.</p>\r\n                    </div>\r\n                    <img src={solidImage} alt ={\"\"}/>\r\n                </div>\r\n                <div className={\"homeSection homesection-right pldnSection\"}>\r\n                    <img src={PLDNlogo} alt ={\"\"}/>\r\n                    <div className={\"text-section\"}>\r\n                        <a href={\"http://www.pilod.nl/wiki/Platform_Linked_Data_Nederland\"}><h1>PLDN</h1></a>\r\n                        <p>\r\n                            Platform Linked Data Netherlands is a network where experts and interested parties share\r\n                            knowledge about linked data.</p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport '../css/LogIn.scss'\r\n\r\nimport solidAuth from 'solid-auth-client'\r\n\r\nclass LogIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loginAsBrewer: false\r\n        }\r\n    }\r\n\r\n    onChangeCheckBox = () => {\r\n        this.setState({\r\n            loginAsBrewer: !this.state.loginAsBrewer\r\n        })\r\n    }\r\n\r\n    onButtonClick = () => {\r\n        let popupUri = './popup.html';\r\n        solidAuth.popupLogin({ popupUri }).then(() => {\r\n            solidAuth.currentSession().then(session => {\r\n                this.props.onLoggedIn();\r\n                this.props.history.push(`/profile`)\r\n            })\r\n        })\r\n    }\r\n\r\n    onRegisterClick = () => {\r\n        window.location.assign('https://inrupt.net/');\r\n    }\r\n\r\n    render() {\r\n        let typeLogIn;\r\n        let loginButton;\r\n\r\n\r\n        if (this.state.loginAsBrewer) {\r\n            typeLogIn = <h1>Brewer</h1>\r\n            loginButton = (<button onClick = {this.onButtonClick} disabled={true}>In progress</button>);\r\n        } else {\r\n            typeLogIn = <h1>Beer Drinker</h1>\r\n            loginButton = (<button onClick = {this.onButtonClick}>Log in</button>);\r\n        }\r\n\r\n        let activeClass = this.state.loginAsBrewer ? \"logInBrewer\" : \"logInBeerDrinker\";\r\n\r\n        return (\r\n            <section className={[\"logInScreen \", activeClass].join(' ')}>\r\n                <div className=\"loginField\">\r\n                    {typeLogIn}\r\n                    <label className=\"switch\">\r\n                        <input type=\"checkbox\" onChange={this.onChangeCheckBox} />\r\n                        <span className=\"slider\"></span>\r\n                    </label>\r\n\r\n                    <br />\r\n                    <div>\r\n                        <button onClick = {this.onRegisterClick}>Register</button>\r\n                        {loginButton}\r\n                    </div>\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LogIn;\r\n","import React from 'react';\r\nimport Select from \"react-select\";\r\nimport \"./css/GroupMakerOverlay.scss\"\r\n\r\nclass GroupMakerOverlay extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onDivClick = (e) => {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        let text = \"Add more friends\";\r\n        let text2 = \"Add friends\";\r\n        let nameField;\r\n\r\n        if(this.props.isNewGroup){\r\n            text = \"Make new group\";\r\n            text2 = \"Make group\";\r\n            nameField = (<div className={\"nameFieldGroupMakerOverlay\"}><span>Group name</span> &nbsp;:&nbsp; <input value={this.props.groupName} onChange={this.props.onChange}/></div>);\r\n        }\r\n\r\n        let errorB = (this.props.error !== \"\") ? <p style={{color: \"red\"}}>{this.props.error}</p> : undefined;\r\n\r\n        return (\r\n            <div onClick={this.props.onOverLayCancelClick} id=\"overlayGroup\" style={this.props.overlay ? { display: \"block\" } : { display: \"none\" }}>\r\n                <div id=\"textGroup\" onClick={this.onDivClick}>\r\n                    <h1>\r\n                        {text}\r\n                    </h1>\r\n                    {errorB}\r\n                    {nameField}\r\n                    <Select\r\n                        className = {\"SelectGroupMakerOverlay\"}\r\n                        isMulti = {true}\r\n                        options={this.props.valuesSelector}\r\n                        value = {this.props.selectedFriends}\r\n                        onChange = {this.props.onSelect}\r\n                    />\r\n\r\n                    <button onClick={this.props.makeGroup}>{text2}</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GroupMakerOverlay;","import {toast} from \"react-toastify\";\r\nimport React from \"react\";\r\nimport \"./css/Toasts.scss\";\r\n\r\nexport function infoToast(string) {\r\n    toast(<p>{string} </p>, {\r\n        position: \"bottom-right\",\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: false,\r\n        draggable: true\r\n    });\r\n}\r\n\r\nexport function errorToast(string) {\r\n    return toast.error(<p>{\"❌ \" + string} </p>, {\r\n        position: \"bottom-right\",\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: false,\r\n        draggable: true\r\n    });\r\n}\r\n\r\nexport function succesToast(string) {\r\n    return toast.success(<p>{\"✔️ \" + string} </p>, {\r\n        position: \"bottom-right\",\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: false,\r\n        draggable: true\r\n    });\r\n}\r\n\r\nexport function waitToast(string) {\r\n    return toast.info(<p>{\"⌛ \" + string} </p>, {\r\n        position: \"bottom-right\",\r\n        autoClose: false,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: false,\r\n        draggable: true\r\n    });\r\n}\r\n\r\nexport function updateToSuccesToast(toastUpdate, text){\r\n    toast.update(toastUpdate, {type: toast.TYPE.SUCCESS,\r\n        autoClose : 3000,\r\n        render : <p>{\"✔️ \" + text} </p>\r\n    });\r\n}\r\n\r\nexport function updateToErrorToast(toastUpdate, text){\r\n    toast.update(toastUpdate, {type: toast.TYPE.ERROR,\r\n        autoClose : 3000,\r\n        render :<p>{\"❌ \" + text} </p>\r\n    });\r\n}\r\n\r\n","import React from 'react';\r\nimport \"../css/Groups.scss\";\r\nimport GroupMakerOverlay from \"../../component/GroupMakerOverlay\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {updateToSuccesToast, waitToast} from \"../../component/ToastMethods\";\r\n\r\nclass Groups extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            overlay: false,\r\n            groupName: \"\",\r\n            selectedFriends: [],\r\n            error: \"\"\r\n        }\r\n    }\r\n\r\n    onMakeGroupClick = () => {\r\n        this.setState({\r\n            overlay: true\r\n        });\r\n    };\r\n\r\n    onOverLayCancelClick = () => {\r\n        this.setState({\r\n            overlay: false\r\n        });\r\n    };\r\n\r\n    onSelectFriend = (e) => {\r\n        this.setState({\r\n            selectedFriends: e\r\n        })\r\n    };\r\n\r\n    makeGroup = () => {\r\n        if (this.state.groupName !== \"\" && !(/\\s/.test(this.state.groupName))) {\r\n            let toast = waitToast(\"Making group \" + this.state.groupName);\r\n\r\n            let beerDrinkerFolder = this.props.modelHolder.getUser().getBeerDrinkerFolder();\r\n            let friends = this.state.selectedFriends.map(res => {\r\n                return res.value;\r\n            });\r\n\r\n            let name = this.state.groupName;\r\n\r\n            this.props.solidCommunicator.makeNewGroup(beerDrinkerFolder, this.state.groupName, friends).then(res => {\r\n                updateToSuccesToast(toast, \"Group \" + name + \" made\");\r\n            });\r\n\r\n            this.setState({\r\n                overlay: false,\r\n                selectedFriends: [],\r\n                groupName: \"\"\r\n            });\r\n        }else{\r\n            this.setState({\r\n                error : \"Group name can not have spaces\"\r\n            })\r\n        }\r\n    };\r\n\r\n    onGroupNameChange = (e) => {\r\n        let text = e.target.value;\r\n        this.setState({\r\n            groupName: text\r\n        })\r\n    };\r\n\r\n    render() {\r\n        let friendsComs = this.props.modelHolder.getFriends().map(res => {\r\n            return {value: res, label: res.getName()}\r\n        });\r\n\r\n        let groups = this.props.modelHolder.getGroups().map((res, index) => {\r\n            return (\r\n                <li key={res.getUrl() + res.getLeader()}>\r\n                    <Link to={`/groups/${index}`}>{res.getName()}</Link>\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <section id=\"groupsPage\">\r\n                <h1>\r\n                    Groups\r\n                </h1>\r\n                <div className=\"makeNewGroupDiv\">\r\n                    <button className=\"makeNewGroup\" onClick={this.onMakeGroupClick}>makeNewGroup</button>\r\n                </div>\r\n                <GroupMakerOverlay\r\n                    overlay={this.state.overlay}\r\n                    onOverLayCancelClick={this.onOverLayCancelClick}\r\n                    onChange={this.onGroupNameChange}\r\n                    groupName={this.state.groupName}\r\n                    valuesSelector={friendsComs}\r\n                    selectedFriends={this.state.selectedFriends}\r\n                    onSelect={this.onSelectFriend}\r\n                    makeGroup={this.makeGroup}\r\n                    isNewGroup = {true}\r\n                    error = {this.state.error}\r\n                />\r\n\r\n                <ul>\r\n                    {groups}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Groups;\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport '../css/Friends.scss'\r\nimport {\r\n    updateToErrorToast,\r\n    updateToSuccesToast,\r\n    waitToast\r\n} from \"../../component/ToastMethods\";\r\nimport profilePic from '../../assets/profilePic.png';\r\n\r\nclass Friends extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            inputText: \"\",\r\n            error: undefined\r\n        };\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            inputText: e.target.value\r\n        })\r\n    };\r\n\r\n    checkIfUser = () => {\r\n        let text = this.state.inputText.toUpperCase();\r\n        let friend = this.props.modelHolder.getUser();\r\n\r\n        //regular uro\r\n        let friendUri = friend.getUri().toUpperCase();\r\n\r\n        //uri without the hash\r\n        let friendUri2 = friend.getUri().toUpperCase().replace(\"#ME\", \"\").replace(\"#I\", \"\");\r\n\r\n        //uri without https\r\n        let friendUri3 = friendUri.replace(\"HTTPS://\", \"\");\r\n        let friendUri4 = friendUri2.replace(\"HTTPS://\", \"\");\r\n\r\n        //check if text mathes any of these thing\r\n        return friendUri === text || friendUri2 === text || friendUri3 === text || friendUri4 === text;\r\n    };\r\n\r\n    onButtonClick = async () => {\r\n        let friends = this.props.modelHolder.getFriends();\r\n\r\n        friends = friends.filter(friend => {\r\n            let text = this.state.inputText.toUpperCase();\r\n            //regular uro\r\n            let friendUri = friend.getUri().toUpperCase();\r\n\r\n            //uri without the hash\r\n            let friendUri2 = friend.getUri().toUpperCase().replace(\"#ME\", \"\").replace(\"#I\", \"\");\r\n\r\n            //uri without https\r\n            let friendUri3 = friendUri.replace(\"HTTPS://\", \"\");\r\n            let friendUri4 = friendUri2.replace(\"HTTPS://\", \"\");\r\n\r\n            //check if text mathes any of these thing\r\n            return friendUri === text || friendUri2 === text || friendUri3 === text || friendUri4 === text;\r\n        });\r\n\r\n        if (friends.length !== 0) {\r\n            //this is a mess and lazy programming but keep it in because i do not have time to change it.\r\n            let index = this.props.modelHolder.getFriends().map((profile, index) => {\r\n                if (friends[0].getUri() === profile.getUri()) {\r\n                    return index;\r\n                } else {\r\n                    return undefined;\r\n                }\r\n            }).filter(index => {\r\n                return index\r\n            });\r\n\r\n            this.props.history.push(`/friend/${index[0]}`);\r\n        } else if (this.checkIfUser()) {\r\n            this.props.history.push(\"/profile\");\r\n        } else {\r\n            let toast = waitToast(\"Retrieving user file\");\r\n\r\n            try {\r\n                let result = await this.props.solidCommunicator.getUserFile(this.state.inputText);\r\n\r\n                this.props.history.push({\r\n                    pathname: \"/user\",\r\n                    state: {\r\n                        result: result\r\n                    }\r\n                });\r\n\r\n                updateToSuccesToast(toast, \"User retrieved\");\r\n            } catch (e) {\r\n                this.setState({error: e.message});\r\n                updateToErrorToast(toast, \"Something went wrong\");\r\n            }\r\n        }\r\n    };\r\n\r\n    onKeyPress = (e) => {\r\n        if (e.key === \"Enter\") {\r\n            this.onButtonClick();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let friends = this.props.modelHolder.getFriends();\r\n        let text = this.state.inputText.toUpperCase();\r\n\r\n        let friendsElements = friends.map((friend, index) => {\r\n            if (friend.getUri().toUpperCase().includes(text) || (friend.getName() && friend.getName().toUpperCase().includes(text))) {\r\n                let imgUrl = friend.getImageUrl();\r\n                let friendsName = friend.getName() ? (<h3>{friend.getName()}</h3>) : (<h3>&nbsp;</h3>);\r\n\r\n                return <li key={friend.getUri()} className={\"friendSectionProfileCard\"}>\r\n                    <Link to={`/friend/${index}`}>\r\n                        {friendsName}\r\n                        <img src={imgUrl ? imgUrl : profilePic} alt=\"\"/>\r\n                    </Link>\r\n                </li>\r\n            } else {\r\n                return undefined;\r\n            }\r\n        });\r\n\r\n\r\n        return (\r\n            <section className=\"friends\">\r\n                <div className=\"searchFriends\">\r\n                    <h3>\r\n                        Make new friends\r\n                    </h3>\r\n                    <br/>\r\n                    <p className={\"friendsError\"}>{this.state.error}</p>\r\n                    <input type=\"text\" placeholder=\"https://profile.card/profile/card#me\" value={this.state.inputText}\r\n                           onChange={this.onChange} onKeyPress={this.onKeyPress}/>\r\n                    <button onClick={this.onButtonClick}>Search on the web</button>\r\n                </div>\r\n\r\n                <div className=\"friendSection\">\r\n                    <h1>\r\n                        Your friends\r\n                    </h1>\r\n                    <ul>\r\n                        {friendsElements}\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Friends;\r\n","import React from \"react\";\r\n\r\nconst StandardContext = React.createContext({SUCK_ON : \"THEZE NUTZ\"});\r\n\r\nexport default StandardContext;","import React from \"react\";\r\nimport \"./css/BeerCheckInComponent.scss\"\r\nimport Like from \"../assets/Thumb-emoji.png\";\r\nimport StandardContext from \"../context/StandardContext\";\r\n\r\nclass BeerCheckInComponent extends React.Component {\r\n    onLikeClick = () => {\r\n        let solidCommunicator = this.context.solidCommunicator;\r\n\r\n        if (solidCommunicator) {\r\n            solidCommunicator.onLikeClick(this.props.checkin);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        let checkIn = this.props.checkin;\r\n        let rating;\r\n        let review;\r\n        let time;\r\n\r\n        if (checkIn._rating) {\r\n            rating = <p>rating: {checkIn._rating}</p>\r\n        } else {\r\n            rating = <br/>;\r\n        }\r\n\r\n        if (checkIn._review) {\r\n            review = <p>review: <br/> {checkIn._review}</p>\r\n        } else {\r\n            review = <br/>;\r\n        }\r\n\r\n        if (checkIn._checkInTime) {\r\n            time = (<p>{dateToString(new Date(checkIn._checkInTime))}</p>)\r\n        } else {\r\n            time = <br/>;\r\n        }\r\n\r\n        let className = checkIn.getLiked() ? \"\" : \"greyScaled\";\r\n\r\n        return (\r\n            <li className=\"BeerCheckInComponent\">\r\n                <div className={\"BeerCheckInComponentMainSection\"}>\r\n                    <p>\r\n                        {checkIn._userName ? checkIn._userName : checkIn._userWebId} is drinking a {checkIn._beerName}\r\n                    </p>\r\n                    <div className={\"beerCheckInComponentTextDiv\"}>\r\n                        {time}\r\n                        {rating}\r\n                    </div>\r\n\r\n                </div>\r\n                <div className={\"BeerCheckInComponentLikeReviewSection\"}>\r\n                    {review}\r\n                    <div className={\"beerCheckInComponentButtonDiv\"}>\r\n                        <span>{checkIn.getAmountOfLiked()}</span>\r\n                        <img className={className} src={Like} alt=\"like button\" onClick={this.onLikeClick}/>\r\n                    </div>\r\n                </div>\r\n            </li>)\r\n    }\r\n}\r\n\r\nBeerCheckInComponent.contextType = StandardContext;\r\n\r\nfunction dateToString(date) {\r\n    var dd = String(date.getDate()).padStart(2, '0');\r\n    var mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    var yyyy = date.getFullYear();\r\n\r\n    return dd + '/' + mm + '/' + yyyy;\r\n}\r\n\r\nexport default BeerCheckInComponent;","import React from 'react';\r\nimport '../css/Profile.scss';\r\nimport profilePic from '../../assets/profilePic.png';\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\nimport Logo from \"../../assets/logowhite.png\";\r\n\r\nclass FriendPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: this.props.modelHolder.getFriendFromIndex(this.props.match.params.id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let user = this.state.user;\r\n        let imgUrl = user.getImageUrl();\r\n        let userCheckIns = user.getCheckInHandler().getUserCheckIns();\r\n        let content;\r\n        let isFlipped = this.state.isFlipped;\r\n\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key={checkIn._fileLocation} checkin={checkIn}/>\r\n            )\r\n        });\r\n\r\n        if (user.getStartDate()) {\r\n            content = (<div className=\"profileCard\">\r\n                <div className={\"card \" + (isFlipped ? \"is-flipped\" : \"\")}\r\n                     onClick={() => {\r\n                         this.setState({isFlipped: !this.state.isFlipped})\r\n                     }}>\r\n                    <div className=\"card__face card__face--front\">\r\n                        <div className={\"upperSectionProfileCard\"}>\r\n                            <h1>\r\n                                {user.getName()}\r\n                            </h1>\r\n                            <img src={imgUrl ? imgUrl : profilePic} alt=\"\"/>\r\n                        </div>\r\n                        <div className={\"profileUserAppContent\"}>\r\n                            <table className={\"profileTable\"}>\r\n                                <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        Check-ins\r\n                                    </td>\r\n                                    <td>\r\n                                        &nbsp;:&nbsp;\r\n                                    </td>\r\n                                    <td>\r\n                                        {user.getCheckInHandler().getCheckInsAmount()}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Reviews\r\n                                    </td>\r\n                                    <td>\r\n                                        &nbsp;:&nbsp;\r\n                                    </td>\r\n                                    <td>\r\n                                        {user.getCheckInHandler().getBeerReviewsAmount()}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Begin date\r\n                                    </td>\r\n                                    <td>\r\n                                        &nbsp;:&nbsp;\r\n                                    </td>\r\n                                    <td>\r\n                                        {dateToString(user.getStartDate())}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Beerpoints\r\n                                    </td>\r\n                                    <td>\r\n                                        &nbsp;:&nbsp;\r\n                                    </td>\r\n                                    <td>\r\n                                        {user.getCheckInHandler().getBeerPoints()}\r\n                                    </td>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card__face card__face--back\">\r\n                        <img src={Logo} alt={\"\"}/>\r\n                        <p>This person is an offical member of the Social linked beer club</p>\r\n                    </div>\r\n                </div>\r\n            </div>);\r\n        }\r\n\r\n        return (\r\n            <section className=\"profileScreen\">\r\n                {content}\r\n                <div className=\"checkedInBeersProfile\">\r\n                    <h1>\r\n                        Recent activities\r\n                    </h1>\r\n                    <ul>\r\n                        {userCheckIns}\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction dateToString(date) {\r\n    var dd = String(date.getDate()).padStart(2, '0');\r\n    var mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    var yyyy = date.getFullYear();\r\n\r\n    return dd + '/' + mm + '/' + yyyy;\r\n}\r\n\r\nexport default FriendPage;","import React from 'react';\r\nimport '../css/CheckIns.scss'\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\n\r\nclass Friends extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            res : []\r\n        }\r\n\r\n        this.getAllCheckIns();\r\n    }\r\n\r\n    getAllCheckIns = () => {\r\n        this.props.solidCommunicator.getAllCheckInsLoggedInUser();\r\n    }\r\n\r\n\r\n    render(){\r\n        let userCheckIns = this.props.modelHolder.getCheckInHandler().getUserCheckIns();\r\n\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key = {checkIn._fileLocation} checkin = {checkIn}/>\r\n            )\r\n        })\r\n\r\n        return(\r\n            <section id = \"beerCheckIns\">\r\n                <h1>\r\n                    Check-Ins\r\n                </h1>\r\n                <ul>\r\n                    {userCheckIns}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Friends;\r\n","import React from 'react';\r\nimport '../css/BeerResults.scss';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass BeerResults extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            searchQuery: \"\"\r\n        }\r\n    }\r\n\r\n    onButtonClick = () => {\r\n        if (this.props.searchQuery !== \"\") {\r\n            this.props.solidCommunicator.fetchBeerList(this.state.searchQuery).then(res => {\r\n            });\r\n        } else {\r\n            this.props.modelHolder.setBeers([]);\r\n        }\r\n    };\r\n\r\n    onLinkClick = (e) => {\r\n        this.props.modelHolder.setBeer(e);\r\n    };\r\n\r\n    onBeerSearch = (text) => {\r\n        this.setState({\r\n            searchQuery: text\r\n        });\r\n    };\r\n\r\n    onKeyPress = (e) => {\r\n        if (e.key === \"Enter\") {\r\n            this.onButtonClick();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        let elements = this.props.modelHolder.getBeers().map((listItem, index) => {\r\n            return (\r\n                <li key={listItem.getUrl()}>\r\n                    <Link to={`/beer/${index}`}\r\n                          onClick={() => {\r\n                              this.onLinkClick(listItem)\r\n                          }}>\r\n                        {listItem.getName()}\r\n                    </Link>\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <section className=\"beerResults\">\r\n                <h1>Beer Results</h1>\r\n                <div className={\"searchScreenSearch\"}>\r\n                    <input value={this.state.searchQuery}\r\n                           placeholder={\"Search for beers by name\"}\r\n                           size=\"23\"\r\n                           onChange={(e) => {\r\n                               this.onBeerSearch(e.target.value);\r\n                           }}\r\n                           onKeyPress={this.onKeyPress}\r\n                           autoFocus\r\n                    />\r\n                    <button onClick={this.onButtonClick}>search</button>\r\n                </div>\r\n                <ul>\r\n                    {elements}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BeerResults;\r\n\r\n","import React from 'react';\r\nimport '../css/Profile.scss'\r\nimport profilePic from '../../assets/profilePic.png'\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Logo from '../../assets/logowhite.png'\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isFlipped: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let user = this.props.modelHolder.getUser();\r\n        let imgUrl = user.getImageUrl();\r\n        let checkInHandler = this.props.modelHolder.getCheckInHandler();\r\n        let userCheckIns = checkInHandler.getUserCheckIns();\r\n        let content;\r\n\r\n        let isFlipped = this.state.isFlipped;\r\n\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key={checkIn._fileLocation} checkin={checkIn}/>\r\n            )\r\n        });\r\n\r\n        if (user.getBeginDate()) {\r\n            content = <div className=\"profileCard\">\r\n                <div className={\"card \" + (isFlipped ? \"is-flipped\" : \"\")}\r\n                     onClick={() => {\r\n                         this.setState({isFlipped: !this.state.isFlipped})\r\n                     }}>\r\n                    <div className=\"card__face card__face--front\">\r\n                        <div className={\"upperSectionProfileCard\"}>\r\n                            <h1>\r\n                                {user.getName()}\r\n                            </h1>\r\n                            <img src={imgUrl ? imgUrl : profilePic} alt=\"\"/>\r\n                        </div>\r\n                        <div className={\"profileUserAppContent\"}>\r\n                            <table className={\"profileTable\"}>\r\n                                <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        Check-ins\r\n                                    </td>\r\n                                    <td>\r\n                                        &nbsp;:&nbsp;\r\n                                    </td>\r\n                                    <td>\r\n                                        {checkInHandler.getCheckInsAmount()}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Reviews\r\n                                    </td>\r\n                                    <td>\r\n                                        &nbsp;:&nbsp;\r\n                                    </td>\r\n                                    <td>\r\n                                        {checkInHandler.getBeerReviewsAmount()}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Begin date\r\n                                    </td>\r\n                                    <td>\r\n                                        &nbsp;:&nbsp;\r\n                                    </td>\r\n                                    <td>\r\n                                        {dateToString(user.getBeginDate())}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Beerpoints\r\n                                    </td>\r\n                                    <td>\r\n                                        &nbsp;:&nbsp;\r\n                                    </td>\r\n                                    <td>\r\n                                        {checkInHandler.getBeerPoints()}\r\n                                    </td>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card__face card__face--back\">\r\n                        <img src={Logo} alt={\"Social linked beer stamp\"}/>\r\n                        <p>This person is an offical member of the Social linked beer club</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        }\r\n\r\n        return (\r\n            <section className=\"profileScreen\">\r\n                {content}\r\n                <div className=\"checkedInBeersProfile\">\r\n                    <div className=\"checkinDiv\">\r\n                        <Link to=\"/checkIns\">All check ins &rarr;</Link>\r\n                        <h1>\r\n                            Recent activities\r\n                        </h1>\r\n                    </div>\r\n                    <ul>\r\n                        {userCheckIns}\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction dateToString(date) {\r\n    var dd = String(date.getDate()).padStart(2, '0');\r\n    var mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    var yyyy = date.getFullYear();\r\n\r\n    return dd + '/' + mm + '/' + yyyy;\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport '../css/User.scss'\r\nimport profilePic from '../../assets/profilePic.png';\r\nimport {waitToast, updateToSuccesToast, updateToErrorToast} from \"../../component/ToastMethods\";\r\n\r\nclass User extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            clicked: false,\r\n            result: this.props.location.state.result\r\n        }\r\n    }\r\n\r\n    onNotJoinedButtonClick = async () => {\r\n        let result = this.state.result;\r\n\r\n        let toast = waitToast(\"Sending invitation\");\r\n\r\n        this.setState(\r\n            {\r\n                clicked: true\r\n            });\r\n\r\n        await this.props.solidCommunicator.inviteUserToSolib(result.url, result.inbox);\r\n\r\n        updateToSuccesToast(toast, \"Invitation sent\")\r\n    };\r\n\r\n    sendFriendShipRequest = async () => {\r\n        //TODO check if friendship request is already set\r\n        let result = this.state.result;\r\n\r\n        this.setState(\r\n            {\r\n                clicked: true\r\n            }\r\n        );\r\n\r\n        let toast = waitToast(\"Sending friend request\");\r\n\r\n        try {\r\n            await this.props.solidCommunicator.sendFriendshipRequest(result.url, result.appLocation);\r\n            updateToSuccesToast(toast, \"Friend request sent\")\r\n        } catch (e) {\r\n            updateToErrorToast(toast, \"Already sent a friendship request\")\r\n        }\r\n\r\n    };\r\n\r\n    render() {\r\n        let result = this.props.location.state.result;\r\n        let button;\r\n\r\n        if (!this.state.clicked) {\r\n            if (result.appLocation) {\r\n                button = (<button onClick={this.sendFriendShipRequest}>Send friendship request</button>);\r\n            } else {\r\n                button = (<button onClick={this.onNotJoinedButtonClick}>Invite to Social linked beer</button>);\r\n            }\r\n        } else {\r\n            button = (<button disabled={true}>Request send</button>)\r\n        }\r\n\r\n        return (\r\n            <section className=\"userPageNew\">\r\n                <div className=\"userPageHead\">\r\n                    <h1>\r\n                        {result.name}\r\n                    </h1>\r\n                    <img src={result.imageUrl ? result.imageUrl : profilePic} alt=\"\"/>\r\n                    <div className=\"userButtonDiv\">\r\n                        {button}\r\n                    </div>\r\n                    <table className=\"userInfo\">\r\n                        <tbody>\r\n                        <tr>\r\n                            <td>Profile card URI</td>\r\n                            <td>&nbsp;:&nbsp;</td>\r\n                            <td>{result.url}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Has social linked beer account?</td>\r\n                            <td>&nbsp;:&nbsp;</td>\r\n                            <td>{result.appLocation ? \"Yes\" : \"No\"}</td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport './css/FetchingComponent.scss';\r\n\r\nclass FetchingComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <section className= \"rendering\">\r\n                <h1>{this.props.message ? this.props.message : \"Fetching data\"}</h1>\r\n                <div id=\"fetchinAnimation\"></div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FetchingComponent;","import React from 'react';\r\nimport \"../css/Inbox.scss\";\r\nimport {FRIENDSHIPREQUESTCLASSNAME, GROUPINVITATIONCLASSNAME} from \"../../solid/rdf/Constants\";\r\nimport FetchingComponent from \"../../component/FetchingComponent\";\r\n\r\nclass Inbox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            fetching: false\r\n        }\r\n    }\r\n\r\n    declineFriendShipRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.declineFriendSchipRequest(message);\r\n    };\r\n\r\n    acceptFriendShipRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.acceptFriendSchipRequest(message);\r\n    };\r\n\r\n    declineGroupRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.declineGroupRequest(message);\r\n    };\r\n\r\n    acceptGroupRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.acceptGroupRequest(message);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState({fetching: true});\r\n\r\n        this.props.solidCommunicator.getInboxContents().then(() => {\r\n            this.setState({fetching: false})\r\n        });\r\n    };\r\n\r\n    render() {\r\n        let items;\r\n        let fetching;\r\n\r\n        if (!this.state.fetching) {\r\n            items = this.props.modelHolder.getInboxMessages().map((message, index) => {\r\n                let buttonDiv;\r\n\r\n                if (message.getType() === FRIENDSHIPREQUESTCLASSNAME) {\r\n                    buttonDiv = (<div className=\"buttonDiv\">\r\n                        <button onClick={() => this.declineFriendShipRequest(index, message)}>Decline</button>\r\n                        <button onClick={() => this.acceptFriendShipRequest(index, message)}>Accept</button>\r\n                    </div>)\r\n                } else if (message.getType() === GROUPINVITATIONCLASSNAME) {\r\n                    buttonDiv = (<div className=\"buttonDiv\">\r\n                        <button onClick={() => this.declineGroupRequest(index, message)}>Decline</button>\r\n                        <button onClick={() => this.acceptGroupRequest(index, message)}>Accept</button>\r\n                    </div>)\r\n                } else if (message.getType() !== undefined){\r\n                    return undefined;\r\n                }\r\n\r\n                return (<li key={message.getUri()}>\r\n                    <h4>{message.getType()}</h4>\r\n                    <p>{message.getFrom() ? \"from :\" + message.getFrom() : \"fetching file\"}</p>\r\n                    <p>{message.getDesc()}</p>\r\n                    {buttonDiv}\r\n                </li>)\r\n            });\r\n        }else{\r\n            fetching = (<FetchingComponent message = {\"Retrieving inbox messages\"}/>);\r\n        }\r\n\r\n        return (\r\n            <section className=\"inbox\">\r\n                <h1>\r\n                    Inbox\r\n                </h1>\r\n                {fetching}\r\n                <ul>\r\n                    {items}\r\n                </ul>\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Inbox;\r\n","import React from 'react';\r\nimport './css/BeerCheckInScreen.scss';\r\n\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Select from \"react-select\";\r\n\r\nclass BeerCheckInOverlay extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onDivClick = (e) => {\r\n        e.stopPropagation();\r\n    };\r\n    \r\n    render() {\r\n        let rating;\r\n        let text;\r\n\r\n        if (this.props.addReview) {\r\n            rating = (<Rating\r\n                name=\"beerRating\"\r\n                value={this.props.beerRating}\r\n                precision={0.5}\r\n                onChange={(event, newValue) => {\r\n                    this.props.setBeerRating(newValue);\r\n                }}\r\n                />\r\n            );\r\n\r\n            text = (\r\n                <textarea\r\n                    value={this.props.beerReview}\r\n                    placeholder={\"Write a review here\"}\r\n                    onChange={event => {\r\n                        this.props.onBeerReviewChange(event.target.value)\r\n                    }\r\n                    }/>\r\n\r\n            )\r\n\r\n            rating = (\r\n                <div className={\"reviewSectionBeerCheckIn\"}>\r\n                    {rating}<br/>\r\n                    {text}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div onClick={this.props.onOverLayCancelClick} id=\"overlay\" style={this.props.overlay ? { display: \"block\" } : { display: \"none\" }}>\r\n                <div id=\"text\" onClick={this.onDivClick}>\r\n                    <h1>\r\n                        Check in beer\r\n                    </h1>\r\n                    <button className={\"addReviewButton\"} onClick = {this.props.onAddReviewClick}>{this.props.addReview ? \"dont add review\": \"Add review\"}</button>\r\n                    {rating}\r\n                    <h5>Post location: </h5>\r\n                    <Select\r\n                        className = {\"SelectGroupMakerOverlay\"}\r\n                        isMulti = {true}\r\n                        onChange = {this.props.onSelect}\r\n                        options = {this.props.groupsOptions}\r\n                        value = {this.props.selectedOptions}\r\n                    />\r\n\r\n                    <button onClick = {this.props.checkInBeer}>check in beer</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BeerCheckInOverlay;","import React from 'react';\r\nimport '../css/BeerDetailScreen.scss';\r\nimport BeerCheckInOverlay from '../../component/BeerCheckInOverlay';\r\nimport {Link} from \"react-router-dom\";\r\nimport {updateToSuccesToast, waitToast} from \"../../component/ToastMethods\";\r\n\r\nclass BeerDetailScreen extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            overlay: false,\r\n            beerReview: \"\",\r\n            beerRating: 2.5,\r\n            addReview: false,\r\n            selectedOptions: []\r\n        };\r\n\r\n        this.props.solidCommunicator.fetchBeerData(this.props.modelHolder.getBeer()).then(res => {\r\n        });\r\n    }\r\n\r\n    onPostBeerReview = async () => {\r\n        let addreview = this.state.addReview;\r\n        let toast = waitToast(\"Posting beer \" + (addreview ? \"review\" : \"check in\"));\r\n\r\n        this.props.solidCommunicator.postBeerReview(this.state.addReview,\r\n            this.props.modelHolder.getBeer(),\r\n            this.state.beerRating,\r\n            this.state.beerReview,\r\n            this.state.selectedOptions.map(res => {\r\n                return res.value\r\n            })\r\n        ).then(res => {\r\n            updateToSuccesToast(toast, \"Beer \" + (addreview ? \"review\" : \"check in\") + \" posted\");\r\n        });\r\n\r\n        this.setState({\r\n            overlay: false,\r\n            beerReview: \"\",\r\n            beerRating: 2.5,\r\n            addReview: false,\r\n            selectedOptions: [{value: this.props.modelHolder.getUser().getCheckInLocation(), label: \"Public\"}]\r\n        })\r\n    };\r\n\r\n    onCheckInClick = () => {\r\n        this.setState({\r\n            overlay: true\r\n        });\r\n    };\r\n\r\n    onOverLayCancelClick = () => {\r\n        this.setState({\r\n            overlay: false\r\n        });\r\n    };\r\n\r\n    setBeerRating = (rating) => {\r\n        this.setState({\r\n            beerRating: rating\r\n        });\r\n    };\r\n\r\n    onBeerReviewChange = (text) => {\r\n        this.setState({\r\n            beerReview: text\r\n        });\r\n    };\r\n\r\n    onAddReviewClick = () => {\r\n        this.setState({\r\n            addReview: !this.state.addReview,\r\n            beerRating: 2.5,\r\n            beerReview: \"\"\r\n        })\r\n    };\r\n\r\n    onSelectGroup = (e) => {\r\n        this.setState({\r\n            selectedOptions: e\r\n        })\r\n    };\r\n\r\n    render() {\r\n        let beer = this.props.modelHolder.getBeer();\r\n        let beerData;\r\n\r\n        //get Groups\r\n        let groups = this.props.modelHolder.getGroups().map(res => {\r\n            return {value: res.getCheckInLocation(), label: res.getName()}\r\n        });\r\n        groups.unshift({value: this.props.modelHolder.getUser().getCheckInLocation(), label: \"Public\"});\r\n\r\n        let description;\r\n        let alcholdPercentage;\r\n        let min;\r\n        let max;\r\n        let stamworth;\r\n        let style;\r\n\r\n        if (beer._description) {\r\n            description = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Description</b></p>\r\n                    {beer._description}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._alcoholpercentage) {\r\n            alcholdPercentage = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Alcoholpercentage</b></p>\r\n                    {beer._alcoholpercentage}%\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._stamwortgehalte) {\r\n            stamworth = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Gravity</b></p>\r\n                    {beer._stamwortgehalte}%\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._minSchenkTemperatuur) {\r\n            min = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Min serving temperature</b></p>\r\n                    {beer._minSchenkTemperatuur}&deg;C\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._maxSchenkTemperatuur) {\r\n            max = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Max serving temperature</b></p>\r\n                    {beer._maxSchenkTemperatuur}&deg;C\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._style) {\r\n            style = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Style</b></p>\r\n                    {beer._style}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        beerData = (<React.Fragment>\r\n            {description}\r\n            {style}\r\n            {alcholdPercentage}\r\n            {stamworth}\r\n            {min}\r\n            {max}\r\n        </React.Fragment>);\r\n\r\n        let brewers = beer.getBrewers().map(res => {\r\n            return (<Link key={res.getUrl()} to={\"/brewer/0\"} onClick={() => {\r\n                this.props.modelHolder.setBrewer(res)\r\n            }}>\r\n                {res.getName()}\r\n            </Link>)\r\n        });\r\n\r\n\r\n        return (\r\n            <section className=\"beerDetailScreen\">\r\n                <h1>\r\n                    {beer._name}\r\n                </h1>\r\n                <p className={\"textBeerDetailScreen\"}>\r\n                    <b>Brewers</b>\r\n                </p>\r\n                {brewers}\r\n                <div id=\"addReviewButtonDiv\">\r\n                    <button onClick={this.onCheckInClick}>Check in beer</button>\r\n                </div>\r\n                {beerData}\r\n\r\n                <BeerCheckInOverlay\r\n                    overlay={this.state.overlay}\r\n                    beerReview={this.state.beerReview}\r\n                    beerRating={this.state.beerRating}\r\n                    onOverLayCancelClick={this.onOverLayCancelClick}\r\n                    setBeerRating={this.setBeerRating}\r\n                    onBeerReviewChange={this.onBeerReviewChange}\r\n                    onAddReviewClick={this.onAddReviewClick}\r\n                    addReview={this.state.addReview}\r\n                    checkInBeer={this.onPostBeerReview}\r\n                    groupsOptions={groups}\r\n                    onSelect={this.onSelectGroup}\r\n                    selectedOptions={this.state.selectedOptions}\r\n                />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BeerDetailScreen;\r\n","import React from \"react\";\r\nimport \"../css/BrewerPage.scss\"\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass BrewerPage extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.props.solidCommunicator.getBrewerInformation(this.props.modelHolder.getBrewer());\r\n    }\r\n\r\n    onLinkClick = (e) => {\r\n        this.props.modelHolder.setBeer(e);\r\n    };\r\n\r\n    render() {\r\n        let brewer = this.props.modelHolder.getBrewer();\r\n\r\n        let name;\r\n        let adress;\r\n        let groep;\r\n        let url;\r\n\r\n        let beers;\r\n\r\n        if (brewer._name) {\r\n            name = (\r\n                <h1>\r\n                    {brewer._name}\r\n                </h1>\r\n            );\r\n        }\r\n\r\n        if(brewer._groep){\r\n            groep = (<div className={\"brewerPageTextSectionDiv\"}>\r\n                    <p><b>\r\n                        Group\r\n                    </b></p>\r\n                    <p>\r\n                        {brewer._groep}\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (brewer.getAddress() !== \"\") {\r\n            url = (\r\n                <div className={\"brewerPageTextSectionDiv\"}>\r\n                    <p><b>\r\n                        Website\r\n                    </b></p>\r\n                    <a href={brewer._url}>\r\n                        {brewer._url}\r\n                    </a>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (brewer._url) {\r\n            adress = (\r\n                <div className={\"brewerPageTextSectionDiv\"}>\r\n                    <p><b>\r\n                        Address\r\n                    </b></p>\r\n                    <p>\r\n                        {brewer.getAddress()}\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        beers = brewer._beers.map((listItem, index) => {\r\n            return (<li key={listItem.getUrl()}>\r\n                    <Link to={`/beer/${index}`} onClick={() => {\r\n                        this.onLinkClick(listItem)\r\n                    }}>\r\n                        {listItem.getName()}\r\n                    </Link>\r\n                </li>\r\n            )\r\n        })\r\n\r\n        return (\r\n            <section className=\"brewerPage\">\r\n                {name}\r\n                {groep}\r\n                {url}\r\n                {adress}\r\n\r\n                <h3>Beers</h3>\r\n                <ul>\r\n                    {beers}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BrewerPage;","import React from 'react';\r\nimport \"../css/GroupDetail.scss\";\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\nimport Star from '../../assets/star.png';\r\nimport GroupMakerOverlay from \"../../component/GroupMakerOverlay\";\r\nimport StandardContext from \"../../context/StandardContext\";\r\nimport {updateToSuccesToast, waitToast} from \"../../component/ToastMethods\";\r\n\r\nclass GroupDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            group: this.props.modelHolder.getGroupFromIndex(this.props.match.params.id),\r\n            overlay: false,\r\n            selectedFriends: []\r\n        };\r\n    }\r\n\r\n    addFriendsClick = () => {\r\n        this.setState({\r\n            overlay: true\r\n        });\r\n    };\r\n\r\n    onOverLayCancelClick = () => {\r\n        this.setState({\r\n            overlay: false\r\n        });\r\n    };\r\n\r\n    onSelectFriend = (e) => {\r\n        this.setState({\r\n            selectedFriends: e\r\n        })\r\n    };\r\n\r\n    addFriends = (e) => {\r\n        let toast = waitToast(\"Adding friends to group\");\r\n\r\n        let solidCommunicator = this.context.solidCommunicator;\r\n\r\n        let friends = this.state.selectedFriends.map(res => {\r\n            return res.value;\r\n        });\r\n\r\n        if (solidCommunicator) {\r\n            solidCommunicator.addFriendsToGroup(this.state.group, friends).then(res =>{\r\n                updateToSuccesToast(toast, \"Friends added to group\");\r\n            });\r\n        }\r\n\r\n        this.setState({\r\n            overlay: false,\r\n            selectedFriends: []\r\n        });\r\n    };\r\n\r\n    render() {\r\n        let userCheckIns = this.state.group.getCheckInHandler().getUserCheckIns();\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key={checkIn._fileLocation} checkin={checkIn}/>\r\n            )\r\n        });\r\n\r\n        let groupMembers = this.state.group.getMembers().slice();\r\n        groupMembers.push(this.state.group.getLeader());\r\n        groupMembers.sort((a, b) => {\r\n            return b.points - a.points;\r\n        });\r\n\r\n        let addFriendsButton;\r\n        let friendsComs;\r\n\r\n        if (this.state.group._createdByMe) {\r\n            addFriendsButton = (<div className={\"addMembersButtonDiv\"}>\r\n                <button className={\"addMembersButton\"} onClick={this.addFriendsClick}>Add members</button>\r\n            </div>);\r\n\r\n             friendsComs = this.props.modelHolder.getFriends().filter(res => {\r\n                for (let i = 0; i < groupMembers.length; i++) {\r\n                    if (groupMembers[i] && res.getUri() === groupMembers[i].member) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }).map(res => {\r\n                return {value: res, label: res.getName()}\r\n            });\r\n        }\r\n\r\n        groupMembers = groupMembers.map(res => {\r\n            let name;\r\n\r\n            if (this.state.group.getLeader()) {\r\n                name = (<p className={\"groupDetailMember\"}>{res === this.state.group.getLeader() ?\r\n                    <img alt=\"leader\" src={Star} title=\"leader\"/> : <div className={\"groupDetailEmptyDivMember\"}/>}\r\n                    <span className={\"groupDetailUriMember\"}>{res.member}</span>\r\n                    <span className={\"groupDetailPointsMember\"}>{res.points}</span>\r\n                </p>);\r\n            }\r\n\r\n            return (<li key={JSON.stringify(res)}>\r\n                    {name}\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <section className=\"groupDetailScreen\">\r\n                <h1>{this.state.group.getName()}</h1>\r\n                <div className=\"groupDetailSection\">\r\n                    <div className=\"participants\">\r\n                        {addFriendsButton}\r\n                        <h2>\r\n                            Users\r\n                        </h2>\r\n                        <ul>\r\n                            {groupMembers}\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"checkInsGroup\">\r\n                        <h2>\r\n                            Checkins\r\n                        </h2>\r\n                        <ul>\r\n                            {userCheckIns}\r\n                        </ul>\r\n                    </div>\r\n                    <GroupMakerOverlay\r\n                        overlay={this.state.overlay}\r\n                        onOverLayCancelClick={this.onOverLayCancelClick}\r\n                        valuesSelector={friendsComs}\r\n                        selectedFriends={this.state.selectedFriends}\r\n                        onSelect={this.onSelectFriend}\r\n                        makeGroup={this.addFriends}\r\n                    />\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nGroupDetail.contextType = StandardContext;\r\n\r\nexport default GroupDetail;","import React from 'react';\r\n\r\nimport {Switch, Route, withRouter, Redirect} from \"react-router-dom\";\r\n\r\n/**\r\n * Imported Pages\r\n */\r\nimport Home from './page/Home'\r\nimport LogIn from './page/LogIn'\r\nimport Groups from './page/Groups';\r\nimport Friends from './page/Friends';\r\nimport FriendsPage from './page/FriendPage';\r\nimport CheckIns from './page/CheckIns';\r\nimport BeerResults from './page/BeerResults';\r\nimport Profile from './page/Profile';\r\nimport UserPage from './page/User';\r\nimport Inbox from './page/Inbox';\r\nimport BeerDetailScreen from './page/BeerDetailScreen';\r\nimport BrewerPage from './page/BrewerPage';\r\nimport GroupDetail from \"./page/GroupDetail\";\r\n\r\nclass AppRoutes extends React.Component {\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/\"\r\n                       component={Home}\r\n                       isLoggedIn={this.props.loggedIn}\r\n                       solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute path=\"/user\"\r\n                              component={UserPage}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/beer/:id\"\r\n                              component={BeerDetailScreen}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/brewer/:id\"\r\n                              component={BrewerPage}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute exact path=\"/friend\"\r\n                              component={Friends}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}\r\n                              solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute path=\"/friend/:id\"\r\n                              component={FriendsPage}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/beerresults\"\r\n                              component={BeerResults}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              onLinkClick={this.props.clearSearchQuery}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}\r\n                              searchQuery = {this.props.searchQuery}\r\n                              onBeerSearch = {this.props.onBeerSearch}\r\n                />\r\n                <PrivateRoute path=\"/groups/:id\"\r\n                              component={GroupDetail}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}\r\n                              solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute exact path=\"/groups\"\r\n                              component={Groups}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}\r\n                              solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute path='/profile'\r\n                              component={Profile}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path='/checkIns'\r\n                              component={CheckIns}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path='/inbox'\r\n                              component={Inbox}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRouteLogIn path=\"/login\"\r\n                                   component={LogIn}\r\n                                   isLoggedIn={this.props.loggedIn}\r\n                                   onLoggedIn={this.props.onLoggedIn}/>\r\n            </Switch>)\r\n    }\r\n}\r\n\r\nconst PrivateRoute = ({component: Component, isLoggedIn, ...rest}) => (\r\n    <Route {...rest} render={(props) => (\r\n        isLoggedIn\r\n            ? <Component {...props} {...rest}/>\r\n            : <Redirect to='/'/>\r\n    )}/>\r\n)\r\n\r\nconst PrivateRouteLogIn = ({component: Component, isLoggedIn, onLoggedIn, ...rest}) => (\r\n    <Route {...rest} render={(props) => (\r\n        !isLoggedIn\r\n            ? <Component onLoggedIn={onLoggedIn} {...props} />\r\n            : <Redirect to='/profile'/>\r\n    )}/>\r\n)\r\n\r\nexport default withRouter(AppRoutes);","import React from 'react';\r\nimport '../css/AclErrorPage.scss';\r\n\r\nclass AclErrorPage extends React.Component{\r\n    render(){\r\n        //TODO geef detailed instuctie om het op te lossen.\r\n\r\n        return (<section className = \"aclErrorPage\">\r\n            <h1>\r\n             The application does not have correct access. please give the application read, write, append and control access. \r\n            </h1>\r\n        </section>)\r\n    }\r\n}\r\n\r\nexport default AclErrorPage;","import Observable from \"./Observable\";\r\n\r\nclass User extends Observable{\r\n    constructor(uri){\r\n        super();\r\n        this._uri = uri;\r\n        this._name =  this.getUserName(uri);\r\n        this._imageUrl = undefined;\r\n        this._startDate = undefined;\r\n        this._appFolder = undefined;\r\n        this._beerDrinkerFoler = undefined;\r\n        this._checkInFolder = undefined;\r\n        this._isNick = true;\r\n    }\r\n\r\n    setUri(uri){\r\n        this._uri = uri;\r\n\r\n        if(!this._name){\r\n            this._name = this.getUserName(uri);\r\n            this._isNick = true;\r\n        }\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    loadInUserValues(name, imageURL, appFolder,beerDrinkerFolder, checkInFolder){\r\n        if(name){\r\n            this._name = name;\r\n            this._isNick = false;\r\n        }\r\n\r\n        this._imageUrl = imageURL;\r\n        this._appFolder = appFolder;\r\n        this._beerDrinkerFoler = beerDrinkerFolder;\r\n        this._checkInFolder = checkInFolder;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    loadInAppData(startDate){\r\n        this._startDate = startDate;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUri(){\r\n        return this._uri;\r\n    }\r\n\r\n    getUserName(uri){\r\n        return  uri.replace(\"https://\", \"\").replace(/\\..*/, \"\");\r\n    }\r\n\r\n    getAppFolder(){\r\n        return this._appFolder;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getBeginDate(){\r\n        if(this._startDate){\r\n            return new Date(this._startDate.getTime());\r\n        }else {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    getImageUrl(){\r\n        return this._imageUrl;\r\n    }\r\n\r\n    getBeerDrinkerFolder(){\r\n        return this._beerDrinkerFoler;\r\n    }\r\n\r\n    getCheckInLocation(){\r\n        return this._checkInFolder;\r\n    }\r\n\r\n    getIsNick(){\r\n        return this._isNick;\r\n    }\r\n}\r\n\r\nexport default User;","import CheckInHandler from \"./HolderComponents/CheckInHandler\";\r\nimport User from \"./HolderComponents/User\";\r\nimport Observable from \"./HolderComponents/Observable\";\r\n\r\nclass ModelHolder extends Observable {\r\n    constructor() {\r\n        super();\r\n        this._user = new User(\"\");\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._friends = [];\r\n\r\n        this._brewer = undefined;\r\n        this._slectedBeer = undefined;\r\n\r\n        this._beers = [];\r\n        this._groups = [];\r\n        this._inboxMessages = [];\r\n\r\n        this._checkInHandler.subscribe(this);\r\n        this._user.subscribe(this);\r\n    }\r\n\r\n    setInboxMessages(inboxMessages) {\r\n        this._inboxMessages.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._inboxMessages = inboxMessages;\r\n\r\n        this._inboxMessages.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n    }\r\n\r\n    getInboxMessages() {\r\n        return this._inboxMessages;\r\n    }\r\n\r\n    spliceAtIndex(index) {\r\n        this._inboxMessages.splice(index, 1);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addFriends(newFriends) {\r\n        newFriends.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n\r\n        this._friends = this._friends.concat(newFriends);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addFriend(newFriend) {\r\n        newFriend.subscribe(this);\r\n        this._friends.push(newFriend);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getFriendFromIndex(index) {\r\n        return this._friends[index];\r\n    }\r\n\r\n    getFriends() {\r\n        return this._friends;\r\n    }\r\n\r\n    clearAll() {\r\n        this._user.unsubscribe(this);\r\n        this._checkInHandler.unsubscribe(this);\r\n        this._checkInHandler.clearAll();\r\n\r\n        if (this._slectedBeer) {\r\n            this._slectedBeer.unsubscribe(this);\r\n        }\r\n\r\n        if (this._brewer) {\r\n            this._brewer.unsubscribe(this);\r\n        }\r\n\r\n        this._friends.forEach(res => {\r\n            res.unsubscribe(this);\r\n            res.clearAll();\r\n        });\r\n\r\n        this._groups.forEach(res => {\r\n            res.unsubscribe(this);\r\n            res.clearAll();\r\n        });\r\n\r\n        this._beers.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._inboxMessages.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._user = new User(\"\");\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._friends = [];\r\n        this._groups = [];\r\n        this._beers = [];\r\n        this._inboxMessages = [];\r\n        this._brewer = undefined;\r\n        this._slectedBeer = undefined;\r\n    }\r\n\r\n    getUser() {\r\n        return this._user;\r\n    }\r\n\r\n    getCheckInHandler() {\r\n        return this._checkInHandler;\r\n    }\r\n\r\n    setGroups(groups) {\r\n        this._groups.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n\r\n        this._groups = groups;\r\n\r\n        this._groups.forEach(res => {\r\n            res.subscribe(this);\r\n        })\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addGroup(group) {\r\n        this._groups.push(group);\r\n        group.subscribe(this);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getGroups() {\r\n        return this._groups;\r\n    }\r\n\r\n    getBrewer() {\r\n        return this._brewer;\r\n    }\r\n\r\n    setBrewer(brewer) {\r\n        console.log(brewer);\r\n\r\n        if (this._brewer) {\r\n            this._brewer.unsubscribe();\r\n        }\r\n\r\n        this._brewer = brewer;\r\n        this._brewer.subscribe(this);\r\n    }\r\n\r\n    getBeers() {\r\n        return this._beers;\r\n    }\r\n\r\n    setBeers(beers) {\r\n        this._beers.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._beers = beers;\r\n\r\n        this._beers.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getBeer() {\r\n        return this._slectedBeer;\r\n    }\r\n\r\n    setBeer(beer) {\r\n        if (this._slectedBeer) {\r\n            this.unsubscribe(this)\r\n        }\r\n\r\n        this._slectedBeer = beer;\r\n        beer.subscribe(this);\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    update() {\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getFriendFromUri(uri) {\r\n        for (let i = 0; i < this._friends.length; i++) {\r\n            if (this._friends[i].getUri() === uri) {\r\n                return this._friends[i];\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    getGroupFromIndex(index) {\r\n        return this._groups[index];\r\n    }\r\n\r\n    getGroupFromCheckInLocationUri(uri) {\r\n        for (let i = 0; i < this._groups.length; i++) {\r\n            if (this._groups[i].getCheckInLocation() === uri) {\r\n                return this._groups[i];\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n}\r\n\r\nexport default ModelHolder;","/**\n * Libs\n */\nimport React from 'react';\nimport solidAuth from 'solid-auth-client';\nimport {Link, withRouter} from \"react-router-dom\";\nimport SolidCommunicator from './solid/SolidCommunicator';\nimport {ToastContainer} from 'react-toastify';\n\n/**\n * Components\n */\nimport NavBar from './component/NavBar';\nimport AppRoutes from './routes/AppRoutes';\nimport AclErrorPage from './routes/extrapage/AclErrorPage';\nimport FetchingComponent from './component/FetchingComponent';\n\n/**\n * Errors\n */\nimport AccessError from './error/AccessError';\n\n/**\n * Assests\n */\nimport './App.scss';\nimport Knipsel from './assets/Knipsel.png';\nimport ModelHolder from \"./model/ModelHolder\";\nimport Logo from \"./assets/logo.png\";\nimport StandardContext from \"./context/StandardContext\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport {infoToast} from \"./component/ToastMethods\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loggedIn: false,\n            modelHolder: new ModelHolder(),\n            solidCommunicator: undefined,\n            accessError: false,\n            fetchingFiles: false\n        };\n\n        this.state.modelHolder.subscribe(this);\n\n        console.log(\"version 0.6.5\");\n    }\n\n    componentDidMount() {\n        this.checkLoggedIn();\n    }\n\n    update = () => {\n        this.setState({\n            modelHolder: this.state.modelHolder\n        })\n    };\n\n    checkLoggedIn = async () => {\n        let session = await solidAuth.currentSession();\n        //TODO error handling\n\n        if (session) {\n            this.setState({\n                fetchingFiles: true\n            });\n\n            //make new user\n            this.state.modelHolder.getUser().setUri(session.webId);\n\n            try {\n                let solidCommunicator = await SolidCommunicator.build(this.state.modelHolder);\n\n                this.setState({\n                    solidCommunicator: solidCommunicator,\n                    loggedIn: true,\n                    fetchingFiles: false\n                });\n\n                this.props.history.push(`/`);\n\n                infoToast(\"logged in as \" + this.state.modelHolder.getUser().getUri());\n            } catch (e) {\n                if (e instanceof AccessError) {\n                    this.setState({\n                        accessError: true,\n                        fetchingFiles: false\n                    })\n                } else {\n                    throw e; // let others bubble up\n                }\n            }\n        }\n    };\n\n    onClickLogOut = () => {\n        solidAuth.logout().then(res => {\n            this.state.modelHolder.clearAll();\n\n            this.setState({\n                loggedIn: false,\n                userObject: undefined,\n                accessError: false\n            });\n        });\n    };\n\n    onLoggedIn = () => {\n        this.checkLoggedIn();\n    };\n\n    onCheckInButtonClick = () => {\n        this.props.history.push(\"/beerresults\");\n    };\n\n    render() {\n        let navBar;\n        let app;\n\n        if (this.state.fetchingFiles) {\n            navBar = (\n                <NavBar onSearchBarButtonClick={this.onCheckInButtonClick}>\n                    <Link to=\"/\">&nbsp;</Link>\n                </NavBar>)\n        } else if (this.state.accessError) {\n            navBar = (\n                <NavBar onSearchBarButtonClick={this.onCheckInButtonClick}>\n                    <Link to=\"/\" onClick={this.onClickLogOut}>Log out</Link>\n                </NavBar>)\n        } else if (this.state.loggedIn) {\n            navBar = (\n                <NavBar onSearchBarButtonClick={this.onCheckInButtonClick}\n                        onBeerSearch={this.onBeerSearch}\n                        loggedIn={this.state.loggedIn}>\n                    <Link to=\"/profile\">Profile</Link>\n                    <Link to=\"/friend\">Friends</Link>\n                    <Link to=\"/groups\">Groups</Link>\n                    <Link to=\"/inbox\">Inbox</Link>\n                    <Link to=\"/\" onClick={this.onClickLogOut}>Log out</Link>\n                </NavBar>\n            )\n        } else {\n            navBar = (\n                <NavBar onBeerSearch={this.onBeerSearch} loggedIn={this.state.loggedIn}>\n                    <Link to=\"/LogIn\">Log in</Link>\n                </NavBar>\n            )\n        }\n\n        if (this.state.fetchingFiles) {\n            app = (<FetchingComponent/>);\n        } else if (this.state.accessError) {\n            app = (<AclErrorPage/>);\n        } else {\n            app = (\n                <StandardContext.Provider value={{solidCommunicator : this.state.solidCommunicator}}>\n                    <AppRoutes\n                        loggedIn={this.state.loggedIn}\n                        modelHolder={this.state.modelHolder}\n                        solidCommunicator={this.state.solidCommunicator}\n                        clearSearchQuery={this.clearSearchQuery}\n                        onLoggedIn={this.onLoggedIn}\n                        searchQuery={this.state.searchQuery}\n                        onBeerSearch={this.onBeerSearch}\n                    />\n                </StandardContext.Provider>\n            )\n        }\n\n        return (\n            <div id=\"AppRoot\">\n                <header>\n                    <Link to=\"/\">\n                        <img alt = \"Social linked beer logo\" src={Logo}/>\n                    </Link>\n                    {navBar}\n                </header>\n                {app}\n                <ToastContainer\n                    position=\"bottom-right\"\n                    autoClose={3000}\n                    hideProgressBar={false}\n                    newestOnTop={false}\n                    closeOnClick\n                    rtl={false}\n                    pauseOnVisibilityChange\n                    draggable\n                    pauseOnHover={false}\n                />\n                <footer>\n          <span>\n            This application works with\n            </span>\n                    <a href=\"https://solid.inrupt.com\">\n                        <img alt=\"Solid inrupt\" src={Knipsel}/>\n                    </a>\n                </footer>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n <HashRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logowhite.06f8b659.png\";"],"sourceRoot":""}