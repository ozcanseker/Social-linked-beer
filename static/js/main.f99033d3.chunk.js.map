{"version":3,"sources":["assets/Knipsel.png","assets/star.png","assets/logo.png","../node_modules/@trust/webcrypto/src/algorithms sync","model/HolderComponents/Observable.js","model/HolderComponents/CheckIn.js","solid/rdf/Constants.js","solid/rdf/Prefixes.js","solid/SolidMethods.js","solid/rdf/SolidTtlTemplates.js","solid/solidCommunicatorInits/PodFolderBuilder.js","error/AccessError.js","solid/solidCommunicatorInits/AccessChecker.js","model/HolderComponents/CheckInHandler.js","model/HolderComponents/Friend.js","model/HolderComponents/Group.js","solid/solidCommunicatorInits/SolidCommunicatorBuilder.js","solid/solidCommunicatorInits/PreApplicationHandelings.js","model/HolderComponents/Beer.js","solid/DataLavaKadaster/DataLabsKadasterComm.js","model/HolderComponents/InboxMessage.js","solid/SolidCommunicator.js","component/NavBar.js","routes/page/Home.js","routes/page/LogIn.js","component/GroupMakerOverlay.js","routes/page/Groups.js","routes/page/Friends.js","component/BeerCheckInComponent.js","routes/page/FriendPage.js","routes/page/CheckIns.js","model/HolderComponents/Brewer.js","routes/page/BeerResults.js","routes/page/Profile.js","routes/page/User.js","routes/page/Inbox.js","component/BeerCheckInOverlay.js","routes/page/BeerDetailScreen.js","routes/page/BrewerPage.js","routes/page/GroupDetail.js","routes/AppRoutes.js","routes/extrapage/AclErrorPage.js","routes/extrapage/FetchingPage.js","model/HolderComponents/User.js","model/ModelHolder.js","App.js","serviceWorker.js","index.js","assets/profilePic.png"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","Observable","this","_subscribers","map","subscriber","update","push","filter","subscriberList","CheckIn","fileLocation","_fileLocation","userWebId","userName","beerLocation","beerName","checkInTime","rating","review","_type","_userWebId","_userName","_beerLocation","_beerName","_checkInTime","_rating","_review","updateSubscribers","APPLICATION_NAME_PTI","APPFOLDER_NAME","CHECKIN_FOLDER","BEERDRINKERFOLDER","CONTENT_TYPE_TURTLE","INBOX_FOLDER","APPDATA_FILE","FRIENDS_FILE","APPDATA_FILENAME","FRIENDS_FILENAME","FRIENDSGROUPNAME","FRIENDSSENTGROUPNAME","GROUPFOLDER","GROUP_MEMBERS","GROUP_DATA_FILE","CHECKIN_INDEX_FILE","BEERREVIEWFILENAME","FRIENDSHIPREQUEST_ACCEPTED_NAME","rdfLib","require","SOLID","Namespace","PIM","VCARD","TERMS","RDF","SOLIDLINKEDBEER","FOAF","LDP","SCHEMA","ACL","fileClient","authClient","postSolidFile","folder","filename","body","a","fetch","method","headers","putSolidFile","url","getUserFile","userttt","graph","status","text","parse","any","undefined","profile","sym","publicProfileIndex","readFile","value","ppiTTL","ppigraph","app","appQuery","nameFN","imageURL","inbox","result","name","imageUrl","appLocation","loadFriendData","friend","getUri","userDetails","setUserDetails","friendAppdataLocation","then","friendsAppdata","blankNode","startdate","points","setAppData","Date","getCheckInHandler","setBeerPoints","getTenUserCheckIns","getBeerDrinkerFolder","res","setReviesCheckInsAndUserCheckIns","reviews","checkIns","userBeerCheckIns","beerDrinkerFolder","checkinLocation","readFolder","fileContents","files","reverse","i","length","loadValuesInCheckInFile","beerCheckIn","includes","getAllUserCheckIns","beerdrinkerFolder","getFileLocation","ttlFile","namedNode","webId","userId","beerlocation","beername","checkinTime","loadInAttributes","getInviteToLSBInvitation","urlInvitee","invitation","postLocation","add","getFriendShipRequest","getDeclineFriendshipRequest","from","getAcceptFriendshipRequest","description","getGroupInvitaion","groupUrl","groupName","beerCheckInTemplate","time","beerReviewInTemplate","getGroupAppDataTTL","urlFile","friends","leader","friendsgroup","forEach","getGroupAclTTL","groupLocation","groupAppDataLocation","groupAcl","webIdOwner","owner","ownerAgent","members","resource","getGroupCheckInsAclTTL","getGroupOtherPersonTTL","postlocation","getCheckInIndexBody","user","member","groupCheckInIndexAcl","buildFolders","storePublicProfileIndex","storagePublic","createAppNodeForPublicTypeIndex","applocation","makeAppFolderStructure","sleep","ms","Promise","setTimeout","checkFolderIntegrity","appfolder","groupFolder","groupFolderAcl","getAclGroupFolder","store","publicTypeIndex","publicLocation","findEmptyFolder","appLocationNN","rdflib","newTTLpublicTypeindex","makeRandomString","characters","charactersLength","charAt","Math","floor","random","appFolderUrl","aclUrl","getAclAppFolder","beerDrinkerUrl","getFriendsFile","friendsUrl","appDataFileAcl","appDataFile","getAppDataInit","getAclAppData","getACLInboxFolder","inboxUrl","inboxUrlacl","reviewUrlacl","reviewUrl","getACLSubmittersFriends","bn","appUrl","webIdUserLoggedIn","agent","friendsgroupRequested","_public","resourceUrl","group1","fgroup1","fgroup2","AccessError","args","message","checkacess","storeProfileCard","readAcess","match","Write","Append","Control","CheckInHandler","_checkInsAmount","_beerReviewsAmount","_beerPoints","_userCheckIns","_allCheckinsGotten","checkIn","subscribe","bool","amount","beerPoints","beerReviews","userCheckins","unsubscribe","concat","Friend","uri","_profileUri","_name","_imageUrl","_beerDrinkerFolder","_startDate","_checkInHandler","clearAll","pictureurl","getUserName","replace","getTime","Group","createdByMe","_url","_createdByMe","_groupLeader","_members","naam","checkInsLocation","groupDataLocation","groupCheckInIndex","groupLeader","groupMembers","_checkInsLocation","_groupDataLocation","_groupCheckInIndex","slice","buildSolidCommunicator","modelHolder","solidCommunicator","returnObject","getUser","checkInHandler","webIdNN","getUserCard","getPPILocation","ppiObject","getStorePublic","getApplicationLocation","ppi","applicationLocation","sc","getUserDetails","loadInUserValues","setFileLocations","getAppData","loadInAppData","parseInt","loadInAppStore","addUserCheckIns","setBeerReviewsAmount","setCheckInsAmount","getFriends","addFriends","loadInFriendsStore","group","sentGroup","friendsStore","getGroups","setGroups","groupsLocation","groups","myGroups","folders","friendsGroups","loadGroupInformation","loadFriendGroupData","getUrl","file","urlGroup","setUrl","groupCheckInsLocation","checkIndexLocation","groupDataGraph","hasMemberGroup","checkInIndex","checkInIndexGraph","pointsMemberGroup","each","setProperties","webIdUrl","profileCardTTl","storePublicTypeIndex","publicTypeIndexTTL","appdataLocation","appdatattl","friendsLocation","ttlFriends","query","index","friendGroup","friendsRequestedGroup","FriendsStore","inboxContent","acceptedRequests","checkAcceptedFriendShipRequests","declinedRequests","checkDeclinedFriendShipRequests","friendsGroup","friendsSent","friendGraph","filettl","removeMatches","addFriend","serialize","friendsTtl","deleteFile","Beer","ldUrl","brewedby","_ldUrl","_brewedby","_brewer","type","label","alcoholpercentage","style","minSchenkTemperatuur","stamwortgehalte","maxSchenkTemperatuur","depiction","_style","_label","_description","_minSchenkTemperatuur","_maxSchenkTemperatuur","_stamwortgehalte","_alcoholpercentage","_depiction","getBeerData","queryTriply","JSON","makeBeerList","getBrewerData","brewer","getRegularBrewerData","getBrewerBeers","getBeerDataQuery","results","bindings","pred","obj","groep","address","categorie","jaarproduktie","provincie","loadInBrewerInformation","getAddress","getAddressUrl","addressLocality","postalCode","streetAddress","addAddressInformation","brewerUrl","beers","addBeers","fetchBeerData","beer","updateInformation","data","blyat","InboxMessage","_uri","_from","_desc","_location","_groupName","desc","location","SolidCommunicator","_modelHolder","_user","_friendsStore","_friendGroup","_friendsRequestedGroup","preApplicationHandelings","_appStore","_blankNodeAppStore","_checkInFolder","_appStoreLocation","loadFileContents","setInboxMessages","fileTTL","blanknode","setContents","query1","query2","console","log","fileName","getName","invitationTTL","SolidTemplates","checkIfUserIsFriend","fileNameName","friendsFile","friendsTTL","getFrom","declineTTL","acceptedTTL","searchQuery","kadasterLabsComm","setBeers","hasReview","date","checkingFolder","beerpoints","getCheckInLocation","addBeerPoints","sendBeerPoints","addBeerReviewToAmount","addToCheckInsAmount","getGroupFromCheckInLocationUri","getGroupCheckInIndex","userNamedNode","BeerCheckIn","toString","beerPointsQueryNow","appTTL","getAllCheckInsGotten","setUserCheckIns","setAllCheckInsGotten","beerdrinkerUrl","groupUrlAcl","appdataName","checkInsAcl","checkins","groupCheckInAclTtl","groupAclTtl","checkInsIndexAcl","checkInsIndex","checkInIndexBody","aclBody","addGroup","getFriendFromUri","folderLocation","getGroupName","getLocation","ownGroupBody","NavBar","onInput","props","onBeerSearch","target","input","cldn","React","Children","toArray","children","child","key","to","loggedIn","placeholder","onChange","onClick","onSearchBarButtonClick","splice","Component","Home","className","href","src","Knipsel","alt","color","LogIn","onChangeCheckBox","setState","loginAsBrewer","state","onButtonClick","solidAuth","popupLogin","popupUri","currentSession","session","onLoggedIn","history","onRegisterClick","window","assign","typeLogIn","loginButton","disabled","activeClass","join","GroupMakerOverlay","onDivClick","stopPropagation","onOverLayCancelClick","overlay","display","makeGroup","isMulti","options","valuesSelector","selectedFriends","onSelect","Groups","onMakeGroupClick","test","makeNewGroup","onSelectFriend","onGroupNameChange","friendsComs","getLeader","onAddReviewClick","addReview","checkInBeer","onPostBeerReview","Friends","inputText","checkIfUser","toUpperCase","friendUri","friendUri2","friendUri3","friendUri4","pathname","error","friendsElements","BeerCheckInComponent","context","checkin","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","dateToString","FriendPage","getFriendFromIndex","params","content","imgUrl","getImageUrl","userCheckIns","getUserCheckIns","getStartDate","profilePic","getCheckInsAmount","getBeerReviewsAmount","getBeerPoints","getAllCheckIns","getAllCheckInsLoggedInUser","Brewer","_ldurl","_beers","_groep","_address","_categorie","_jaarproduktie","_provincie","_addressLocality","_postalCode","_streetAddress","BeerResults","fetchBeerList","onLinkClick","setBeer","elements","getBeers","listItem","Profile","getBeginDate","User","onNotJoinedButtonClick","inviteUserToSolib","clicked","sendFriendShipRequest","sendFriendshipRequest","button","Inbox","declineFriendShipRequest","spliceAtIndex","declineFriendSchipRequest","acceptFriendShipRequest","acceptFriendSchipRequest","declineGroupRequest","acceptGroupRequest","getInboxContents","items","getInboxMessages","buttonDiv","getType","getDesc","BeerCheckInOverlay","Rating","beerRating","precision","event","newValue","setBeerRating","beerReview","onBeerReviewChange","groupsOptions","selectedOptions","BeerDetailScreen","postBeerReview","getBeer","onCheckInClick","onSelectGroup","setBrewer","getBrewerUrl","beerData","alcholdPercentage","min","max","stamworth","Fragment","BrewerPage","getBrewerInformation","getBrewer","adress","GroupDetail","getGroupFromIndex","getMembers","sort","b","Star","title","AppRoutes","exact","path","component","isLoggedIn","UserPage","FriendsPage","clearSearchQuery","CheckIns","PrivateRoute","rest","render","PrivateRouteLogIn","withRouter","AclErrorPage","FetchingPage","_appFolder","_beerDrinkerFoler","appFolder","checkInFolder","startDate","ModelHolder","_friends","_slectedBeer","_groups","_inboxMessages","inboxMessages","newFriends","newFriend","App","checkLoggedIn","fetchingFiles","setUri","build","accessError","onClickLogOut","logout","userObject","goBack","onDeleteButtonClicked","navBar","Logo","Boolean","hostname","ReactDOM","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f99033d3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Knipsel.4dafcfef.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.94a104b9.png\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 485;","class Observable {\r\n    constructor(){\r\n        this._subscribers = [];\r\n    }\r\n\r\n    updateSubscribers(){\r\n        this._subscribers.map(subscriber => subscriber.update());\r\n    }\r\n\r\n    subscribe(subscriber){\r\n        this._subscribers.push(subscriber);\r\n    }\r\n\r\n    unsubscribe(subscriber){\r\n        this._subscribers.filter(subscriberList  => {\r\n            return subscriberList !== subscriber;\r\n        });\r\n    }\r\n}\r\n\r\nexport default Observable;","import Observable from \"./Observable\";\r\n\r\nclass CheckIn extends Observable{\r\n    constructor(fileLocation){\r\n        super();\r\n        this._fileLocation = fileLocation;\r\n    }\r\n\r\n    getFileLocation(){\r\n        return this._fileLocation;\r\n    }\r\n\r\n    loadInAttributes(userWebId, userName, beerLocation, beerName, checkInTime, rating, review){\r\n        this._type  = rating? \"BeerReview\" : \"BeerCheckIn\";\r\n        this._userWebId = userWebId;\r\n        this._userName = userName;\r\n        this._beerLocation = beerLocation;\r\n        this._beerName = beerName;\r\n        this._checkInTime = checkInTime;\r\n        this._rating = rating;\r\n        this._review = review;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n}\r\n\r\nexport default CheckIn;","/**\r\n * App folder names\r\n * @type {string}\r\n */\r\nexport const APPLICATION_NAME_PTI = \"SocialLinkedBeer\";\r\nexport const APPFOLDER_NAME = \"sociallinkedbeer\";\r\nexport const CHECKIN_FOLDER = \"checkins/\";\r\nexport const BEERDRINKERFOLDER = \"beerdrinker/\";\r\nexport const CONTENT_TYPE_TURTLE = \"text/turtle\";\r\nexport const INBOX_FOLDER = 'inbox/';\r\n\r\nexport const APPDATA_FILE = 'appdata.ttl';\r\nexport const FRIENDS_FILE = \"friends.ttl\";\r\nexport const APPDATA_FILENAME = 'appdata';\r\nexport const FRIENDS_FILENAME = \"friends\";\r\n\r\nexport const FRIENDSGROUPNAME = \"Friends\";\r\nexport const FRIENDSSENTGROUPNAME = \"FriendsRequested\";\r\n\r\nexport const GROUPFOLDER = \"groups/\";\r\nexport const GROUP_MEMBERS = \"Members\";\r\nexport const GROUP_DATA_FILENAME = \"groupdata\";\r\nexport const GROUP_DATA_FILE = \"groupdata.ttl\";\r\n\r\nexport const CHECKIN_INDEX_FILE = \"checkinIndex.ttl\";\r\nexport const CHECKIN_INDEX_NAME = \"checkinIndex\";\r\n\r\n/**\r\n * Text\r\n * @type {string}\r\n */\r\nexport const APPLICATION_INVITAION_NAME = \"Social_Linked_Beer_app_invitation_from_\";\r\nexport const APPLICATION_INVITAION_DESC = \" invites you to drink a beer with him on https://ozcanseker.github.io/Social-linked-beer/ .\";\r\n\r\nexport const BEERREVIEWFILENAME = \"_BeerReview\";\r\nexport const BEERCHECKINFILENAME = \"_BeerCheckIn\";\r\n\r\nexport const FRIENDSSHIPREQUEST_NAME = \"Social_Linked_Beer_friendshiprequest_from_\";\r\nexport const FRIENDSSHIPREQUEST_DESC = \" invites you to share your stories with him.\";\r\n\r\nexport const FRIENDSHIPREQUEST_ACCEPTED_NAME = \"Social_Linked_Beer_FriendschipRequestAccepted_from_\";\r\nexport const FRIENDSHIPREQUEST_ACCEPTED_DESC = \" accepted your friendship request.\";\r\n\r\nexport const FRIENDSHIPREQUEST_DECLINED_NAME = \"Social_Linked_Beer_FriendschipRequestDecline_from_\";\r\nexport const FRIENDSHIPREQUEST_DECLINED_DESC = \" declined your friendship request.\";\r\n\r\nexport const GROUPINVITATION_NAME = \"Social_Linked_Beer_groupInvitation_to_\";\r\nexport const GROUPINVITATION_DESC = \"Would you like to join us at \";\r\n\r\n","const rdfLib = require('rdflib');\r\n\r\nexport const SOLID = rdfLib.Namespace( \"http://www.w3.org/ns/solid/terms#\");\r\nexport const PIM = rdfLib.Namespace(\"http://www.w3.org/ns/pim/space#\");\r\nexport const VCARD = rdfLib.Namespace(\"http://www.w3.org/2006/vcard/ns#\");\r\nexport const TERMS = rdfLib.Namespace('http://purl.org/dc/terms/');\r\nexport const RDF = rdfLib.Namespace(\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\");\r\nexport const SOLIDLINKEDBEER = rdfLib.Namespace('https://ozcanseker.inrupt.net/solidlinkedbeer#');\r\nexport const FOAF = rdfLib.Namespace('http://xmlns.com/foaf/0.1/');\r\nexport const LDP = rdfLib.Namespace('http://www.w3.org/ns/ldp#');\r\nexport const DBPEDIA = rdfLib.Namespace('http://dbeerpedia.com/def#');\r\nexport const SCHEMA = rdfLib.Namespace('http://schema.org/');\r\nexport const ACL = rdfLib.Namespace(\"http://www.w3.org/ns/auth/acl#\");\r\n\r\n\r\n\r\n","import CheckIn from \"../model/HolderComponents/CheckIn\";\r\nimport {\r\n    APPDATA_FILE,\r\n    APPLICATION_NAME_PTI,\r\n    BEERDRINKERFOLDER,\r\n    BEERREVIEWFILENAME,\r\n    CHECKIN_FOLDER\r\n} from \"./rdf/Constants\";\r\nimport {FOAF, LDP, SOLID, SOLIDLINKEDBEER, VCARD} from \"./rdf/Prefixes\";\r\n\r\nconst fileClient = require('solid-file-client');\r\nconst authClient = require('solid-auth-client');\r\nconst rdfLib = require('rdflib');\r\n\r\n/**\r\n * Post a solid file.\r\n * @param folder The folder you want the file to live in\r\n * @param filename\r\n * @param body (ttl file)\r\n * @returns {Promise<void>}\r\n */\r\nexport async function postSolidFile(folder, filename, body) {\r\n    authClient.fetch(folder, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'text/turtle',\r\n            'Link': '<http://www.w3.org/ns/ldp#Resource>; rel=\"type\"',\r\n            'SLUG': filename\r\n        },\r\n        body: body\r\n    });\r\n}\r\n\r\n/**\r\n * Put the solid file. Will replace the current file.\r\n * @param url The url of the location of the resource.\r\n * @param body The body you want it to replace with\r\n * @returns {Promise<void>} ?\r\n */\r\nexport async function putSolidFile(url, body) {\r\n    authClient.fetch(url, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'text/turtle'\r\n        },\r\n        body: body\r\n    });\r\n}\r\n\r\n/**\r\n * Allows you to append a solid file.\r\n * @param {*} url of the file you want to append\r\n * @param {*} body `INSERT DATA { <subject> <predicate> <object> }`\r\n */\r\nexport async function appendSolidResource(url, body) {\r\n    authClient.fetch(url, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-update'\r\n        },\r\n        body: body\r\n    });\r\n}\r\n\r\n/**\r\n *\r\n * @param url\r\n * @returns {Promise<{appLocation: (*), imageUrl: (*), name: (*), inbox: (*), url: *}>}\r\n */\r\nexport async function getUserFile(url) {\r\n    let inbox;\r\n\r\n    //get url resource\r\n    let userttt = await authClient.fetch(url);\r\n    let graph = rdfLib.graph();\r\n\r\n    if (userttt.status === 403) {\r\n        throw new Error(\"403: user unauthorized\");\r\n    } else if (userttt.status > 400) {\r\n        throw new Error(\"Something went wrong, check if the profile card is correct\");\r\n    }\r\n\r\n    userttt = await userttt.text();\r\n\r\n    try {\r\n        //parse to check if it is ttl\r\n        rdfLib.parse(userttt, graph, url, \"text/turtle\");\r\n    } catch (err) {\r\n        throw new Error(\"Not a correct profile linked data file\");\r\n    }\r\n\r\n    //check if it is a profile card\r\n    let query = graph.any(undefined, undefined, FOAF('PersonalProfileDocument'));\r\n\r\n    if (query) {\r\n        let profile = rdfLib.sym(url);\r\n\r\n        //check if user has ppi\r\n        const publicProfileIndex = graph.any(profile, SOLID(\"publicTypeIndex\"));\r\n\r\n        if (publicProfileIndex) {\r\n            let ppiTTL = await fileClient.readFile(publicProfileIndex.value);\r\n            let ppigraph = rdfLib.graph();\r\n            rdfLib.parse(ppiTTL, ppigraph, publicProfileIndex.value, \"text/turtle\");\r\n\r\n            let app = rdfLib.sym(publicProfileIndex.value + \"#\" + APPLICATION_NAME_PTI);\r\n            let appQuery = ppigraph.any(app, SOLID(\"instance\"));\r\n\r\n            //get name and Image\r\n            let nameFN = graph.any(profile, VCARD('fn'));\r\n\r\n            if(!nameFN){\r\n                nameFN = graph.any(profile, FOAF('name'));\r\n            }\r\n\r\n            let imageURL = graph.any(profile, VCARD('hasPhoto'));\r\n\r\n            if (!appQuery) {\r\n                inbox = graph.any(profile, LDP('inbox'));\r\n            }\r\n\r\n            //applocation is not of beerdrinker\r\n            let result = {\r\n                url: url,\r\n                name: nameFN ? nameFN.value : undefined,\r\n                imageUrl: imageURL ? imageURL.value : undefined,\r\n                appLocation: appQuery ? appQuery.value : undefined,\r\n                inbox: inbox ? inbox.value : undefined\r\n            }\r\n\r\n            return result;\r\n        } else {\r\n            throw new Error(\"no ppi\");\r\n        }\r\n    } else {\r\n        throw new Error(\"not a profile card\");\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @param friend\r\n */\r\nexport async function loadFriendData(friend) {\r\n    //getUserFile\r\n    let userDetails = await getUserFile(friend.getUri());\r\n    friend.setUserDetails(userDetails.name, userDetails.imageUrl, userDetails.appLocation + BEERDRINKERFOLDER);\r\n\r\n    //appdatafile\r\n    let friendAppdataLocation = userDetails.appLocation + BEERDRINKERFOLDER + APPDATA_FILE;\r\n\r\n    fileClient.readFile(friendAppdataLocation).then(friendsAppdata => {\r\n        let graph = rdfLib.graph();\r\n        rdfLib.parse(friendsAppdata, graph, friendAppdataLocation, \"text/turtle\");\r\n\r\n        let blankNode = graph.any(undefined, SOLIDLINKEDBEER('startdate'));\r\n\r\n        let startdate = graph.any(blankNode, SOLIDLINKEDBEER('startdate'));\r\n        let points = graph.any(blankNode, SOLIDLINKEDBEER('points'));\r\n\r\n        friend.setAppData(new Date(startdate.value));\r\n        friend.getCheckInHandler().setBeerPoints(points.value);\r\n    });\r\n\r\n    getTenUserCheckIns(friend.getBeerDrinkerFolder()).then(res => {\r\n        friend.getCheckInHandler().setReviesCheckInsAndUserCheckIns(res.reviews, res.checkIns, res.userBeerCheckIns)\r\n    });\r\n}\r\n\r\nexport async function getTenUserCheckIns(beerDrinkerFolder) {\r\n    let checkinLocation = beerDrinkerFolder + CHECKIN_FOLDER;\r\n    let fileContents = (await fileClient.readFolder(checkinLocation)).files.reverse();\r\n    let userBeerCheckIns = [];\r\n\r\n    let checkIns = 0;\r\n    let reviews = 0;\r\n\r\n    for (let i = 0; i < fileContents.length; i++) {\r\n        if (i < 10) {\r\n            let beerCheckIn = new CheckIn(fileContents[i].url);\r\n            loadValuesInCheckInFile(beerCheckIn);\r\n            userBeerCheckIns.push(beerCheckIn);\r\n        }\r\n\r\n        if (fileContents[i].url.includes(BEERREVIEWFILENAME)) {\r\n            reviews++;\r\n        } else {\r\n            checkIns++;\r\n        }\r\n\r\n    }\r\n\r\n    return {userBeerCheckIns: userBeerCheckIns, reviews: reviews, checkIns: checkIns};\r\n}\r\n\r\nexport async function getAllUserCheckIns(beerdrinkerFolder) {\r\n    let checkinLocation = beerdrinkerFolder + CHECKIN_FOLDER;\r\n    let fileContents = (await fileClient.readFolder(checkinLocation)).files.reverse();\r\n    let userBeerCheckIns = [];\r\n\r\n    let checkIns = 0;\r\n    let reviews = 0;\r\n\r\n    for (let i = 0; i < fileContents.length; i++) {\r\n        let beerCheckIn = new CheckIn(fileContents[i].url);\r\n        loadValuesInCheckInFile(beerCheckIn);\r\n        userBeerCheckIns.push(beerCheckIn);\r\n\r\n        if (fileContents[i].url.includes(BEERREVIEWFILENAME)) {\r\n            reviews++;\r\n        } else {\r\n            checkIns++;\r\n        }\r\n\r\n    }\r\n\r\n    return {userBeerCheckIns: userBeerCheckIns, reviews: reviews, checkIns: checkIns};\r\n}\r\n\r\nexport async function loadValuesInCheckInFile(beerCheckIn) {\r\n    fileClient.readFile(beerCheckIn.getFileLocation()).then(ttlFile => {\r\n        let graph = rdfLib.graph();\r\n        let namedNode = rdfLib.sym(beerCheckIn.getFileLocation());\r\n        rdfLib.parse(ttlFile, graph, beerCheckIn.getFileLocation(), \"text/turtle\");\r\n\r\n        let webId = graph.any(namedNode, SOLIDLINKEDBEER('webId'));\r\n        let userId = graph.any(namedNode, SOLIDLINKEDBEER('username'));\r\n        let beerlocation = graph.any(namedNode, SOLIDLINKEDBEER('beerLocation'));\r\n        let beername = graph.any(namedNode, SOLIDLINKEDBEER('beerName'));\r\n        let checkinTime = graph.any(namedNode, SOLIDLINKEDBEER('checkInTime'));\r\n        let rating = graph.any(namedNode, SOLIDLINKEDBEER('rating'));\r\n        let review = graph.any(namedNode, SOLIDLINKEDBEER('review'));\r\n\r\n        beerCheckIn.loadInAttributes(\r\n            webId.value,\r\n            userId ? userId.value : undefined,\r\n            beerlocation.value,\r\n            beername.value,\r\n            checkinTime.value,\r\n            rating ? rating.value : undefined,\r\n            review ? review.value : undefined\r\n        );\r\n    });\r\n}","import * as rdfLib from \"rdflib\";\r\nimport {ACL, RDF, SCHEMA, SOLID, SOLIDLINKEDBEER, VCARD} from \"./Prefixes\";\r\nimport {GROUP_MEMBERS} from \"./Constants\";\r\n\r\nexport function getInviteToLSBInvitation(urlInvitee, invitation, postLocation, userWebId){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('Invitation'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('invitationTo'), rdfLib.sym('https://ozcanseker.github.io/Social-linked-beer/'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(urlInvitee));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), invitation);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getFriendShipRequest(urlInvitee, invitation, postLocation, userWebId){\r\n    //make friendrequest\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('FriendshipRequest'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(urlInvitee));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), invitation);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getDeclineFriendshipRequest(from , invitation, postLocation, userWebId){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('FriendschipRequestDecline'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(from));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), invitation);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getAcceptFriendshipRequest(from, description , postLocation, userWebId){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('FriendschipRequestAccepted'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(from));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), description);\r\n\r\n    //make a text file and send\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getGroupInvitaion(urlInvitee, invitation, postLocation, userWebId, groupUrl, groupName){\r\n    //make friendrequest\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), SOLIDLINKEDBEER('GroupInvitation'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('from'), rdfLib.sym(userWebId));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('to'), rdfLib.sym(urlInvitee));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('description'), invitation);\r\n    graph.add(blankNode, SOLIDLINKEDBEER('location'), rdfLib.sym(groupUrl));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('groupName'), groupName);\r\n\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} postLocation \r\n * @param {string} userName \r\n * @param {string} webId \r\n * @param {url to webresresource} beerLocation \r\n * @param {string} beerName \r\n * @param {Date} time \r\n */\r\nexport function beerCheckInTemplate(postLocation, userName, webId, beerLocation, beerName, time){\r\n    let graph = rdfLib.graph();\r\n    let namedNode = rdfLib.sym(postLocation);\r\n\r\n    graph.add(namedNode, RDF('type'), SOLIDLINKEDBEER('CheckIn'));\r\n    graph.add(namedNode, SOLIDLINKEDBEER('webId'), rdfLib.sym(webId));\r\n    if(userName){\r\n        graph.add(namedNode, SOLIDLINKEDBEER('username'), userName);\r\n    }\r\n    graph.add(namedNode, SOLIDLINKEDBEER('beerLocation'), rdfLib.sym(beerLocation));\r\n    graph.add(namedNode, SOLIDLINKEDBEER('beerName'), beerName);\r\n    graph.add(namedNode, SOLIDLINKEDBEER('checkInTime'), time);\r\n\r\n    // //make a text file and send\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function beerReviewInTemplate(postLocation, userName, webId, beerLocation, beerName, time, rating, review){\r\n    let graph = rdfLib.graph();\r\n    let namedNode = rdfLib.sym(postLocation);\r\n\r\n    graph.add(namedNode, RDF('type'), SOLIDLINKEDBEER('CheckReview'));\r\n    graph.add(namedNode, SOLIDLINKEDBEER('webId'), rdfLib.sym(webId));\r\n    if(userName){\r\n        graph.add(namedNode, SOLIDLINKEDBEER('username'), userName);\r\n    }\r\n    graph.add(namedNode, SOLIDLINKEDBEER('beerLocation'), rdfLib.sym(beerLocation));\r\n    graph.add(namedNode, SOLIDLINKEDBEER('beerName'), beerName);\r\n    graph.add(namedNode, SOLIDLINKEDBEER('checkInTime'), time);\r\n    graph.add(namedNode, SOLIDLINKEDBEER('rating'), rating);\r\n    graph.add(namedNode, SOLIDLINKEDBEER('review'), review);\r\n\r\n    // //make a text file and send\r\n    return rdfLib.serialize(undefined, graph, postLocation, 'text/turtle');\r\n}\r\n\r\nexport function getGroupAppDataTTL(urlFile,friends, leader,groupName){\r\n    let graph = rdfLib.graph();\r\n\r\n    let friendsgroup = rdfLib.sym(urlFile + \"#\" + GROUP_MEMBERS);\r\n\r\n    graph.add(friendsgroup, RDF('type'), VCARD('Group'));\r\n    graph.add(friendsgroup, VCARD('hasUID'), rdfLib.sym(\"urn:uuid:8831CBAD-1111-2222-8563-F0F4787E5398:ABGroup\"));\r\n    graph.add(friendsgroup, VCARD('hasLeader'), rdfLib.sym(leader));\r\n\r\n    friends.forEach(res => {\r\n        graph.add(friendsgroup, VCARD('hasMember'), rdfLib.sym(res.getUri()));\r\n    });\r\n\r\n    graph.add(friendsgroup, SCHEMA('name'), groupName);\r\n\r\n    return rdfLib.serialize(undefined, graph, urlFile, 'text/turtle');\r\n}\r\n\r\nexport function getGroupAclTTL(groupLocation, groupAppDataLocation, groupAcl, webIdOwner){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(groupAcl + \"#Owner\");\r\n    let ownerAgent = rdfLib.sym(webIdOwner);\r\n\r\n    let members = rdfLib.sym(groupAppDataLocation + \"#\" + GROUP_MEMBERS);\r\n    let resource = rdfLib.sym(groupLocation);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), ownerAgent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(members, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(members, ACL('accessTo'), resource);\r\n    graph.add(members, ACL('default'), resource);\r\n\r\n    graph.add(members, ACL('agentGroup'), members);\r\n\r\n    graph.add(members, ACL('mode'), ACL('Read'));\r\n\r\n    return rdfLib.serialize(undefined, graph, groupAcl, 'text/turtle');\r\n}\r\n\r\nexport function getGroupCheckInsAclTTL(groupLocation, groupAppDataLocation, groupAcl, webIdOwner){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(groupAcl + \"#Owner\");\r\n    let ownerAgent = rdfLib.sym(webIdOwner);\r\n\r\n    let members = rdfLib.sym(groupAppDataLocation + \"#\" + GROUP_MEMBERS);\r\n    let resource = rdfLib.sym(groupLocation);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), ownerAgent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(members, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(members, ACL('accessTo'), resource);\r\n    graph.add(members, ACL('default'), resource);\r\n\r\n    graph.add(members, ACL('agentGroup'), members);\r\n    graph.add(members, ACL('mode'), ACL('Read'));\r\n    graph.add(members, ACL('mode'), ACL('Append'));\r\n\r\n    return rdfLib.serialize(undefined, graph, groupAcl, 'text/turtle');\r\n}\r\n\r\nexport function getGroupOtherPersonTTL(groupLocation, postlocation){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.blankNode();\r\n\r\n    graph.add(blankNode, RDF('type'), VCARD('Group'));\r\n    graph.add(blankNode, SOLIDLINKEDBEER('location'), rdfLib.sym(groupLocation));\r\n\r\n    return rdfLib.serialize(undefined, graph, postlocation, 'text/turtle');\r\n}\r\n\r\nexport function getCheckInIndexBody(postlocation, members, user){\r\n    let graph = rdfLib.graph();\r\n    let blankNode = rdfLib.sym(postlocation + \"#\" + GROUP_MEMBERS);\r\n\r\n    graph.add(blankNode, RDF('type'), VCARD('Group'));\r\n    members.forEach(res => {\r\n        let member = rdfLib.sym(res.getUri());\r\n        graph.add(blankNode, VCARD('hasMember'), member);\r\n        graph.add(member, SOLIDLINKEDBEER('points'), 0);\r\n    });\r\n\r\n    let member = rdfLib.sym(user.getUri());\r\n    graph.add(blankNode, VCARD('hasMember'), member);\r\n    graph.add(member, SOLIDLINKEDBEER('points'), 0);\r\n\r\n    return rdfLib.serialize(undefined, graph, postlocation, 'text/turtle');\r\n}\r\n\r\nexport function groupCheckInIndexAcl(groupLocation, groupAppDataLocation, groupAcl, webIdOwner){\r\n    let graph = rdfLib.graph();\r\n    let owner = rdfLib.sym(groupAcl + \"#Owner\");\r\n    let ownerAgent = rdfLib.sym(webIdOwner);\r\n\r\n    let members = rdfLib.sym(groupAppDataLocation + \"#\" + GROUP_MEMBERS);\r\n    let resource = rdfLib.sym(groupLocation);\r\n\r\n    //owner\r\n    graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(owner, ACL('accessTo'), resource);\r\n    graph.add(owner, ACL('default'), resource);\r\n    graph.add(owner, ACL('agent'), ownerAgent);\r\n\r\n    graph.add(owner, ACL('mode'), ACL('Control'));\r\n    graph.add(owner, ACL('mode'), ACL('Read'));\r\n    graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n    //public\r\n    graph.add(members, RDF('type'), ACL('Authorization'));\r\n\r\n    graph.add(members, ACL('accessTo'), resource);\r\n    graph.add(members, ACL('default'), resource);\r\n\r\n    graph.add(members, ACL('agentGroup'), members);\r\n    graph.add(members, ACL('mode'), ACL('Read'));\r\n    graph.add(members, ACL('mode'), ACL('Write'));\r\n    graph.add(members, ACL('mode'), ACL('Append'));\r\n\r\n    return rdfLib.serialize(undefined, graph, groupAcl, 'text/turtle');\r\n}","import {postSolidFile, putSolidFile} from \"../SolidMethods\";\r\n\r\nimport * as fileClient from \"solid-file-client\";\r\nimport authClient from \"solid-auth-client\";\r\nimport * as rdflib from \"rdflib\";\r\nimport {ACL, FOAF, RDF, SOLID, SOLIDLINKEDBEER, TERMS, VCARD} from \"../rdf/Prefixes\";\r\nimport {\r\n  APPDATA_FILE,\r\n  APPDATA_FILENAME,\r\n  APPFOLDER_NAME,\r\n  BEERDRINKERFOLDER,\r\n  CHECKIN_FOLDER,\r\n  CONTENT_TYPE_TURTLE,\r\n  FRIENDS_FILE,\r\n  FRIENDS_FILENAME, GROUPFOLDER,\r\n  INBOX_FOLDER\r\n} from \"../rdf/Constants\";\r\n\r\nexport async function buildFolders(publicProfileIndex, storePublicProfileIndex, storagePublic, app, webId) {\r\n  //TODO a whole lot of error checking. Checking for 400 error codes and stuff like that\r\n  let applocation = await createAppNodeForPublicTypeIndex(storePublicProfileIndex, publicProfileIndex, storagePublic, app);\r\n  await makeAppFolderStructure(applocation, webId);\r\n\r\n  //sleep zodat de server de requests kan verwerken\r\n  await sleep(2000);\r\n\r\n  return applocation;\r\n}\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(resolve => {\r\n    setTimeout(resolve, ms)\r\n  })\r\n}\r\n\r\nexport async function checkFolderIntegrity(appfolder, webId) {\r\n  //TODO breidt dit uit\r\n\r\n  //Group\r\n  let groupFolder = appfolder + BEERDRINKERFOLDER + GROUPFOLDER;\r\n  let groupRes = await authClient.fetch(groupFolder);\r\n\r\n  if(groupRes.status === 404){\r\n    let groupFolderAcl = groupFolder + '.acl';\r\n    await fileClient.createFolder(groupFolder);\r\n    let body = getAclGroupFolder(groupFolder, groupFolderAcl, webId);\r\n    await putSolidFile(groupFolderAcl, body);\r\n  }\r\n}\r\n\r\n/**\r\n * Adds the applicatioin to the public type index\r\n * @param {store} store \r\n * @param {NN} publicTypeIndex \r\n * @param {string} publicLocation \r\n * @param {string} app \r\n */\r\nasync function createAppNodeForPublicTypeIndex(store, publicTypeIndex, publicLocation, app) {\r\n  //find empty folder\r\n  let appLocation = await findEmptyFolder(publicLocation);\r\n\r\n  //create a named node for the app\r\n  let appLocationNN = rdflib.sym(appLocation);\r\n\r\n  //add values to the pti\r\n  store.add(publicTypeIndex, TERMS('references'), app);\r\n  store.add(app, RDF('type'), SOLID('TypeRegistration'));\r\n  store.add(app, SOLID('instance'), appLocationNN);\r\n\r\n  //serialize and send the pti\r\n  let newTTLpublicTypeindex = await rdflib.serialize(undefined, store, publicTypeIndex.value, CONTENT_TYPE_TURTLE);\r\n  await putSolidFile(publicTypeIndex.value, newTTLpublicTypeindex);\r\n\r\n  return appLocation;\r\n}\r\n\r\n/**\r\n * Finds an empty folder for the application\r\n * @param {} publicLocation \r\n */\r\nasync function findEmptyFolder(publicLocation) {\r\n  //TODO improve this. You can check if the other folder holds up to your standards. A lot of possibilities\r\n  let appLocation = publicLocation + APPFOLDER_NAME + '/'\r\n\r\n  //see if there is a folder at the applocation\r\n  let res = await authClient.fetch(appLocation);\r\n\r\n  //make eiher a new random foldername or use the original\r\n  if (res.status % 400 < 100) {\r\n    return appLocation;\r\n  } else {\r\n    return appLocation = publicLocation + APPFOLDER_NAME + makeRandomString(10) + '/'\r\n  }\r\n}\r\n\r\n/**\r\n * Makes a random string\r\n * @param {int} length \r\n */\r\nfunction makeRandomString(length) {\r\n  var result = '';\r\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  var charactersLength = characters.length;\r\n  for (var i = 0; i < length; i++) {\r\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Makes the folder struckture for the application\r\n * @param {string} appFolderUrl \r\n * @param {string} webId \r\n */\r\nasync function makeAppFolderStructure(appFolderUrl, webId) {\r\n  //TODO make all async\r\n  let body;\r\n\r\n  //top folder\r\n  let aclUrl = appFolderUrl + '.acl';\r\n\r\n  await fileClient.createFolder(appFolderUrl);\r\n  body = getAclAppFolder(appFolderUrl, aclUrl, webId);\r\n  await putSolidFile(aclUrl, body);\r\n\r\n  //beerdrinker\r\n  let beerDrinkerUrl = appFolderUrl + BEERDRINKERFOLDER;\r\n  await fileClient.createFolder(beerDrinkerUrl);\r\n\r\n  // friends\r\n  let friendsUrl = beerDrinkerUrl + FRIENDS_FILE;\r\n  body = getFriendsFile(friendsUrl, webId);\r\n\r\n  await postSolidFile(beerDrinkerUrl, FRIENDS_FILENAME, body);\r\n\r\n  //appData \r\n  let appDataFile = beerDrinkerUrl + APPDATA_FILE;\r\n  let appDataFileAcl = appDataFile + '.acl';\r\n  \r\n  body = getAppDataInit(appDataFile);\r\n  await postSolidFile(beerDrinkerUrl, APPDATA_FILENAME, body);\r\n  \r\n  body = getAclAppData(appDataFile, appDataFileAcl, webId, friendsUrl);\r\n  await putSolidFile(appDataFileAcl, body);\r\n\r\n  //inboxfolder\r\n  let inboxUrl = beerDrinkerUrl + INBOX_FOLDER;\r\n  let inboxUrlacl = inboxUrl + '.acl';\r\n  body = getACLInboxFolder(inboxUrl, inboxUrlacl, webId);\r\n\r\n  await fileClient.createFolder(inboxUrl);\r\n  await putSolidFile(inboxUrlacl, body);\r\n\r\n  //check in folder        \r\n  let reviewUrl = beerDrinkerUrl + CHECKIN_FOLDER;\r\n  let reviewUrlacl = reviewUrl + '.acl';\r\n\r\n  await fileClient.createFolder(reviewUrl);\r\n  body = getACLSubmittersFriends(reviewUrl, reviewUrlacl, webId, friendsUrl);\r\n  await putSolidFile(reviewUrlacl, body);\r\n\r\n  //check in folder\r\n  let groupFolder = beerDrinkerUrl + GROUPFOLDER;\r\n  let groupFolderAcl = groupFolder + '.acl';\r\n\r\n  //group folder\r\n  await fileClient.createFolder(groupFolder);\r\n  body = getAclGroupFolder(groupFolder, groupFolderAcl, webId);\r\n  await putSolidFile(groupFolderAcl, body);\r\n}\r\n\r\n/**\r\n * The init file for the appdata\r\n * @param {string} url \r\n */\r\nfunction getAppDataInit(url) {\r\n  let graph = rdflib.graph();\r\n\r\n  let bn = rdflib.blankNode();\r\n\r\n  graph.add(bn, SOLIDLINKEDBEER('startdate'), new Date());\r\n  graph.add(bn, SOLIDLINKEDBEER('points'), 0);\r\n\r\n  return rdflib.serialize(undefined, graph, url, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Makes the acl for the app folder\r\n * Only owner can see, write and control\r\n * @param {*} appUrl \r\n * @param {*} aclUrl \r\n * @param {*} webIdUserLoggedIn \r\n */\r\nfunction getAclAppFolder(appUrl, aclUrl, webIdUserLoggedIn) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let app = rdflib.sym(appUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), app);\r\n  graph.add(owner, ACL('default'), app);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Init for the friends file\r\n * @param {string} urlFile \r\n * @param {*} webId \r\n */\r\nfunction getFriendsFile(urlFile) {\r\n  let graph = rdflib.graph();\r\n\r\n  let friendsgroup = rdflib.sym(urlFile + \"#Friends\");\r\n  let friendsgroupRequested = rdflib.sym(urlFile + \"#FriendsRequested\");\r\n\r\n  graph.add(friendsgroup, RDF('type'), VCARD('Group'));\r\n  graph.add(friendsgroup, VCARD('hasUID'), rdflib.sym(\"urn:uuid:8831CBAD-1111-2222-8563-F0F4787E5398:ABGroup\"));\r\n\r\n  graph.add(friendsgroupRequested, RDF('type'), VCARD('Group'));\r\n  graph.add(friendsgroupRequested, VCARD('hasUID'), rdflib.sym(\"urn:uuid:8831CBAD-1111-2222-8563-F0F4787E5398:CDGroup\"));\r\n\r\n  return rdflib.serialize(undefined, graph, urlFile, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Get the acl for the inbox folder. Everyone can write but only owner can read\r\n * @param {} inboxUrl \r\n * @param {*} aclUrl \r\n * @param {*} webIdUserLoggedIn \r\n */\r\nfunction getACLInboxFolder(inboxUrl, aclUrl, webIdUserLoggedIn) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let _public = rdflib.sym(aclUrl + \"#Public\");\r\n  let inbox = rdflib.sym(inboxUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  //owner\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), inbox);\r\n  graph.add(owner, ACL('default'), inbox);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  //public\r\n  graph.add(_public, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(_public, ACL('accessTo'), inbox);\r\n  graph.add(_public, ACL('default'), inbox);\r\n  graph.add(_public, ACL('agentClass'), FOAF(\"Agent\"));\r\n\r\n  graph.add(_public, ACL('mode'), ACL('Append'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Acl check in folder. Friend and user can read\r\n * @param {*} resourceUrl \r\n * @param {*} aclUrl \r\n * @param {*} webIdUserLoggedIn \r\n * @param {*} friendsUrl \r\n */\r\nfunction getACLSubmittersFriends(resourceUrl, aclUrl, webIdUserLoggedIn, friendsUrl) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let group1 = rdflib.sym(aclUrl + \"#Friends\");\r\n  let resource = rdflib.sym(resourceUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  //group who get acess\r\n  let fgroup1 = rdflib.sym(friendsUrl + \"#Friends\");\r\n  let fgroup2 = rdflib.sym(friendsUrl + \"#FriendsRequested\");\r\n\r\n  //owner\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), resource);\r\n  graph.add(owner, ACL('default'), resource);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  //public\r\n  graph.add(group1, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(group1, ACL('accessTo'), resource);\r\n  graph.add(group1, ACL('default'), resource);\r\n\r\n  graph.add(group1, ACL('agentGroup'), fgroup1);\r\n  graph.add(group1, ACL('agentGroup'), fgroup2);\r\n\r\n  graph.add(group1, ACL('mode'), ACL('Read'));\r\n  graph.add(group1, ACL('mode'), ACL('Append'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\n/**\r\n * Acl app file. Friend and user can read\r\n * @param {*} resourceUrl \r\n * @param {*} aclUrl \r\n * @param {*} webIdUserLoggedIn \r\n * @param {*} friendsUrl \r\n */\r\nfunction getAclAppData(resourceUrl, aclUrl, webIdUserLoggedIn, friendsUrl) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let group1 = rdflib.sym(aclUrl + \"#Friends\");\r\n  let resource = rdflib.sym(resourceUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  //group who get acess\r\n  let fgroup1 = rdflib.sym(friendsUrl + \"#Friends\");\r\n  let fgroup2 = rdflib.sym(friendsUrl + \"#FriendsRequested\");\r\n\r\n  //owner\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), resource);\r\n  graph.add(owner, ACL('default'), resource);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  //public\r\n  graph.add(group1, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(group1, ACL('accessTo'), resource);\r\n  graph.add(group1, ACL('default'), resource);\r\n\r\n  graph.add(group1, ACL('agentGroup'), fgroup1);\r\n  graph.add(group1, ACL('agentGroup'), fgroup2);\r\n\r\n  graph.add(group1, ACL('mode'), ACL('Read'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}\r\n\r\nfunction getAclGroupFolder(appUrl, aclUrl, webIdUserLoggedIn) {\r\n  let graph = rdflib.graph();\r\n  let owner = rdflib.sym(aclUrl + \"#Owner\");\r\n  let app = rdflib.sym(appUrl);\r\n  let agent = rdflib.sym(webIdUserLoggedIn);\r\n\r\n  graph.add(owner, RDF('type'), ACL('Authorization'));\r\n\r\n  graph.add(owner, ACL('accessTo'), app);\r\n  graph.add(owner, ACL('default'), app);\r\n  graph.add(owner, ACL('agent'), agent);\r\n\r\n  graph.add(owner, ACL('mode'), ACL('Control'));\r\n  graph.add(owner, ACL('mode'), ACL('Read'));\r\n  graph.add(owner, ACL('mode'), ACL('Write'));\r\n\r\n  return rdflib.serialize(undefined, graph, aclUrl, 'text/turtle');\r\n}","class AccessError extends Error {\r\n    constructor(...args) {\r\n        super(...args);\r\n\r\n        this.message = \"Access file is not correct\";\r\n    }\r\n}\r\n\r\nexport default AccessError;","import * as rdfLib from \"rdflib\"\r\n\r\nimport AccessError from '../../error/AccessError'\r\nimport {ACL} from '../rdf/Prefixes'\r\n\r\nexport function checkacess(storeProfileCard){\r\n    let blankNode = storeProfileCard.any(undefined, ACL('origin'),rdfLib.sym(\"https://ozcanseker.github.io\"));\r\n    let readAcess = storeProfileCard.match(blankNode, ACL('mode'), ACL('Read'));\r\n    let Write = storeProfileCard.match(blankNode, ACL('mode'),ACL('Write'));\r\n    let Append = storeProfileCard.match(blankNode, ACL('mode'),ACL('Append'));\r\n    let Control = storeProfileCard.match(blankNode, ACL('mode'),ACL('Control'));\r\n\r\n    if(!readAcess.length){\r\n        throw new AccessError(\"Read access\");\r\n    }\r\n\r\n    if(!Write.length){\r\n        throw new AccessError(\"Write access\");\r\n    }\r\n\r\n    if(!Append.length){\r\n        throw new AccessError(\"Append access\");\r\n    }\r\n\r\n    if(!Control.length){\r\n        throw new AccessError(\"Control access\");\r\n    }\r\n}","import Observable from \"./Observable\";\r\n\r\nclass CheckInHandler extends Observable {\r\n    constructor() {\r\n        super();\r\n\r\n        this._checkInsAmount = 0;\r\n        this._beerReviewsAmount = 0;\r\n        this._beerPoints = 0;\r\n        this._userCheckIns = [];\r\n        this._allCheckinsGotten = false;\r\n    }\r\n\r\n    setReviesCheckInsAndUserCheckIns(reviews, checkIns, userBeerCheckIns){\r\n        this._beerReviewsAmount = reviews;\r\n        this._checkInsAmount = checkIns;\r\n\r\n        userBeerCheckIns.forEach(checkIn => {\r\n            checkIn.subscribe(this);\r\n        });\r\n\r\n        this._userCheckIns = userBeerCheckIns;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setAllCheckInsGotten(bool){\r\n        this._allCheckinsGotten = bool;\r\n    }\r\n\r\n    getAllCheckInsGotten(){\r\n        return this._allCheckinsGotten;\r\n    }\r\n\r\n    addBeerPoints(amount) {\r\n        this._beerPoints += amount;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setBeerPoints(beerPoints) {\r\n        this._beerPoints = beerPoints;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getBeerPoints() {\r\n        return this._beerPoints;\r\n    }\r\n\r\n    setBeerReviewsAmount(beerReviews) {\r\n        this._beerReviewsAmount = beerReviews;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    getBeerReviewsAmount() {\r\n        return this._beerReviewsAmount;\r\n    }\r\n\r\n    addBeerReviewToAmount() {\r\n        this._beerReviewsAmount++;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    setCheckInsAmount(checkIns) {\r\n        this._checkInsAmount = checkIns;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    getCheckInsAmount() {\r\n        return this._checkInsAmount;\r\n    }\r\n\r\n    addToCheckInsAmount() {\r\n        this._checkInsAmount++;\r\n        this.updateSubscribers()\r\n    }\r\n\r\n    setUserCheckIns(userCheckins) {\r\n        this._userCheckIns.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        userCheckins = userCheckins.userBeerCheckIns;\r\n\r\n        userCheckins.forEach(checkIn => {\r\n            checkIn.subscribe(this);\r\n        });\r\n\r\n        this._userCheckIns = userCheckins;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    clearAll(){\r\n        this._userCheckIns.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n    }\r\n\r\n    addUserCheckIns(userCheckins) {\r\n        userCheckins.forEach(checkIn => {\r\n            checkIn.subscribe(this);\r\n        })\r\n\r\n        this._userCheckIns = userCheckins.concat(this._userCheckIns);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUserCheckIns() {\r\n        return this._userCheckIns;\r\n    }\r\n\r\n    update() {\r\n        this.updateSubscribers();\r\n    }\r\n}\r\n\r\nexport default CheckInHandler;","import Observable from \"./Observable\";\r\nimport CheckInHandler from \"./CheckInHandler\";\r\n\r\nclass Friend extends Observable{\r\n    constructor(uri){\r\n        super();\r\n        this._profileUri = uri;\r\n\r\n        this._name = undefined;\r\n        this._imageUrl = undefined;\r\n        this._beerDrinkerFolder = undefined;\r\n        this._startDate = undefined;\r\n\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._checkInHandler.subscribe(this);\r\n    }\r\n\r\n    clearAll(){\r\n        this._checkInHandler.unsubscribe(this);\r\n        this._checkInHandler.clearAll();\r\n    }\r\n\r\n    setUserDetails(name, pictureurl, beerDrinkerFolder){\r\n        this._name = name ? name : this.getUserName(this._profileUri);\r\n\r\n        this._imageUrl = pictureurl;\r\n        this._beerDrinkerFolder = beerDrinkerFolder;\r\n\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    setAppData(startdate){\r\n        this._startDate = startdate;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    update(){\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getCheckInHandler(){\r\n        return this._checkInHandler;\r\n    }\r\n\r\n    getUserName(uri){\r\n        return  uri.replace(\"https://\", \"\").replace(/\\..*/, \"\");\r\n    }\r\n\r\n    getBeerDrinkerFolder(){\r\n        return this._beerDrinkerFolder;\r\n    }\r\n\r\n    getUri(){\r\n        return this._profileUri;\r\n    }\r\n\r\n    getImageUrl(){\r\n        return this._imageUrl;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getStartDate(){\r\n        if(this._startDate){\r\n            //send a copy of the date back and not the date itself\r\n            return new Date(this._startDate.getTime())\r\n        }else{\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Friend;","import CheckInHandler from \"./CheckInHandler\";\r\nimport Observable from \"./Observable\";\r\n\r\nclass Group extends Observable{\r\n    constructor(url, createdByMe){\r\n        super();\r\n\r\n        this._url = url;\r\n        this._name = url;\r\n\r\n        this._createdByMe = createdByMe;\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._checkInHandler.subscribe(this);\r\n\r\n        this._groupLeader = undefined;\r\n        this._members = [];\r\n    }\r\n\r\n    setProperties(naam, checkInsLocation, groupDataLocation, groupCheckInIndex,groupLeader, groupMembers){\r\n        this._name = naam;\r\n        this._checkInsLocation = checkInsLocation;\r\n        this._groupDataLocation = groupDataLocation;\r\n        this._groupLeader = groupLeader;\r\n        this._members = groupMembers;\r\n        this._groupCheckInIndex = groupCheckInIndex;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getMembers(){\r\n        return this._members.slice();\r\n    }\r\n\r\n    getGroupCheckInIndex(){\r\n        return this._groupCheckInIndex;\r\n    }\r\n\r\n    getLeader(){\r\n        return this._groupLeader;\r\n    }\r\n\r\n    setUrl(url){\r\n        this._url = url;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getCheckInHandler(){\r\n        return this._checkInHandler;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getUrl(){\r\n        return this._url;\r\n    }\r\n\r\n    getCheckInLocation(){\r\n        return this._checkInsLocation;\r\n    }\r\n\r\n    getGroupDataFile(){\r\n        return this._groupDataLocation;\r\n    }\r\n\r\n    clearAll(){\r\n        this._checkInHandler.clearAll();\r\n    }\r\n\r\n    update(){\r\n        this.updateSubscribers();\r\n    }\r\n}\r\n\r\nexport default Group;","import {buildFolders, checkFolderIntegrity} from './PodFolderBuilder';\r\nimport {getAllUserCheckIns, getTenUserCheckIns, loadFriendData} from \"../SolidMethods\";\r\nimport {checkacess} from './AccessChecker';\r\nimport {FOAF, PIM, SCHEMA, SOLID, SOLIDLINKEDBEER, VCARD} from \"../rdf/Prefixes\";\r\n\r\nimport * as fileClient from \"solid-file-client\";\r\nimport * as rdfLib from \"rdflib\";\r\nimport {\r\n    APPDATA_FILE,\r\n    APPLICATION_NAME_PTI,\r\n    BEERDRINKERFOLDER, CHECKIN_FOLDER, CHECKIN_INDEX_FILE, CONTENT_TYPE_TURTLE,\r\n    FRIENDS_FILE,\r\n    FRIENDSGROUPNAME,\r\n    FRIENDSSENTGROUPNAME, GROUP_DATA_FILE, GROUPFOLDER\r\n} from \"../rdf/Constants\";\r\nimport Friend from \"../../model/HolderComponents/Friend\";\r\nimport Group from \"../../model/HolderComponents/Group\";\r\n\r\nexport async function buildSolidCommunicator(modelHolder, solidCommunicator) {\r\n    let returnObject = {};\r\n    let user = modelHolder.getUser();\r\n    let checkInHandler = modelHolder.getCheckInHandler();\r\n\r\n    //make a named node of the session webid of the user\r\n    //namednode\r\n    const webIdNN = rdfLib.sym(user.getUri());\r\n\r\n    //get a store of the profile card of the logged in user\r\n    //store\r\n    let storeProfileCard = await getUserCard(webIdNN.uri);\r\n\r\n    //check the acess before trying to make an application\r\n    checkacess(storeProfileCard);\r\n\r\n    //store for the Public Profile Index\r\n    //object with store and nn\r\n    let ppiObject = await getPPILocation(webIdNN, storeProfileCard);\r\n\r\n    //String that shows the location of the public storage of the pod\r\n    //string \r\n    let storagePublic = getStorePublic(webIdNN, storeProfileCard);\r\n\r\n    //locatie voor de applicatie\r\n    //string\r\n    let applicationLocation = await getApplicationLocation(ppiObject.ppi, ppiObject.store, storagePublic, webIdNN.value);\r\n\r\n    //returnobject\r\n    returnObject.sc = {};\r\n\r\n    let userDetails = getUserDetails(webIdNN, storeProfileCard);\r\n    user.loadInUserValues(userDetails.name,\r\n        userDetails.imageURL,\r\n        applicationLocation,\r\n        applicationLocation + BEERDRINKERFOLDER,\r\n        applicationLocation + BEERDRINKERFOLDER + CHECKIN_FOLDER);\r\n    solidCommunicator.setFileLocations();\r\n\r\n    getAppData(user.getBeerDrinkerFolder()).then(res => {\r\n        user.loadInAppData(new Date(res.startdate));\r\n        modelHolder.getCheckInHandler().setBeerPoints(parseInt(res.points));\r\n        solidCommunicator.loadInAppStore(res.store, res.blankNode);\r\n    });\r\n\r\n    getTenUserCheckIns(user.getBeerDrinkerFolder()).then(res => {\r\n        checkInHandler.addUserCheckIns(res.userBeerCheckIns);\r\n        checkInHandler.setBeerReviewsAmount(res.reviews);\r\n        checkInHandler.setCheckInsAmount(res.checkIns);\r\n    });\r\n\r\n    getFriends(user.getBeerDrinkerFolder()).then(res => {\r\n        modelHolder.addFriends(res.friends);\r\n        solidCommunicator.loadInFriendsStore(res.group, res.sentGroup, res.friendsStore);\r\n    });\r\n\r\n    getGroups(user.getBeerDrinkerFolder()).then(res => {\r\n        modelHolder.setGroups(res);\r\n    })\r\n}\r\n\r\nasync function getGroups(beerDrinkerFolder) {\r\n    let groupsLocation = beerDrinkerFolder + GROUPFOLDER;\r\n    let res = await fileClient.readFolder(groupsLocation);\r\n    let groups = [];\r\n\r\n    let myGroups = res.folders;\r\n    let friendsGroups = res.files;\r\n\r\n    myGroups.forEach(res => {\r\n        let group = new Group(res.url, true);\r\n\r\n        loadGroupInformation(group);\r\n        groups.push(group);\r\n    });\r\n\r\n    friendsGroups.forEach(res => {\r\n        let group = new Group(res.url, false);\r\n\r\n        loadFriendGroupData(group);\r\n        groups.push(group);\r\n    });\r\n\r\n    return groups;\r\n}\r\n\r\nasync function loadFriendGroupData(group) {\r\n    let file = await fileClient.fetch(group.getUrl());\r\n\r\n    let graph = rdfLib.graph();\r\n    rdfLib.parse(file, graph, group.getUrl(), CONTENT_TYPE_TURTLE);\r\n\r\n    let blankNode = graph.any(undefined, SOLIDLINKEDBEER('location'));\r\n    let urlGroup = graph.any(blankNode, SOLIDLINKEDBEER('location'));\r\n\r\n    group.setUrl(urlGroup.value);\r\n\r\n    await loadGroupInformation(group);\r\n}\r\n\r\nasync function loadGroupInformation(group) {\r\n    let groupCheckInsLocation = group.getUrl() + CHECKIN_FOLDER;\r\n    let groupDataLocation = group.getUrl() + GROUP_DATA_FILE;\r\n    let checkIndexLocation = group.getUrl() + CHECKIN_INDEX_FILE;\r\n\r\n    //krijg de checkins van de grop\r\n    getTenUserCheckIns(group.getUrl()).then(res => {\r\n        group.getCheckInHandler().setReviesCheckInsAndUserCheckIns(res.reviews, res.checkIns, res.userBeerCheckIns);\r\n    })\r\n\r\n    let res = await fileClient.fetch(groupDataLocation);\r\n    let groupDataGraph = rdfLib.graph();\r\n    rdfLib.parse(res, groupDataGraph, groupDataLocation, CONTENT_TYPE_TURTLE);\r\n\r\n    //krijg de members\r\n    let hasMemberGroup = groupDataGraph.any(undefined, VCARD('hasLeader'));\r\n    let leader = groupDataGraph.any(hasMemberGroup, VCARD('hasLeader'));\r\n\r\n    let name = groupDataGraph.any(hasMemberGroup, SCHEMA('name'));\r\n\r\n    //checkInIndex\r\n    let checkInIndex = await fileClient.fetch(checkIndexLocation);\r\n    let checkInIndexGraph = rdfLib.graph();\r\n    rdfLib.parse(checkInIndex, checkInIndexGraph, checkIndexLocation, CONTENT_TYPE_TURTLE);\r\n\r\n    let pointsMemberGroup = checkInIndexGraph.any(undefined, VCARD('hasMember'));\r\n\r\n    let members = [];\r\n    checkInIndexGraph.each(pointsMemberGroup, VCARD('hasMember')).map(res => {\r\n        let points = checkInIndexGraph.any(res, SOLIDLINKEDBEER('points'));\r\n\r\n        if(res.value === leader.value){\r\n            leader = {member: res.value, points: points.value};\r\n        }else{\r\n            members.push({member: res.value, points: points.value});\r\n        }\r\n    });\r\n\r\n    group.setProperties(name.value, groupCheckInsLocation, groupDataLocation,checkIndexLocation, leader, members);\r\n}\r\n\r\n/**\r\n * Get the user profile card in the form of a rdflib graph.\r\n *\r\n * @param webIdUrl the uri for the profile card\r\n * @returns {Promise<void>} graph of user VCARD\r\n */\r\nasync function getUserCard(webIdUrl) {\r\n    const profileCardTTl = await fileClient.fetch(webIdUrl);\r\n    const storeProfileCard = rdfLib.graph();\r\n    rdfLib.parse(profileCardTTl, storeProfileCard, webIdUrl, \"text/turtle\");\r\n\r\n    return storeProfileCard;\r\n}\r\n\r\nasync function getPPILocation(profile, storeProfileCard) {\r\n    const publicProfileIndex = storeProfileCard.any(profile, SOLID(\"publicTypeIndex\"));\r\n\r\n    const storePublicTypeIndex = rdfLib.graph();\r\n    const publicTypeIndexTTL = await fileClient.fetch(publicProfileIndex.value);\r\n    rdfLib.parse(publicTypeIndexTTL, storePublicTypeIndex, publicProfileIndex.value, \"text/turtle\");\r\n\r\n    return {store: storePublicTypeIndex, ppi: publicProfileIndex};\r\n}\r\n\r\nfunction getStorePublic(profile, storeProfileCard) {\r\n    let locationStorage = storeProfileCard.any(profile, PIM(\"storage\"));\r\n    return locationStorage.value + \"public/\";\r\n}\r\n\r\nasync function getApplicationLocation(publicProfileIndex, storePublicProfileIndex, storagePublic, webId) {\r\n    let app = rdfLib.sym(publicProfileIndex.value + \"#\" + APPLICATION_NAME_PTI);\r\n    let appQuery = storePublicProfileIndex.any(app, SOLID(\"instance\"));\r\n\r\n    if (appQuery) {\r\n        await checkFolderIntegrity(appQuery.value, webId);\r\n        return appQuery.value;\r\n    } else {\r\n        return await buildFolders(publicProfileIndex, storePublicProfileIndex, storagePublic, app, webId);\r\n    }\r\n}\r\n\r\nfunction getUserDetails(profile, storeProfileCard) {\r\n    let nameFN = storeProfileCard.any(profile, VCARD('fn'));\r\n\r\n    if(!nameFN){\r\n        nameFN = storeProfileCard.any(profile, FOAF('name'));\r\n    }\r\n\r\n    let imageURL = storeProfileCard.any(profile, VCARD('hasPhoto'));\r\n\r\n    nameFN = nameFN ? nameFN.value : undefined;\r\n    imageURL = imageURL ? imageURL.value : undefined;\r\n\r\n    return {name: nameFN, imageURL: imageURL};\r\n}\r\n\r\nasync function getAppData(beerDrinkerFolder) {\r\n    //TODO one place to save all urls\r\n    let appdataLocation = beerDrinkerFolder + APPDATA_FILE;\r\n\r\n    let appdatattl = await fileClient.readFile(appdataLocation);\r\n    let graph = rdfLib.graph();\r\n    rdfLib.parse(appdatattl, graph, appdataLocation, \"text/turtle\");\r\n\r\n    let blankNode = graph.any(undefined, SOLIDLINKEDBEER('startdate'));\r\n\r\n    let startdate = graph.any(blankNode, SOLIDLINKEDBEER('startdate'));\r\n    let points = graph.any(blankNode, SOLIDLINKEDBEER('points'));\r\n\r\n    return {startdate: startdate.value, points: points.value, store: graph, blankNode: blankNode};\r\n}\r\n\r\nasync function getFriends(beerDrinkerFolder) {\r\n    let friendsLocation = beerDrinkerFolder + FRIENDS_FILE;\r\n    let ttlFriends = await fileClient.readFile(friendsLocation);\r\n\r\n    let group = rdfLib.sym(friendsLocation + \"#\" + FRIENDSGROUPNAME);\r\n    let sentGroup = rdfLib.sym(friendsLocation + \"#\" + FRIENDSSENTGROUPNAME);\r\n    let friends = [];\r\n\r\n    let graph = rdfLib.graph();\r\n    rdfLib.parse(ttlFriends, graph, friendsLocation, CONTENT_TYPE_TURTLE);\r\n\r\n    let query = graph.each(group, VCARD('hasMember'), undefined);\r\n\r\n    for (let index = 0; index < query.length; index++) {\r\n        let friend = new Friend(query[index].value);\r\n        loadFriendData(friend);\r\n\r\n        if (friend) {\r\n            friends.push(friend);\r\n        }\r\n    }\r\n\r\n    return {friends: friends, friendsStore: graph, group: group, sentGroup: sentGroup};\r\n}\r\n\r\n","import { postSolidFile, putSolidFile, getUserFile, loadFriendData } from \"../SolidMethods\";\r\nimport {FRIENDS_FILE, FRIENDSHIPREQUEST_ACCEPTED_NAME, INBOX_FOLDER} from \"../rdf/Constants\";\r\nimport {SOLIDLINKEDBEER, VCARD} from \"../rdf/Prefixes\";\r\nimport Friend from \"../../model/HolderComponents/Friend\";\r\n\r\nconst fileClient = require('solid-file-client');\r\nconst rdfLib = require('rdflib');\r\n\r\nexport async function preApplicationHandelings(beerDrinkerFolder, friendGroup, friendsRequestedGroup, FriendsStore, modelHolder){\r\n    let inbox = beerDrinkerFolder + INBOX_FOLDER;\r\n    let inboxContent = await fileClient.readFolder(inbox);\r\n\r\n    //add friend from friend requested to friends\r\n    let acceptedRequests = inboxContent.files.filter(file => {\r\n        return file.name.includes(FRIENDSHIPREQUEST_ACCEPTED_NAME);\r\n    })\r\n\r\n    if(acceptedRequests.length !== 0){\r\n        checkAcceptedFriendShipRequests(beerDrinkerFolder, acceptedRequests, friendGroup, friendsRequestedGroup, FriendsStore, modelHolder);\r\n    }\r\n\r\n    //delete user from friends requested if they declined\r\n    let declinedRequests = inboxContent.files.filter(file => {\r\n        return file.name.includes(\"Social_Linked_Beer_FriendschipRequestDecline\");\r\n    })\r\n\r\n    if(declinedRequests.length !== 0){\r\n        await checkDeclinedFriendShipRequests(beerDrinkerFolder, declinedRequests, friendsRequestedGroup, FriendsStore);\r\n    }\r\n}\r\n\r\n/**\r\n * Check if there are accepted friendschip requests\r\n * @param {*} beerdrinkerFolder\r\n * @param {*} acceptedRequests\r\n * @param {*} scValues\r\n * @param {*} user\r\n */\r\nasync function checkAcceptedFriendShipRequests(beerdrinkerFolder, acceptedRequests, friendsGroup, friendsSent, friendGraph, modelHolder){\r\n    //get some values\r\n    let postLocation = beerdrinkerFolder + FRIENDS_FILE;\r\n\r\n    for(let i = 0; i < acceptedRequests.length; i++){\r\n        //make a graph and get file\r\n        let graph = rdfLib.graph();\r\n        let filettl = await fileClient.readFile(acceptedRequests[i].url);\r\n        rdfLib.parse(filettl, graph, acceptedRequests[i].url, \"text/turtle\");\r\n\r\n        //get the blanknode from the message\r\n        let friend = graph.any(undefined, SOLIDLINKEDBEER('from'));\r\n        friend = graph.any(friend, SOLIDLINKEDBEER('from'));\r\n\r\n        //add from friend requested to friend\r\n        friendGraph.add(friendsGroup, VCARD('hasMember'), friend);\r\n        friendGraph.removeMatches(friendsSent, VCARD('hasMember'), friend);\r\n\r\n        //get the friend from the internet\r\n        friend = new Friend(friend.value);\r\n        loadFriendData(friend);\r\n\r\n        //adding friend\r\n        modelHolder.addFriend(friend);\r\n    }\r\n\r\n    //update the original friend file\r\n    let friendsTtl = await rdfLib.serialize(undefined, friendGraph, postLocation, 'text/turtle');\r\n    //TODO post new file for user so that he know friendship is accepted\r\n    await putSolidFile(postLocation, friendsTtl);\r\n\r\n    acceptedRequests.forEach(res => {\r\n        //delete the original message\r\n        fileClient.deleteFile(res.url);\r\n    })\r\n}\r\n\r\nasync function checkDeclinedFriendShipRequests(beerDrinkerFolder, declinedRequests, friendsSent, friendGraph){\r\n    let postLocation = beerDrinkerFolder + FRIENDS_FILE;\r\n\r\n    for(let i = 0; i < declinedRequests.length; i++){\r\n        let graph = rdfLib.graph();\r\n        let filettl = await fileClient.readFile(declinedRequests[i].url);\r\n\r\n        rdfLib.parse(filettl, graph, declinedRequests[i].url, \"text/turtle\");\r\n\r\n        //get blank node from friend sent\r\n        let friend = graph.any(undefined, SOLIDLINKEDBEER('from'));\r\n        friend = graph.any(friend, SOLIDLINKEDBEER('from'));\r\n\r\n        //remove friend from the friendssent file\r\n        friendGraph.removeMatches(friendsSent, VCARD('hasMember'), friend);\r\n    }\r\n\r\n    //post new friend solid file\r\n    let friendsTtl = await rdfLib.serialize(undefined, friendGraph, postLocation, 'text/turtle');\r\n    putSolidFile(postLocation, friendsTtl);\r\n\r\n    declinedRequests.forEach(res => {\r\n        //delete the original message\r\n        fileClient.deleteFile(res.url);\r\n    })\r\n//     //TODO post new file for user so that he know friendship is declined\r\n}","import Observable from \"./Observable\";\r\n\r\nclass Beer extends Observable{\r\n    constructor(ldUrl, name, brewedby){\r\n        super();\r\n        this._ldUrl = ldUrl;\r\n        this._name = name;\r\n        this._brewedby = brewedby;\r\n    }\r\n\r\n    getBrewer(){\r\n        return this._brewer;\r\n    }\r\n\r\n    updateInformation(type,\r\n                      label,\r\n                      description,\r\n                      alcoholpercentage,\r\n                      style,\r\n                      minSchenkTemperatuur,\r\n                      stamwortgehalte,\r\n                      maxSchenkTemperatuur,\r\n                      depiction,){\r\n        this._type = type;\r\n        this._style = style;\r\n        this._label = label;\r\n        this._description = description;\r\n        this._minSchenkTemperatuur = minSchenkTemperatuur;\r\n        this._maxSchenkTemperatuur = maxSchenkTemperatuur;\r\n        this._stamwortgehalte = stamwortgehalte;\r\n        this._alcoholpercentage = alcoholpercentage;\r\n\r\n        this._depiction =depiction;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUrl(){\r\n        return this._ldUrl;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getBrewerUrl(){\r\n        return this._brewedby;\r\n    }\r\n}\r\n\r\nexport default Beer;","import Beer from \"../../model/HolderComponents/Beer\";\r\n\r\nexport async function getBeerData(query) {\r\n    let res = await queryTriply(getBeerQuery(query));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n    return makeBeerList(res);\r\n}\r\n\r\nexport async function getBrewerData(brewer) {\r\n    getRegularBrewerData(brewer);\r\n    getBrewerBeers(brewer);\r\n}\r\n\r\nasync function getRegularBrewerData(brewer) {\r\n    let res = await queryTriply(getBeerDataQuery(brewer.getUrl()));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    let name,\r\n        groep,\r\n        url,\r\n        address,\r\n        type,\r\n        categorie,\r\n        jaarproduktie,\r\n        provincie;\r\n\r\n    res = res.results.bindings;\r\n\r\n    res.forEach((res) => {\r\n        let pred = res.pred.value;\r\n        let value = res.obj.value;\r\n\r\n        if (pred === 'https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/groep') {\r\n            groep = value;\r\n        } else if (pred === \"http://schema.org/address\") {\r\n            address = value;\r\n        } else if (pred === \"http://schema.org/url\") {\r\n            url = value;\r\n        } else if (pred === \"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\") {\r\n            type = value;\r\n        } else if (pred === \"http://www.w3.org/2000/01/rdf-schema#label\") {\r\n            name = value;\r\n        } else if (pred === \"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/categorie\") {\r\n            categorie = value;\r\n        } else if (pred === \"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/jaarproduktie\") {\r\n            jaarproduktie = value;\r\n        } else if (pred === \"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/provincie\") {\r\n            provincie = value;\r\n        } else if (pred === \"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/address\") {\r\n            if (!address) {\r\n                address = value;\r\n            }\r\n        }\r\n    });\r\n\r\n    brewer.loadInBrewerInformation(name,\r\n        groep,\r\n        url,\r\n        address,\r\n        type,\r\n        categorie,\r\n        jaarproduktie,\r\n        provincie);\r\n\r\n    getAddress(brewer);\r\n}\r\n\r\nasync function getAddress(brewer) {\r\n    let res = await queryTriply(getBeerDataQuery(brewer.getAddressUrl()));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n    res = res.results.bindings;\r\n\r\n    let addressLocality,\r\n        postalCode,\r\n        streetAddress;\r\n\r\n    res.forEach((res) => {\r\n        let pred = res.pred.value;\r\n        let value = res.obj.value;\r\n\r\n        if (pred === \"http://schema.org/addressLocality\") {\r\n            addressLocality = value;\r\n        } else if (pred === \"http://schema.org/postalCode\") {\r\n            postalCode = value;\r\n        } else if (pred === \"http://schema.org/streetAddress\") {\r\n            streetAddress = value;\r\n        }\r\n    });\r\n\r\n    brewer.addAddressInformation(\r\n        addressLocality,\r\n        postalCode,\r\n        streetAddress\r\n    );\r\n}\r\n\r\nasync function getBrewerBeers(brewer) {\r\n    let res = await queryTriply(getBrewerBeersQuery(brewer.getUrl()));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    let beers = makeBeerList(res);\r\n    brewer.addBeers(beers);\r\n}\r\n\r\nexport async function fetchBeerData(beer) {\r\n    let res = await queryTriply(getBeerDataQuery(beer.getUrl()));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    let results = res.results.bindings;\r\n    let type,\r\n        label,\r\n        description,\r\n        alcoholpercentage,\r\n        style,\r\n        minSchenkTemperatuur,\r\n        stamwortgehalte,\r\n        maxSchenkTemperatuur,\r\n        depiction;\r\n\r\n    results.forEach(res => {\r\n        let obj = res.pred.value;\r\n        let value = res.obj.value;\r\n\r\n        if (\"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\" === obj) {\r\n            type = value;\r\n        } else if (\"http://www.w3.org/2000/01/rdf-schema#label\" === obj) {\r\n            label = value;\r\n        } else if (\"http://purl.org/dc/terms/description\" === obj) {\r\n            description = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/alcoholpercentage\" === obj) {\r\n            alcoholpercentage = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/maxSchenkTemperatuur\" === obj) {\r\n            maxSchenkTemperatuur = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/minSchenkTemperatuur\" === obj) {\r\n            minSchenkTemperatuur = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/stamwortgehalte\" === obj) {\r\n            stamwortgehalte = value;\r\n        } else if (\"https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/style\" === obj) {\r\n            style = value;\r\n        } else if (\"http://xmlns.com/foaf/0.1/depiction\" === obj) {\r\n            depiction = value;\r\n        }\r\n    });\r\n\r\n    beer.updateInformation(type,\r\n        label,\r\n        description,\r\n        alcoholpercentage,\r\n        style,\r\n        minSchenkTemperatuur,\r\n        stamwortgehalte,\r\n        maxSchenkTemperatuur,\r\n        depiction);\r\n}\r\n\r\nfunction makeBeerList(data) {\r\n    let beers = [];\r\n\r\n    data = data.results.bindings;\r\n    data.forEach(res => {\r\n        beers.push(new Beer(res.blyat.value, res.name.value, res.brewer.value));\r\n    });\r\n\r\n    return beers;\r\n}\r\n\r\nasync function queryTriply(query) {\r\n    return await fetch(\"https://api.labs.kadaster.nl/datasets/dbeerpedia/dbeerpedia/services/dbeerpedia/sparql\", {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-query',\r\n            'Accept': 'application/sparql-results+json'\r\n        },\r\n        body: query\r\n    });\r\n}\r\n\r\nfunction getBrewerBeersQuery(brewerUrl){\r\n    return `\r\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n    PREFIX vocab: <https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/>\r\n\r\n    SELECT * WHERE {\r\n        ?blyat vocab:brewedby <${brewerUrl}>;\r\n        vocab:beerName ?name;\r\n        vocab:brewedby ?brewer.\r\n    }`;\r\n}\r\n\r\n\r\nfunction getBeerQuery(name) {\r\n    return `\r\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX vocab: <https://data.labs.kadaster.nl/dbeerpedia/dbeerpedia/vocab/>\r\n            \r\n            SELECT distinct ?blyat ?name ?brewer WHERE {\r\n              ?blyat a vocab:Beer;\r\n              vocab:beerName ?name;\r\n              vocab:brewedby ?brewer.\r\n              \r\n              FILTER(regex(?name, \"${name}\", \"i\"))\r\n            } limit 200\r\n`\r\n}\r\n\r\nfunction getBeerDataQuery(url) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n        \r\n        SELECT * WHERE {\r\n            <${url}> ?pred ?obj .\r\n        }\r\n`;\r\n}","import Observable from \"./Observable\";\r\n\r\nclass InboxMessage extends Observable{\r\n    constructor(uri){\r\n        super();\r\n        this._uri = uri;\r\n        this._type = undefined;\r\n        this._from = undefined;\r\n        this._desc = undefined;\r\n        this._location = undefined;\r\n        this._groupName = undefined;\r\n    }\r\n\r\n    setContents(type, from, desc, location, groupName){\r\n        this._type = type;\r\n        this._from = from;\r\n        this._desc = desc;\r\n        this._location = location;\r\n        this._groupName = groupName;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUri(){\r\n        return this._uri;\r\n    }\r\n\r\n    getFrom(){\r\n        return this._from;\r\n    }\r\n\r\n    getType(){\r\n        return this._type;\r\n    }\r\n\r\n    getDesc(){\r\n        return this._desc;\r\n    }\r\n\r\n    getLocation(){\r\n        return this._location;\r\n    }\r\n\r\n    getGroupName(){\r\n        return this._groupName;\r\n    }\r\n}\r\n\r\nexport default InboxMessage;","import {getAllUserCheckIns, getUserFile, loadFriendData, postSolidFile, putSolidFile} from \"./SolidMethods\";\r\n\r\nimport * as SolidTemplates from './rdf/SolidTtlTemplates';\r\nimport {buildSolidCommunicator} from './solidCommunicatorInits/SolidCommunicatorBuilder'\r\nimport {preApplicationHandelings} from './solidCommunicatorInits/PreApplicationHandelings'\r\n\r\nimport Beer from '../model/HolderComponents/Beer'\r\nimport BeerCheckIn from '../model/HolderComponents/CheckIn'\r\n\r\nimport * as fileClient from 'solid-file-client';\r\nimport * as rdfLib from 'rdflib';\r\n\r\nimport * as kadasterLabsComm from './DataLavaKadaster/DataLabsKadasterComm';\r\n\r\nimport {\r\n    APPDATA_FILE,\r\n    APPLICATION_INVITAION_DESC,\r\n    APPLICATION_INVITAION_NAME,\r\n    BEERCHECKINFILENAME,\r\n    BEERDRINKERFOLDER,\r\n    BEERREVIEWFILENAME,\r\n    CHECKIN_FOLDER,\r\n    CHECKIN_INDEX_FILE,\r\n    CHECKIN_INDEX_NAME,\r\n    FRIENDS_FILE,\r\n    FRIENDSHIPREQUEST_ACCEPTED_DESC,\r\n    FRIENDSHIPREQUEST_ACCEPTED_NAME,\r\n    FRIENDSHIPREQUEST_DECLINED_DESC,\r\n    FRIENDSHIPREQUEST_DECLINED_NAME,\r\n    FRIENDSSHIPREQUEST_DESC,\r\n    FRIENDSSHIPREQUEST_NAME,\r\n    GROUP_DATA_FILE,\r\n    GROUP_DATA_FILENAME,\r\n    GROUPFOLDER,\r\n    GROUPINVITATION_DESC,\r\n    GROUPINVITATION_NAME,\r\n    INBOX_FOLDER\r\n} from \"./rdf/Constants\";\r\nimport {DBPEDIA, FOAF, RDF, SCHEMA, SOLID, SOLIDLINKEDBEER, VCARD} from \"./rdf/Prefixes\";\r\nimport Friend from \"../model/HolderComponents/Friend\";\r\nimport Group from \"../model/HolderComponents/Group\";\r\nimport InboxMessage from \"../model/HolderComponents/InboxMessage\";\r\n\r\nclass SolidCommunicator {\r\n    /**\r\n     * Build the solid communicator\r\n     * @param {*} modelHolder\r\n     */\r\n    static async build(modelHolder) {\r\n        let solidCommunicator = new SolidCommunicator(modelHolder);\r\n\r\n        await buildSolidCommunicator(modelHolder, solidCommunicator);\r\n\r\n        //make new solidCommunicator\r\n        return solidCommunicator;\r\n    }\r\n\r\n    constructor(modelHolder) {\r\n        this._modelHolder = modelHolder;\r\n        this._user = modelHolder.getUser();\r\n    }\r\n\r\n    loadInFriendsStore(friendGroup, friendsRequestedGroup, friendsStore) {\r\n        this._friendsStore = friendsStore;\r\n        this._friendGroup = friendGroup;\r\n        this._friendsRequestedGroup = friendsRequestedGroup;\r\n\r\n        preApplicationHandelings(this._user.getBeerDrinkerFolder(), friendGroup, friendsRequestedGroup, friendsStore, this._modelHolder);\r\n    }\r\n\r\n    loadInAppStore(store, blankNode) {\r\n        this._appStore = store;\r\n        this._blankNodeAppStore = blankNode;\r\n    }\r\n\r\n    setFileLocations() {\r\n        this._beerDrinkerFolder = this._user.getBeerDrinkerFolder();\r\n        this._checkInFolder = this._beerDrinkerFolder + CHECKIN_FOLDER;\r\n        this._appStoreLocation = this._beerDrinkerFolder + APPDATA_FILE;\r\n    }\r\n\r\n    /**\r\n     * Get an user file\r\n     * @param {*} url\r\n     */\r\n    async getUserFile(url) {\r\n        return await getUserFile(url);\r\n    }\r\n\r\n    /**\r\n     * Get all content from the inbox.\r\n     * @returns {Promise<[]>}\r\n     */\r\n    async getInboxContents() {\r\n        let inbox = this._user.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n        let res = await fileClient.readFolder(inbox);\r\n        let files = [];\r\n\r\n        for (let index = 0; index < res.files.length; index++) {\r\n            let file = new InboxMessage(res.files[index].url);\r\n            this.loadFileContents(file);\r\n            files.push(file);\r\n        }\r\n\r\n        this._modelHolder.setInboxMessages(files);\r\n    }\r\n\r\n    async loadFileContents(file) {\r\n        let url = file.getUri();\r\n        let graph = rdfLib.graph();\r\n        let fileTTL = await fileClient.readFile(url);\r\n\r\n        await rdfLib.parse(fileTTL, graph, url, \"text/turtle\");\r\n\r\n        let blanknode = graph.any(undefined, RDF('type'));\r\n\r\n        let type = graph.any(blanknode, RDF('type'));\r\n        let description = graph.any(blanknode, SOLIDLINKEDBEER('description'));\r\n        let from = graph.any(blanknode, SOLIDLINKEDBEER('from'));\r\n        let location = graph.any(blanknode, SOLIDLINKEDBEER('location'));\r\n        let groupName = graph.any(blanknode, SOLIDLINKEDBEER('groupName'));\r\n\r\n        file.setContents(\r\n            type.value.replace(/.*#/, \"\"),\r\n            from.value,\r\n            description.value,\r\n            location ? location.value : undefined,\r\n            groupName ? groupName.value : undefined\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Check if user is already friend\r\n     * @param {*} url\r\n     */\r\n    checkIfUserIsFriend(url) {\r\n        let query1 = this._friendsStore.match(this._friendsRequestedGroup, VCARD('hasMember'), rdfLib.sym(url));\r\n        let query2 = this._friendsStore.match(this._friendGroup, VCARD('hasMember'), rdfLib.sym(url));\r\n\r\n        if (query1.length !== 0 || query2.length !== 0) {\r\n            console.log(\"already friend\");\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Send invitation to user for the application\r\n     * @param {*} urlInvitee\r\n     * @param {*} inbox\r\n     */\r\n    async inviteUserToSolib(urlInvitee, inbox) {\r\n        //name for file\r\n        let fileName = APPLICATION_INVITAION_NAME + this._user.getName();\r\n        let invitation = this._user.getName() + APPLICATION_INVITAION_DESC;\r\n\r\n        //name of the location where it will be posted\r\n        let postLocation = inbox + fileName + \".ttl\";\r\n\r\n        //get ttl file for invitation\r\n        let invitationTTL = SolidTemplates.getInviteToLSBInvitation(urlInvitee, invitation, postLocation, this._user.getUri());\r\n\r\n        await postSolidFile(inbox, fileName, invitationTTL);\r\n    }\r\n\r\n    /**\r\n     * Sends a friendship request to user\r\n     * @param {*} urlInvitee\r\n     * @param {*} appLocation\r\n     */\r\n    async sendFriendshipRequest(urlInvitee, appLocation) {\r\n        if (!this.checkIfUserIsFriend(urlInvitee)) {\r\n            //get url without https and profile card.me\r\n            let fileNameName = this._user.getName();\r\n\r\n            //make a file name\r\n            let fileName = FRIENDSSHIPREQUEST_NAME + fileNameName;\r\n\r\n            //the invitation\r\n            let invitation = (this._user.getName() ? this._user.getName() : this._user.getUri()) + FRIENDSSHIPREQUEST_DESC;\r\n\r\n            //locations to be posted\r\n            let location = appLocation + BEERDRINKERFOLDER + INBOX_FOLDER;\r\n            let postLocation = location + fileName + \".ttl\";\r\n\r\n            //the ttl file\r\n            let invitationTTL = SolidTemplates.getFriendShipRequest(urlInvitee, invitation, postLocation, this._user.getUri());\r\n\r\n            //add friend to friend request send\r\n            let friendsFile = this._user.getBeerDrinkerFolder() + FRIENDS_FILE;\r\n            this._friendsStore.add(this._friendsRequestedGroup, VCARD('hasMember'), rdfLib.sym(urlInvitee));\r\n            let friendsTTL = await rdfLib.serialize(undefined, this._friendsStore, friendsFile, 'text/turtle');\r\n\r\n            // send files\r\n            await postSolidFile(location, fileName, invitationTTL);\r\n            await putSolidFile(friendsFile, friendsTTL);\r\n        }\r\n    }\r\n\r\n    async declineFriendSchipRequest(message) {\r\n        //send a declined friendship request to other pod\r\n        let result = await this.getUserFile(message.getFrom());\r\n        let inbox = result.appLocation + BEERDRINKERFOLDER + INBOX_FOLDER;\r\n\r\n        //get file name and description string\r\n        let fileNameName = this._user.getName();\r\n        let fileName = FRIENDSHIPREQUEST_DECLINED_NAME + fileNameName;\r\n        let invitation = (this._user.getName() ? this._user.getName() : this._user.getUri()) + FRIENDSHIPREQUEST_DECLINED_DESC;\r\n\r\n        //get the location is will be posted to\r\n        let postLocation = inbox + fileName + \".ttl\";\r\n\r\n        //make a text file and send\r\n        let declineTTL = SolidTemplates.getDeclineFriendshipRequest(message.getFrom(), invitation, postLocation, this._user.getUri());\r\n\r\n        //delete friendship request from own pod\r\n        await postSolidFile(inbox, fileName, declineTTL);\r\n        await fileClient.deleteFile(message.getUri());\r\n    }\r\n\r\n    async acceptFriendSchipRequest(message) {\r\n        //get user\r\n        let friend = new Friend(message.getFrom());\r\n        await loadFriendData(friend);\r\n\r\n        let inbox = friend.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n\r\n        //add user as friend\r\n        let friendsFile = this._user.getBeerDrinkerFolder() + FRIENDS_FILE;\r\n        this._friendsStore.add(this._friendGroup, VCARD('hasMember'), rdfLib.sym(message.getFrom()));\r\n        let friendsTTL = await rdfLib.serialize(undefined, this._friendsStore, friendsFile, 'text/turtle');\r\n\r\n        //get file name and description string\r\n        let fileNameName = this._user.getName();\r\n        let fileName = FRIENDSHIPREQUEST_ACCEPTED_NAME + fileNameName;\r\n        let description = this._user.getName() + FRIENDSHIPREQUEST_ACCEPTED_DESC;\r\n\r\n        //get the location is will be posted to\r\n        let postLocation = inbox + fileName + \".ttl\";\r\n\r\n        //make a text file and send\r\n        let acceptedTTL = SolidTemplates.getAcceptFriendshipRequest(message.getFrom(), description, postLocation, this._user.getUri());\r\n\r\n        //send friendship accepted to user\r\n        await postSolidFile(inbox, fileName, acceptedTTL);\r\n        //delete friendship request from own pod\r\n        await fileClient.deleteFile(message.getUri());\r\n        //update FriendsFile\r\n        await putSolidFile(friendsFile, friendsTTL);\r\n\r\n        this._modelHolder.addFriend(friend);\r\n    }\r\n\r\n    async fetchBeerList(searchQuery) {\r\n        let res = await kadasterLabsComm.getBeerData(searchQuery);\r\n        this._modelHolder.setBeers(res);\r\n    }\r\n\r\n    async fetchBeerData(beer) {\r\n        await kadasterLabsComm.fetchBeerData(beer);\r\n    }\r\n\r\n    async postBeerReview(hasReview, beer, rating, review, groups) {\r\n        let ttlFile;\r\n\r\n        let date = new Date();\r\n\r\n        let checkingFolder = this._checkInFolder;\r\n        let filename;\r\n        let postLocation;\r\n        let beerpoints = 0;\r\n\r\n        if (hasReview) {\r\n            filename = date.getTime() + BEERREVIEWFILENAME;\r\n            postLocation = checkingFolder + filename + \".ttl\";\r\n\r\n            ttlFile = SolidTemplates.beerReviewInTemplate(postLocation,\r\n                this._user.getName(),\r\n                this._user.getUri(),\r\n                beer.getUrl(),\r\n                beer.getName(),\r\n                date,\r\n                rating,\r\n                review);\r\n\r\n            beerpoints = 10;\r\n        } else {\r\n            filename = date.getTime() + BEERCHECKINFILENAME;\r\n            postLocation = checkingFolder + filename + \".ttl\";\r\n            ttlFile = SolidTemplates.beerCheckInTemplate(postLocation,\r\n                this._user.getName(),\r\n                this._user.getUri(),\r\n                beer.getUrl(),\r\n                beer.getName(),\r\n                date);\r\n\r\n            beerpoints = 5;\r\n        }\r\n\r\n        groups.forEach(res => {\r\n            if (res === this._user.getCheckInLocation()) {\r\n                this._modelHolder.getCheckInHandler().addBeerPoints(beerpoints);\r\n                this.sendBeerPoints(beerpoints);\r\n\r\n                if (hasReview) {\r\n                    this._modelHolder.getCheckInHandler().addBeerReviewToAmount();\r\n                } else {\r\n                    this._modelHolder.getCheckInHandler().addToCheckInsAmount();\r\n                }\r\n            }else{\r\n                let group = this._modelHolder.getGroupFromCheckInLocationUri(res);\r\n                fileClient.fetch(group.getGroupCheckInIndex()).then(checkInIndex => {\r\n                    let graph = rdfLib.graph();\r\n                    rdfLib.parse(checkInIndex, graph, group.getGroupCheckInIndex(), \"text/turtle\");\r\n                    let userNamedNode = graph.any(rdfLib.sym(this._user.getUri()), SOLIDLINKEDBEER('points'));\r\n                    userNamedNode.value = parseInt(userNamedNode.value) + beerpoints + \"\";\r\n\r\n                    let ttlFile = rdfLib.serialize(undefined, graph, group.getGroupCheckInIndex(), 'text/turtle');\r\n                    putSolidFile(group.getGroupCheckInIndex(),ttlFile);\r\n                })\r\n            }\r\n\r\n            postSolidFile(res, filename, ttlFile);\r\n        });\r\n\r\n        let checkIn = new BeerCheckIn(postLocation);\r\n        checkIn.loadInAttributes(\r\n            this._user.getUri(),\r\n            this._user.getName(),\r\n            beer.getUrl(),\r\n            beer.getName(),\r\n            date.toString(),\r\n            hasReview ? rating : undefined,\r\n            hasReview ? review : undefined);\r\n\r\n        groups.forEach(res => {\r\n            let group = this._modelHolder.getGroupFromCheckInLocationUri(res);\r\n\r\n            if(group !== undefined){\r\n                group.getCheckInHandler().addUserCheckIns([checkIn]);\r\n            }else{\r\n                console.log(res);\r\n            }\r\n        });\r\n        this._modelHolder.getCheckInHandler().addUserCheckIns([checkIn]);\r\n    }\r\n\r\n    async sendBeerPoints(amount) {\r\n        let beerPointsQueryNow = this._appStore.any(this._blankNodeAppStore, SOLIDLINKEDBEER(\"points\"));\r\n        beerPointsQueryNow.value = parseInt(beerPointsQueryNow.value) + amount + \"\";\r\n\r\n        let appTTL = await rdfLib.serialize(undefined, this._appStore, this._appStoreLocation, 'text/turtle');\r\n        putSolidFile(this._appStoreLocation, appTTL);\r\n    }\r\n\r\n    async getBrewerInformation(brewer) {\r\n        await kadasterLabsComm.getBrewerData(brewer);\r\n    }\r\n\r\n    async getAllCheckInsLoggedInUser() {\r\n        if (!this._modelHolder.getCheckInHandler().getAllCheckInsGotten()) {\r\n            this._modelHolder.getCheckInHandler().setUserCheckIns(\r\n                await getAllUserCheckIns(\r\n                    this._modelHolder.getUser().getBeerDrinkerFolder()\r\n                )\r\n            );\r\n\r\n            this._modelHolder.getCheckInHandler().setAllCheckInsGotten(true);\r\n        }\r\n    }\r\n\r\n    async makeNewGroup(beerdrinkerUrl, groupName, friends) {\r\n        let groupUrl = beerdrinkerUrl + GROUPFOLDER + groupName + \"/\";\r\n        let groupUrlAcl = groupUrl + \".acl\";\r\n        let appdataName = groupUrl + GROUP_DATA_FILE;\r\n\r\n        //maak groep folder aan\r\n        await fileClient.createFolder(groupUrl);\r\n\r\n        //maak appdata file aan\r\n        let body = SolidTemplates.getGroupAppDataTTL(appdataName, friends, this._user.getUri(), groupName);\r\n        await postSolidFile(groupUrl, GROUP_DATA_FILENAME, body);\r\n\r\n        //maak checkins folder aan\r\n        let checkins = groupUrl + CHECKIN_FOLDER;\r\n        let checkInsAcl = checkins + \".acl\";\r\n\r\n        await fileClient.createFolder(checkins);\r\n        let groupCheckInAclTtl = SolidTemplates.getGroupCheckInsAclTTL(checkins, appdataName, checkInsAcl, this._user.getUri());\r\n        await putSolidFile(checkInsAcl, groupCheckInAclTtl);\r\n\r\n        //zet de acl van de groups folder online\r\n        let groupAclTtl = SolidTemplates.getGroupAclTTL(groupUrl, appdataName, groupUrlAcl, this._user.getUri());\r\n        await putSolidFile(groupUrlAcl, groupAclTtl);\r\n\r\n        //make checkins index\r\n        let checkInsIndex = groupUrl + CHECKIN_INDEX_FILE;\r\n        let checkInsIndexAcl = checkInsIndex + \".acl\";\r\n        let checkInIndexBody = SolidTemplates.getCheckInIndexBody(checkInsIndex, friends, this._user);\r\n\r\n        await postSolidFile(groupUrl, CHECKIN_INDEX_NAME, checkInIndexBody);\r\n\r\n        let aclBody = SolidTemplates.groupCheckInIndexAcl(\r\n            checkInsIndex,\r\n            appdataName,\r\n            checkInsIndexAcl,\r\n            this._user.getUri());\r\n        await putSolidFile(checkInsIndexAcl, aclBody);\r\n\r\n        //stuur de uitnodigingen naar de vrienden\r\n        friends.forEach(res => {\r\n            let fileName = GROUPINVITATION_NAME + groupName;\r\n            let desc = GROUPINVITATION_DESC + groupName + \"?\";\r\n\r\n            let location = res.getBeerDrinkerFolder() + INBOX_FOLDER;\r\n            let postLocation = location + fileName + \".ttl\";\r\n\r\n            let inv = SolidTemplates.getGroupInvitaion(res.getUri(),\r\n                desc,\r\n                postLocation,\r\n                this._user.getUri(),\r\n                groupUrl,\r\n                groupName\r\n            );\r\n\r\n            postSolidFile(location, fileName, inv);\r\n        });\r\n\r\n        let group = new Group(groupUrl);\r\n        group.setProperties(groupName, checkins, appdataName, this._user.getUri(), friends.map(res => {\r\n            return res.getUri()\r\n        }));\r\n        this._modelHolder.addGroup(group);\r\n    }\r\n\r\n    async acceptGroupRequest(message) {\r\n        //see if the person is your friend\r\n        let friend = this._modelHolder.getFriendFromUri(message.getFrom());\r\n\r\n        //TODO maak een ttl file voor het accepteren en verzend deze naar de persoon.\r\n\r\n        //maak een ttl file om het in eigen groep folder te zetten\r\n        let folderLocation = this._user.getBeerDrinkerFolder() + GROUPFOLDER;\r\n        let postlocation = folderLocation + message.getGroupName();\r\n        let groupLocation = message.getLocation();\r\n        let ownGroupBody = SolidTemplates.getGroupOtherPersonTTL(groupLocation, postlocation);\r\n\r\n        await postSolidFile(folderLocation, message.getGroupName(), ownGroupBody);\r\n\r\n        //verwijder het bericht\r\n        await fileClient.deleteFile(message.getUri());\r\n    }\r\n\r\n    async declineGroupRequest(message) {\r\n        //verwijder het bericht\r\n        await fileClient.deleteFile(message.getUri());\r\n\r\n        //TODO decline stuur het door, zodat je eruit wordt getrapt.\r\n    }\r\n}\r\n\r\nexport default SolidCommunicator;","import React from 'react';\r\nimport './css/NavBar.scss'\r\n\r\nclass NavBar extends React.Component {\r\n    onInput = (e) => {\r\n        this.props.onBeerSearch(e.target.value);\r\n    };\r\n\r\n    render() {\r\n        let cldn = React.Children.toArray(this.props.children);\r\n        let input;\r\n\r\n        cldn = cldn.map((child, index) => {\r\n            return (\r\n                <li key={child.props.to}>\r\n                    {child}\r\n                </li>\r\n            )\r\n        });\r\n\r\n        if (this.props.loggedIn) {\r\n            input = (<li key={\"input\"} id=\"navBarSearch\">\r\n                <input placeholder=\"search for beers\" value={this.props.searchQuery} onChange={this.onInput}/>\r\n                <input type=\"button\" value=\"x\" onClick={this.props.onSearchBarButtonClick}/>\r\n            </li>);\r\n\r\n            cldn.splice(cldn.length - 1, 0, input);\r\n        }\r\n\r\n        return (\r\n            <nav>\r\n                <ul id=\"navBarUL\">\r\n                    {cldn}\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport Knipsel from '../../assets/Knipsel.png'\r\nimport '../css/Home.scss'\r\n\r\nclass Home extends React.Component{\r\n    render(){\r\n        return(\r\n            <section className = \"home\">\r\n                <h3>\r\n                    This application works with Solid.<br/>\r\n                    Log in with your pod to use the application. If you do not have an pod, you can get one&nbsp;\r\n                    <a href = \"https://solid.inrupt.com/get-a-solid-pod\">here</a> for free\r\n                </h3>\r\n                <br/>\r\n                <img src= {Knipsel} alt = \"Inrupt logo\"/>\r\n                <br/>\r\n                <h3 style = {{color : \"red\"}}>\r\n                    Carefull, This application is still in development and might mess up your pod.\r\n                    if you want to test it out, I recommend you make a new pod that you can delete\r\n                </h3>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport '../css/LogIn.scss'\r\n\r\nimport solidAuth from 'solid-auth-client'\r\n\r\nclass LogIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loginAsBrewer: false\r\n        }\r\n    }\r\n\r\n    onChangeCheckBox = () => {\r\n        this.setState({\r\n            loginAsBrewer: !this.state.loginAsBrewer\r\n        })\r\n    }\r\n\r\n    onButtonClick = () => {\r\n        let popupUri = './popup.html';\r\n        solidAuth.popupLogin({ popupUri }).then(() => {\r\n            solidAuth.currentSession().then(session => {\r\n                this.props.onLoggedIn();\r\n                this.props.history.push(`/profile`)\r\n            })\r\n        })\r\n    }\r\n\r\n    onRegisterClick = () => {\r\n        window.location.assign('https://inrupt.net/');\r\n    }\r\n\r\n    render() {\r\n        let typeLogIn;\r\n        let loginButton;\r\n\r\n\r\n        if (this.state.loginAsBrewer) {\r\n            typeLogIn = <h1>Brewer</h1>\r\n            loginButton = (<button onClick = {this.onButtonClick} disabled={true}>In progress</button>);\r\n        } else {\r\n            typeLogIn = <h1>Beer Drinker</h1>\r\n            loginButton = (<button onClick = {this.onButtonClick}>Log in</button>);\r\n        }\r\n\r\n        let activeClass = this.state.loginAsBrewer ? \"logInBrewer\" : \"logInBeerDrinker\";\r\n\r\n        return (\r\n            <section className={[\"logInScreen \", activeClass].join(' ')}>\r\n                <div className=\"loginField\">\r\n                    {typeLogIn}\r\n                    <label className=\"switch\">\r\n                        <input type=\"checkbox\" onChange={this.onChangeCheckBox} />\r\n                        <span className=\"slider\"></span>\r\n                    </label>\r\n\r\n                    <br />\r\n                    <div>\r\n                        <button onClick = {this.onRegisterClick}>Register</button>\r\n                        {loginButton}\r\n                    </div>\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LogIn;\r\n","import React from 'react';\r\nimport Select from \"react-select\";\r\nimport \"./css/GroupMakerOverlay.scss\"\r\n\r\nclass GroupMakerOverlay extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onDivClick = (e) => {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={this.props.onOverLayCancelClick} id=\"overlayGroup\" style={this.props.overlay ? { display: \"block\" } : { display: \"none\" }}>\r\n                <div id=\"textGroup\" onClick={this.onDivClick}>\r\n                    <h5>\r\n                        makeGroup\r\n                    </h5>\r\n                    <span>group name</span> : <input value={this.props.groupName} onChange={this.props.onChange}/>\r\n                    <button onClick={this.props.makeGroup}>make new group</button>\r\n                    <Select\r\n                        isMulti = {true}\r\n                        options={this.props.valuesSelector}\r\n                        value = {this.props.selectedFriends}\r\n                        onChange = {this.props.onSelect}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GroupMakerOverlay;","import React from 'react';\r\nimport \"../css/Groups.scss\";\r\nimport GroupMakerOverlay from \"../../component/GroupMakerOverlay\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass Groups extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            overlay: false,\r\n            groupName: \"b\",\r\n            selectedFriends: []\r\n        }\r\n    }\r\n\r\n    onMakeGroupClick = () => {\r\n        this.setState({\r\n            overlay: true\r\n        });\r\n    };\r\n\r\n    onOverLayCancelClick = () => {\r\n        this.setState({\r\n            overlay: false\r\n        });\r\n    };\r\n\r\n    makeGroup = () => {\r\n        if (this.state.groupName !== \"\" && !(/\\s/.test(this.state.groupName))) {\r\n            let beerDrinkerFolder = this.props.modelHolder.getUser().getBeerDrinkerFolder();\r\n            let friends = this.state.selectedFriends.map(res => {\r\n                return res.value;\r\n            });\r\n\r\n            this.props.solidCommunicator.makeNewGroup(beerDrinkerFolder, this.state.groupName, friends).then(res => {\r\n            });\r\n\r\n            this.setState({\r\n                overlay: false,\r\n                selectedFriends: [],\r\n                groupName: \"\"\r\n            });\r\n        }\r\n    };\r\n\r\n    onSelectFriend = (e) => {\r\n        this.setState({\r\n            selectedFriends: e\r\n        })\r\n    };\r\n\r\n    onGroupNameChange = (e) => {\r\n        let text = e.target.value;\r\n        this.setState({\r\n            groupName: text\r\n        })\r\n    };\r\n\r\n    render() {\r\n        let friendsComs = this.props.modelHolder.getFriends().map(res => {\r\n            return {value: res, label: res.getName()}\r\n        });\r\n\r\n        let groups = this.props.modelHolder.getGroups().map((res, index) => {\r\n            return (\r\n                <li key={res.getUrl() + res.getLeader()}>\r\n                    <Link to={`/groups/${index}`}>{res.getName()}</Link>\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <section id=\"groupsPage\">\r\n                <h1>\r\n                    Groups\r\n                </h1>\r\n                <div className=\"makeNewGroupDiv\">\r\n                    <button className=\"makeNewGroup\" onClick={this.onMakeGroupClick}>makeNewGroup</button>\r\n                </div>\r\n                <GroupMakerOverlay\r\n                    overlay={this.state.overlay}\r\n                    onOverLayCancelClick={this.onOverLayCancelClick}\r\n                    onAddReviewClick={this.onAddReviewClick}\r\n                    addReview={this.state.addReview}\r\n                    checkInBeer={this.onPostBeerReview}\r\n                    onChange={this.onGroupNameChange}\r\n                    groupName={this.state.groupName}\r\n                    valuesSelector={friendsComs}\r\n                    selectedFriends={this.state.selectedFriends}\r\n                    onSelect={this.onSelectFriend}\r\n                    makeGroup={this.makeGroup}\r\n                />\r\n\r\n                <ul>\r\n                    {groups}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Groups;\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport '../css/Friends.scss'\r\n\r\nclass Friends extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            inputText : \"\",\r\n            error : undefined\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            inputText: e.target.value\r\n        })\r\n    };\r\n\r\n    checkIfUser = () => {\r\n        let text = this.state.inputText.toUpperCase();\r\n        let friend = this.props.modelHolder.getUser();\r\n\r\n        //regular uro\r\n        let friendUri = friend.getUri().toUpperCase();\r\n\r\n        //uri without the hash\r\n        let friendUri2 = friend.getUri().toUpperCase().replace(\"#ME\", \"\").replace(\"#I\", \"\");\r\n\r\n        //uri without https\r\n        let friendUri3 = friendUri.replace(\"HTTPS://\", \"\");\r\n        let friendUri4 = friendUri2.replace(\"HTTPS://\", \"\");\r\n\r\n        //check if text mathes any of these thing\r\n        return  friendUri === text || friendUri2 === text || friendUri3 === text || friendUri4 === text;\r\n    }\r\n\r\n    onButtonClick = async () => {\r\n        let friends = this.props.modelHolder.getFriends();\r\n\r\n        friends = friends.filter(friend => {\r\n            let text = this.state.inputText.toUpperCase();\r\n            //regular uro\r\n            let friendUri = friend.getUri().toUpperCase();\r\n\r\n            //uri without the hash\r\n            let friendUri2 = friend.getUri().toUpperCase().replace(\"#ME\", \"\").replace(\"#I\", \"\");\r\n\r\n            //uri without https\r\n            let friendUri3 = friendUri.replace(\"HTTPS://\", \"\");\r\n            let friendUri4 = friendUri2.replace(\"HTTPS://\", \"\");\r\n\r\n            //check if text mathes any of these thing\r\n            return  friendUri === text || friendUri2 === text || friendUri3 === text || friendUri4 === text;\r\n        });\r\n\r\n        if (friends.length !== 0){\r\n            //this is a mess and lazy programming but keep it in because i do not have time to change it.\r\n            let index = this.props.modelHolder.getFriends().map((profile, index) => {\r\n                if(friends[0].getUri() === profile.getUri()){\r\n                    return index;\r\n                }\r\n            }).filter(index => {return index});\r\n\r\n            this.props.history.push(`/friend/${index[0]}`);\r\n        } else if(this.checkIfUser()){\r\n            this.props.history.push(\"/profile\");\r\n        }else{\r\n            try{\r\n                let result = await this.props.solidCommunicator.getUserFile(this.state.inputText);\r\n\r\n                    this.props.history.push({\r\n                        pathname:\"/user\",\r\n                        state:{\r\n                            result: result\r\n                        }\r\n                    });\r\n            }catch(e){\r\n                this.setState({error : e.message})\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let friends = this.props.modelHolder.getFriends();\r\n        let text = this.state.inputText.toUpperCase();\r\n\r\n        let friendsElements = friends.map((friend, index) => {\r\n            if(friend.getUri().toUpperCase().includes(text) || (friend.getName() && friend.getName().toUpperCase().includes(text))) {\r\n                return <li key={friend.getUri()}>\r\n                    <Link to={`/friend/${index}`}>\r\n                        <p>\r\n                            {friend.getName() ? friend.getName() : friend.getUri()}\r\n                        </p>\r\n                    </Link>\r\n                </li>\r\n            }\r\n        });\r\n\r\n        return(\r\n            <section className = \"friends\">\r\n                <div className = \"searchFriends\">\r\n                    <h3>\r\n                        Make new friends\r\n                    </h3>\r\n                    <br/>\r\n                    <input type = \"text\" placeholder =\"https://profile.card/profile/card#me\" value = {this.state.inputText} onChange = {this.onChange}/>\r\n                    <button onClick = {this.onButtonClick}>Search on the web</button>\r\n                    <p style = {{color: \"red\"}}>{this.state.error}</p>\r\n                </div>\r\n\r\n                <div className = \"friendSection\">\r\n                    <h1>\r\n                        Friends\r\n                    </h1>\r\n                    <ul>\r\n                        {friendsElements}\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Friends;\r\n","import React from \"react\";\r\nimport \"./css/BeerCheckInComponent.scss\"\r\n\r\nclass BeerCheckInComponent extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    }\r\n\r\n    render() {\r\n        let checkIn = this.props.checkin;\r\n        let rating;\r\n        let review;\r\n        let time\r\n\r\n        if(checkIn._rating){\r\n            rating = <p>rating: {checkIn._rating}</p>\r\n        }else{\r\n            rating = <br/>;\r\n        }\r\n\r\n        if(checkIn._review){\r\n            review = <p>review: {checkIn._review}</p>\r\n        }\r\n\r\n        if(checkIn._checkInTime){\r\n            time = (<p>date: {dateToString(new Date(checkIn._checkInTime))}</p>)\r\n        }else{\r\n            time = <br/>;\r\n        }\r\n\r\n        return (\r\n            <li className= \"BeerCheckInComponent\">\r\n                <h5>\r\n                    {checkIn._userName ? checkIn._userName : checkIn._userWebId} is drinking a {checkIn._beerName}\r\n                </h5>\r\n                {rating}\r\n                {review}\r\n                {time}\r\n            </li>)\r\n    }\r\n}\r\n\r\nfunction dateToString(date){\r\n    var dd = String(date.getDate()).padStart(2, '0');\r\n    var mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    var yyyy = date.getFullYear();\r\n\r\n    return dd + '/' + mm + '/' + yyyy;\r\n}\r\n\r\nexport default BeerCheckInComponent;","import React from 'react';\r\nimport '../css/Profile.scss'\r\nimport profilePic from '../../assets/profilePic.png'\r\nimport {Link} from \"react-router-dom\";\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\n\r\nclass FriendPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: this.props.modelHolder.getFriendFromIndex(this.props.match.params.id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let user = this.state.user;\r\n        let imgUrl = user.getImageUrl();\r\n        let userCheckIns = user.getCheckInHandler().getUserCheckIns()\r\n        let content;\r\n\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key={checkIn._fileLocation} checkin={checkIn}/>\r\n            )\r\n        })\r\n\r\n        if (user.getStartDate()) {\r\n            content = (<div className=\"leftColumnProfile\">\r\n                <h1>\r\n                    {user.getName()}\r\n                </h1>\r\n                {/*TODO make image load faster*/}\r\n                <img src={imgUrl ? imgUrl : profilePic} alt=\"\"/>\r\n                <p>\r\n                    check-ins : {user.getCheckInHandler().getCheckInsAmount()}\r\n                </p>\r\n                <p>\r\n                    reviews : {user.getCheckInHandler().getBeerReviewsAmount()}\r\n                </p>\r\n                <p>\r\n                    Begin date : {dateToString(user.getStartDate())}\r\n                </p>\r\n                <p>\r\n                    beerbonus points : {user.getCheckInHandler().getBeerPoints()}\r\n                </p>\r\n            </div>);\r\n        }\r\n\r\n        return (\r\n            <section className=\"profileScreen\">\r\n                {content}\r\n                <div className=\"checkedInBeersProfile\">\r\n                    <h1>\r\n                        Recent activities\r\n                    </h1>\r\n                    <ul>\r\n                        {userCheckIns}\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction dateToString(date) {\r\n    var dd = String(date.getDate()).padStart(2, '0');\r\n    var mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    var yyyy = date.getFullYear();\r\n\r\n    return dd + '/' + mm + '/' + yyyy;\r\n}\r\n\r\nexport default FriendPage;","import React from 'react';\r\nimport '../css/CheckIns.scss'\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\n\r\nclass Friends extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            res : []\r\n        }\r\n\r\n        this.getAllCheckIns();\r\n    }\r\n\r\n    getAllCheckIns = () => {\r\n        this.props.solidCommunicator.getAllCheckInsLoggedInUser();\r\n    }\r\n\r\n\r\n    render(){\r\n        let userCheckIns = this.props.modelHolder.getCheckInHandler().getUserCheckIns();\r\n\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key = {checkIn._fileLocation} checkin = {checkIn}/>\r\n            )\r\n        })\r\n\r\n        return(\r\n            <section id = \"beerCheckIns\">\r\n                <h1>\r\n                    Check-Ins\r\n                </h1>\r\n                <ul>\r\n                    {userCheckIns}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Friends;\r\n","import Observable from \"./Observable\";\r\n\r\nclass Brewer extends Observable {\r\n    constructor(url) {\r\n        super();\r\n\r\n        this._ldurl = url;\r\n        this._beers = [];\r\n    }\r\n\r\n    loadInBrewerInformation(name,\r\n                            groep,\r\n                            url,\r\n                            address,\r\n                            type,\r\n                            categorie,\r\n                            jaarproduktie,\r\n                            provincie) {\r\n\r\n        this._name = name;\r\n        this._groep = groep;\r\n        this._url = url;\r\n        this._address = address;\r\n        this._type = type;\r\n        this._categorie = categorie;\r\n        this._jaarproduktie = jaarproduktie;\r\n        this._provincie = provincie;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getAddressUrl() {\r\n        return this._address;\r\n    }\r\n\r\n    addAddressInformation(addressLocality,\r\n                          postalCode,\r\n                          streetAddress) {\r\n\r\n        this._addressLocality = addressLocality;\r\n        this._postalCode = postalCode;\r\n        this._streetAddress = streetAddress;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addBeers(beers) {\r\n        this._beers = this._beers.concat(beers);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUrl() {\r\n        return this._ldurl;\r\n    }\r\n\r\n    update() {\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getGroep() {\r\n        return this._groep;\r\n    }\r\n\r\n    getAddress(){\r\n        return \"\"\r\n            + (this._streetAddress ? this._streetAddress + \", \" : \"\")\r\n            + (this._addressLocality ? this._addressLocality + \", \" : \"\" )\r\n            + (this._postalCode ? this._postalCode + \" \" : \"\");\r\n    }\r\n}\r\n\r\nexport default Brewer;","import React from 'react';\r\nimport '../css/BeerResults.scss';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport Brewer from \"../../model/HolderComponents/Brewer\";\r\n\r\nclass BeerResults extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    // componentDidMount() {\r\n    //     if(this.props.searchQuery !== \"\"){\r\n    //         this.props.solidCommunicator.fetchBeerList(this.props.searchQuery).then(res => {});\r\n    //     }else{\r\n    //         this.props.modelHolder.setBeers([]);\r\n    //     }\r\n    // }\r\n\r\n    onButtonClick= () => {\r\n        if(this.props.searchQuery !== \"\"){\r\n            this.props.solidCommunicator.fetchBeerList(this.props.searchQuery).then(res => {});\r\n        }else{\r\n            this.props.modelHolder.setBeers([]);\r\n        }\r\n    };\r\n\r\n    onLinkClick = (e) => {\r\n        this.props.modelHolder.setBeer(e);\r\n        this.props.onLinkClick();\r\n    };\r\n\r\n    render() {\r\n        let elements = this.props.modelHolder.getBeers().map((listItem , index) => {\r\n            return (\r\n                <li key={listItem.getUrl()}>\r\n                    <Link to={`/beer/${index}`}\r\n                          onClick={() => {\r\n                              this.onLinkClick(listItem)\r\n                          }}>\r\n                        {listItem.getName()}\r\n                    </Link>\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <section className=\"beerResults\">\r\n                <h1>Beer Results</h1>\r\n                <div className={\"searchScreenSearch\"}>\r\n                    <input value={this.props.searchQuery} onChange={(e) => {\r\n                        this.props.onBeerSearch(e.target.value);\r\n                    }}/>\r\n                    <button onClick={this.onButtonClick}>search</button>\r\n                </div>\r\n                <ul>\r\n                    {elements}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BeerResults;\r\n\r\n","import React from 'react';\r\nimport '../css/Profile.scss'\r\nimport profilePic from '../../assets/profilePic.png'\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\nimport {Link, Redirect, withRouter} from \"react-router-dom\";\r\n\r\nclass Profile extends React.Component{\r\n    render(){\r\n        let user = this.props.modelHolder.getUser();\r\n        let imgUrl = user.getImageUrl();\r\n        let checkInHandler = this.props.modelHolder.getCheckInHandler();\r\n        let userCheckIns = checkInHandler.getUserCheckIns();\r\n        let content;\r\n\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key = {checkIn._fileLocation} checkin = {checkIn}/>\r\n            )\r\n        });\r\n\r\n        if(user.getBeginDate()){\r\n            content = (<div className=\"leftColumnProfile\">\r\n                    <h1>\r\n                        {user.getName()}\r\n                    </h1>\r\n                    {/*TODO make image load faster*/}\r\n                    <img src = {imgUrl ? imgUrl : profilePic} alt = \"\"/>\r\n                    <p>\r\n                        check-ins : {checkInHandler.getCheckInsAmount()}\r\n                    </p>\r\n                    <p>\r\n                        reviews : {checkInHandler.getBeerReviewsAmount()}\r\n                    </p>\r\n                    <p>\r\n                        Begin date : {dateToString(user.getBeginDate())}\r\n                    </p>\r\n                    <p>\r\n                        beerbonus points : {checkInHandler.getBeerPoints()}\r\n                    </p>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <section className = \"profileScreen\">\r\n                    {content}\r\n                    <div className=\"checkedInBeersProfile\">\r\n                        <div className = \"checkinDiv\">\r\n                            <Link to=\"/checkIns\">All check ins &rarr;</Link>\r\n                        </div>\r\n                        <h1>\r\n                            Recent activities\r\n                        </h1>\r\n                            <ul>\r\n                                {userCheckIns}\r\n                            </ul>\r\n                    </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction dateToString(date){\r\n    var dd = String(date.getDate()).padStart(2, '0');\r\n    var mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    var yyyy = date.getFullYear();\r\n\r\n    return dd + '/' + mm + '/' + yyyy;\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport '../css/User.scss'\r\nimport profilePic from '../../assets/profilePic.png';\r\n\r\nclass User extends React.Component{ \r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            clicked: false,\r\n            result : this.props.location.state.result\r\n        }\r\n    }\r\n\r\n    onNotJoinedButtonClick = async () => {\r\n        let result = this.state.result;\r\n        await this.props.solidCommunicator.inviteUserToSolib(result.url, result.inbox);\r\n\r\n        this.setState(\r\n            {\r\n                clicked : true\r\n            });\r\n    }\r\n\r\n    sendFriendShipRequest = async () => {\r\n        //TODO check if friendship request is already set\r\n        let result = this.state.result;\r\n        await this.props.solidCommunicator.sendFriendshipRequest(result.url, result.appLocation);\r\n\r\n        this.setState(\r\n            {\r\n                clicked : true}\r\n            );  \r\n    }\r\n\r\n    render(){\r\n        let result = this.props.location.state.result;\r\n        let button;\r\n\r\n        if(!this.state.clicked){\r\n            if(result.appLocation){\r\n                button = (<button onClick = {this.sendFriendShipRequest}>Send friendship request</button>);\r\n            }else{\r\n                button = (<button onClick = {this.onNotJoinedButtonClick}>Invite to Social linked beer</button>);\r\n            }\r\n        }else{\r\n            button = (<button disabled= {true}>Request send</button>)\r\n        }\r\n\r\n        return(\r\n            <section className = \"userPageNew\">\r\n                <div className = \"userPageHead\">              \r\n                    <h1>\r\n                        {result.name}\r\n                    </h1>\r\n                    <img src = {result.imageUrl ? result.imageUrl : profilePic} alt = \"\"/>\r\n                </div>\r\n                <div className = \"userButtonDiv\">\r\n                    {button}\r\n                </div>\r\n                <div className = \"userInfo\">\r\n                    <p>Uri : {result.url}</p>\r\n                    <p>Has social linked beer account?: {result.appLocation ? \"Yes\" : \"No\"}</p>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport \"../css/Inbox.scss\";\r\n\r\nclass Inbox extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    declineFriendShipRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.declineFriendSchipRequest(message);\r\n    };\r\n\r\n    acceptFriendShipRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.acceptFriendSchipRequest(message);\r\n    };\r\n\r\n    declineGroupRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.declineGroupRequest(message);\r\n    };\r\n\r\n    acceptGroupRequest = (index, message) => {\r\n        this.props.modelHolder.spliceAtIndex(index);\r\n        this.props.solidCommunicator.acceptGroupRequest(message);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.solidCommunicator.getInboxContents();\r\n    }\r\n\r\n    render(){\r\n        let items = this.props.modelHolder.getInboxMessages().map((message, index)=> {\r\n            let buttonDiv;\r\n\r\n            if(message.getType() === \"FriendshipRequest\"){\r\n                buttonDiv = (<div className = \"buttonDiv\">\r\n                    <button onClick = {() => this.declineFriendShipRequest(index,message)}>Decline</button>\r\n                    <button onClick = {() => this.acceptFriendShipRequest(index, message)}>Accept</button>\r\n                </div>)\r\n            }else if(message.getType() === \"GroupInvitation\"){\r\n                buttonDiv = (<div className = \"buttonDiv\">\r\n                    <button onClick = {() => this.declineGroupRequest(index,message)}>Decline</button>\r\n                    <button onClick = {() => this.acceptGroupRequest(index, message)}>Accept</button>\r\n                </div>)\r\n            }\r\n\r\n            return (<li key = {message.getUri()}>\r\n                <h4>{message.getType()}</h4>\r\n                <p>{message.getFrom() ? \"from :\" + message.getFrom(): \"fetching file\"}</p>\r\n                <p>{message.getDesc()}</p>\r\n                {buttonDiv}\r\n            </li>)\r\n        })\r\n\r\n        return(\r\n            <section className = \"inbox\">\r\n                <h1>\r\n                    Inbox\r\n                </h1>\r\n\r\n                <ul>\r\n                    {items}\r\n                </ul>\r\n                \r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Inbox;\r\n","import React from 'react';\r\nimport './css/BeerCheckInScreen.scss';\r\n\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Select from \"react-select\";\r\n\r\nclass BeerCheckInOverlay extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onDivClick = (e) => {\r\n        e.stopPropagation();\r\n    }\r\n    \r\n    render() {\r\n        let rating;\r\n        let text;\r\n\r\n        if (this.props.addReview) {\r\n            rating = (<Rating\r\n                name=\"beerRating\"\r\n                value={this.props.beerRating}\r\n                precision={0.5}\r\n                onChange={(event, newValue) => {\r\n                    this.props.setBeerRating(newValue);\r\n                }}\r\n                />\r\n            )\r\n\r\n            text = (\r\n                <textarea\r\n                    value={this.props.beerReview}\r\n                    onChange={event => {\r\n                        this.props.onBeerReviewChange(event.target.value)\r\n                    }\r\n                    }/>\r\n\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div onClick={this.props.onOverLayCancelClick} id=\"overlay\" style={this.props.overlay ? { display: \"block\" } : { display: \"none\" }}>\r\n                <div id=\"text\" onClick={this.onDivClick}>\r\n                    <h5>\r\n                        check in beer\r\n                    </h5>\r\n                    <button onClick = {this.props.onAddReviewClick}>{this.props.addReview ? \"dont add review\": \"Add review\"}</button>\r\n                    {rating}\r\n                    {text}\r\n                    <br />\r\n                    <button onClick = {this.props.checkInBeer}>check in beer</button>\r\n                    <Select\r\n                        isMulti = {true}\r\n                        onChange = {this.props.onSelect}\r\n                        options = {this.props.groupsOptions}\r\n                        value = {this.props.selectedOptions}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BeerCheckInOverlay;","import React from 'react';\r\nimport '../css/BeerDetailScreen.scss';\r\nimport BeerCheckInOverlay from '../../component/BeerCheckInOverlay';\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport Brewer from \"../../model/HolderComponents/Brewer\";\r\n\r\nclass BeerDetailScreen extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            overlay: false,\r\n            beerReview: \"\",\r\n            beerRating: 2.5,\r\n            addReview: false,\r\n            selectedOptions: [{value: this.props.modelHolder.getUser().getCheckInLocation(), label: \"Public\"}]\r\n        };\r\n\r\n        this.props.solidCommunicator.fetchBeerData(this.props.modelHolder.getBeer()).then(res => {\r\n        });\r\n        this.props.modelHolder.setBrewer(new Brewer(this.props.modelHolder.getBeer().getBrewerUrl()));\r\n    }\r\n\r\n    onPostBeerReview = async () => {\r\n        await this.props.solidCommunicator.postBeerReview(this.state.addReview,\r\n            this.props.modelHolder.getBeer(),\r\n            this.state.beerRating,\r\n            this.state.beerReview,\r\n            this.state.selectedOptions.map(res => {\r\n                return res.value\r\n            })\r\n        );\r\n\r\n        this.setState({\r\n            overlay: false,\r\n            beerReview: \"\",\r\n            beerRating: 2.5,\r\n            addReview: false,\r\n            selectedOptions: [{value: this.props.modelHolder.getUser().getCheckInLocation(), label: \"Public\"}]\r\n        })\r\n    };\r\n\r\n    onCheckInClick = () => {\r\n        this.setState({\r\n            overlay: true\r\n        });\r\n    };\r\n\r\n    onOverLayCancelClick = () => {\r\n        this.setState({\r\n            overlay: false\r\n        });\r\n    };\r\n\r\n    setBeerRating = (rating) => {\r\n        this.setState({\r\n            beerRating: rating\r\n        });\r\n    };\r\n\r\n    onBeerReviewChange = (text) => {\r\n        this.setState({\r\n            beerReview: text\r\n        });\r\n    };\r\n\r\n    onAddReviewClick = () => {\r\n        this.setState({\r\n            addReview: !this.state.addReview,\r\n            beerRating: 2.5,\r\n            beerReview: \"\"\r\n        })\r\n    };\r\n\r\n    onSelectGroup = (e) => {\r\n        this.setState({\r\n            selectedOptions: e\r\n        })\r\n    };\r\n\r\n    render() {\r\n        let beer = this.props.modelHolder.getBeer();\r\n        let beerData;\r\n\r\n        //get Groups\r\n        let groups = this.props.modelHolder.getGroups().map(res => {\r\n            return {value: res.getCheckInLocation(), label: res.getName()}\r\n        });\r\n        groups.push({value: this.props.modelHolder.getUser().getCheckInLocation(), label: \"Public\"});\r\n\r\n        let description;\r\n        let alcholdPercentage;\r\n        let min;\r\n        let max;\r\n        let stamworth;\r\n        let style;\r\n\r\n        if (beer._description) {\r\n            description = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Description</b></p>\r\n                    {beer._description}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._alcoholpercentage) {\r\n            alcholdPercentage = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Alcoholpercentage</b></p>\r\n                    {beer._alcoholpercentage}%\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._stamwortgehalte) {\r\n            stamworth = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Gravity</b></p>\r\n                    {beer._stamwortgehalte}%\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._minSchenkTemperatuur) {\r\n            min = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Min serving temperature</b></p>\r\n                    {beer._minSchenkTemperatuur}&deg;C\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._maxSchenkTemperatuur) {\r\n            max = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Max serving temperature</b></p>\r\n                    {beer._maxSchenkTemperatuur}&deg;C\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (beer._style) {\r\n            style = (<div className={\"textBeerDetailScreen\"}>\r\n                    <p><b>Style</b></p>\r\n                    {beer._maxSchenkTemperatuur}&deg;C\r\n                </div>\r\n            )\r\n        }\r\n\r\n        beerData = (<React.Fragment>\r\n            {description}\r\n            {style}\r\n            {alcholdPercentage}\r\n            {stamworth}\r\n            {min}\r\n            {max}\r\n        </React.Fragment>);\r\n\r\n        return (\r\n            <section className=\"beerDetailScreen\">\r\n                <h1>\r\n                    {beer._name}\r\n                </h1>\r\n                <div id=\"addReviewButtonDiv\">\r\n                    <p>\r\n                        <Link to={\"/brewer/0\"}>\r\n                            Brewer page\r\n                        </Link>\r\n                    </p>\r\n                    <button onClick={this.onCheckInClick}>Check in beer</button>\r\n                </div>\r\n\r\n                {beerData}\r\n\r\n\r\n                <BeerCheckInOverlay\r\n                    overlay={this.state.overlay}\r\n                    beerReview={this.state.beerReview}\r\n                    beerRating={this.state.beerRating}\r\n                    onOverLayCancelClick={this.onOverLayCancelClick}\r\n                    setBeerRating={this.setBeerRating}\r\n                    onBeerReviewChange={this.onBeerReviewChange}\r\n                    onAddReviewClick={this.onAddReviewClick}\r\n                    addReview={this.state.addReview}\r\n                    checkInBeer={this.onPostBeerReview}\r\n                    groupsOptions={groups}\r\n                    onSelect={this.onSelectGroup}\r\n                    selectedOptions={this.state.selectedOptions}\r\n                />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BeerDetailScreen;\r\n","import React from \"react\";\r\nimport \"../css/BrewerPage.scss\"\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass BrewerPage extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.props.solidCommunicator.getBrewerInformation(this.props.modelHolder.getBrewer());\r\n    }\r\n\r\n    onLinkClick = (e) => {\r\n        this.props.modelHolder.setBeer(e);\r\n    };\r\n\r\n    render() {\r\n        let section;\r\n        let brewer = this.props.modelHolder.getBrewer();\r\n\r\n        console.log(brewer);\r\n\r\n        let name;\r\n        let adress;\r\n        let groep;\r\n        let url;\r\n\r\n        let beers;\r\n\r\n\r\n        if (brewer._name) {\r\n            name = (\r\n                <h1>\r\n                    {brewer._name}\r\n                </h1>\r\n            );\r\n        }\r\n\r\n        if(brewer._groep){\r\n            groep = (<div className={\"brewerPageTextSectionDiv\"}>\r\n                    <p><b>\r\n                        Group\r\n                    </b></p>\r\n                    <p>\r\n                        {brewer._groep}\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (brewer.getAddress() !== \"\") {\r\n            url = (\r\n                <div className={\"brewerPageTextSectionDiv\"}>\r\n                    <p><b>\r\n                        Website\r\n                    </b></p>\r\n                    <a href={brewer._url}>\r\n                        {brewer._url}\r\n                    </a>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (brewer._url) {\r\n            adress = (\r\n                <div className={\"brewerPageTextSectionDiv\"}>\r\n                    <p><b>\r\n                        Adress\r\n                    </b></p>\r\n                    <p>\r\n                        {brewer.getAddress()}\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        beers = brewer._beers.map((listItem, index) => {\r\n            return (<li key={listItem.getUrl()}>\r\n                    <Link to={`/beer/${index}`} onClick={() => {\r\n                        this.onLinkClick(listItem)\r\n                    }}>\r\n                        {listItem.getName()}\r\n                    </Link>\r\n                </li>\r\n            )\r\n        })\r\n\r\n        return (\r\n            <section className=\"brewerPage\">\r\n                {name}\r\n                {groep}\r\n                {url}\r\n                {adress}\r\n\r\n                <h3>Beers</h3>\r\n                <ul>\r\n                    {beers}\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BrewerPage;","import React from 'react';\r\nimport \"../css/GroupDetail.scss\";\r\nimport BeerCheckInComponent from \"../../component/BeerCheckInComponent\";\r\nimport Star from '../../assets/star.png';\r\n\r\nclass GroupDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            group: this.props.modelHolder.getGroupFromIndex(this.props.match.params.id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let userCheckIns = this.state.group.getCheckInHandler().getUserCheckIns();\r\n        userCheckIns = userCheckIns.map(checkIn => {\r\n            return (\r\n                <BeerCheckInComponent key={checkIn._fileLocation} checkin={checkIn}/>\r\n            )\r\n        });\r\n\r\n        let groupMembers = this.state.group.getMembers();\r\n        groupMembers.push(this.state.group.getLeader());\r\n        groupMembers.sort((a, b) => {\r\n            return b.points - a.points;\r\n        })\r\n\r\n        groupMembers = groupMembers.map(res => {\r\n            let name;\r\n\r\n            if (this.state.group.getLeader()) {\r\n                name = (<p>{res === this.state.group.getLeader() ? <img src={Star} title=\"leader\"/> : undefined}\r\n                    {res.member + \" [\" + res.points + \"]\"}\r\n                </p>);\r\n            }\r\n\r\n            return (<li key={res}>\r\n                    {name}\r\n                </li>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <section className=\"groupDetailScreen\">\r\n                <h1>{this.state.group.getName()}</h1>\r\n                <div className=\"groupDetailSection\">\r\n                    <div className=\"participants\">\r\n                        <h2>\r\n                            Users\r\n                        </h2>\r\n                        <ul>\r\n                            {groupMembers}\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"checkInsGroup\">\r\n                        <h2>\r\n                            Checkins\r\n                        </h2>\r\n                        <ul>\r\n                            {userCheckIns}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GroupDetail;","import React from 'react';\r\n\r\nimport {Switch, Route, withRouter, Redirect} from \"react-router-dom\";\r\n\r\n/**\r\n * Imported Pages\r\n */\r\nimport Home from './page/Home'\r\nimport LogIn from './page/LogIn'\r\nimport Groups from './page/Groups';\r\nimport Friends from './page/Friends';\r\nimport FriendsPage from './page/FriendPage';\r\nimport CheckIns from './page/CheckIns';\r\nimport BeerResults from './page/BeerResults';\r\nimport Profile from './page/Profile';\r\nimport UserPage from './page/User';\r\nimport Inbox from './page/Inbox';\r\nimport BeerDetailScreen from './page/BeerDetailScreen';\r\nimport BrewerPage from './page/BrewerPage';\r\nimport GroupDetail from \"./page/GroupDetail\";\r\n\r\nclass AppRoutes extends React.Component {\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/\"\r\n                       component={Home}\r\n                       isLoggedIn={this.props.loggedIn}\r\n                       solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute path=\"/user\"\r\n                              component={UserPage}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/beer/:id\"\r\n                              component={BeerDetailScreen}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/brewer/:id\"\r\n                              component={BrewerPage}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute exact path=\"/friend\"\r\n                              component={Friends}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}\r\n                              solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute path=\"/friend/:id\"\r\n                              component={FriendsPage}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path=\"/beerresults\"\r\n                              component={BeerResults}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              onLinkClick={this.props.clearSearchQuery}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}\r\n                              searchQuery = {this.props.searchQuery}\r\n                              onBeerSearch = {this.props.onBeerSearch}\r\n                />\r\n                <PrivateRoute path=\"/groups/:id\"\r\n                              component={GroupDetail}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}\r\n                              solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute exact path=\"/groups\"\r\n                              component={Groups}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}\r\n                              solidCommunicator={this.props.solidCommunicator}/>\r\n                <PrivateRoute path='/profile'\r\n                              component={Profile}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path='/checkIns'\r\n                              component={CheckIns}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRoute path='/inbox'\r\n                              component={Inbox}\r\n                              isLoggedIn={this.props.loggedIn}\r\n                              solidCommunicator={this.props.solidCommunicator}\r\n                              modelHolder={this.props.modelHolder}/>\r\n                <PrivateRouteLogIn path=\"/login\"\r\n                                   component={LogIn}\r\n                                   isLoggedIn={this.props.loggedIn}\r\n                                   onLoggedIn={this.props.onLoggedIn}/>\r\n            </Switch>)\r\n    }\r\n}\r\n\r\nconst PrivateRoute = ({component: Component, isLoggedIn, ...rest}) => (\r\n    <Route {...rest} render={(props) => (\r\n        isLoggedIn\r\n            ? <Component {...props} {...rest}/>\r\n            : <Redirect to='/'/>\r\n    )}/>\r\n)\r\n\r\nconst PrivateRouteLogIn = ({component: Component, isLoggedIn, onLoggedIn, ...rest}) => (\r\n    <Route {...rest} render={(props) => (\r\n        !isLoggedIn\r\n            ? <Component onLoggedIn={onLoggedIn} {...props} />\r\n            : <Redirect to='/profile'/>\r\n    )}/>\r\n)\r\n\r\nexport default withRouter(AppRoutes);","import React from 'react';\r\nimport '../css/AclErrorPage.scss';\r\n\r\nclass AclErrorPage extends React.Component{\r\n    render(){\r\n        //TODO geef detailed instuctie om het op te lossen.\r\n\r\n        return (<section className = \"aclErrorPage\">\r\n            <h1>\r\n             The application does not have correct access. please give the application read, write, append and control access. \r\n            </h1>\r\n        </section>)\r\n    }\r\n}\r\n\r\nexport default AclErrorPage;","import React from 'react';\r\nimport '../css/FetchingPage.scss';\r\n\r\nclass FetchingPage extends React.Component {\r\n    render() {\r\n        return (\r\n            <section className= \"rendering\">\r\n                <h1>Fetching data</h1>\r\n                <div id=\"fetchinAnimation\"></div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FetchingPage;","import Observable from \"./Observable\";\r\n\r\nclass User extends Observable{\r\n    constructor(uri){\r\n        super();\r\n        this._uri = uri\r\n        this._name =  this.getUserName(uri);\r\n        this._imageUrl = undefined;\r\n        this._startDate = undefined;\r\n        this._appFolder = undefined;\r\n        this._beerDrinkerFoler = undefined;\r\n        this._checkInFolder = undefined;\r\n    }\r\n\r\n    setUri(uri){\r\n        this._uri = uri;\r\n\r\n        if(!this._name){\r\n            this._name = this.getUserName(uri);\r\n        }\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    loadInUserValues(name, imageURL, appFolder,beerDrinkerFolder, checkInFolder){\r\n        if(name){\r\n            this._name = name;\r\n        }\r\n\r\n        this._imageUrl = imageURL;\r\n        this._appFolder = appFolder;\r\n        this._beerDrinkerFoler = beerDrinkerFolder;\r\n        this._checkInFolder = checkInFolder;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    loadInAppData(startDate){\r\n        this._startDate = startDate;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getUri(){\r\n        return this._uri;\r\n    }\r\n\r\n    getUserName(uri){\r\n        return  uri.replace(\"https://\", \"\").replace(/\\..*/, \"\");\r\n    }\r\n\r\n    getAppFolder(){\r\n        return this._appFolder;\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getBeginDate(){\r\n        if(this._startDate){\r\n            return new Date(this._startDate.getTime());\r\n        }else {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    getImageUrl(){\r\n        return this._imageUrl;\r\n    }\r\n\r\n    getBeerDrinkerFolder(){\r\n        return this._beerDrinkerFoler;\r\n    }\r\n\r\n    getCheckInLocation(){\r\n        return this._checkInFolder;\r\n    }\r\n}\r\n\r\nexport default User;","import CheckInHandler from \"./HolderComponents/CheckInHandler\";\r\nimport User from \"./HolderComponents/User\";\r\nimport Observable from \"./HolderComponents/Observable\";\r\nimport Beer from \"./HolderComponents/Beer\";\r\n\r\nclass ModelHolder extends Observable {\r\n    constructor() {\r\n        super();\r\n        this._user = new User(\"\");\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._friends = [];\r\n\r\n        this._brewer = undefined;\r\n        this._slectedBeer = undefined;\r\n\r\n        this._beers = [];\r\n        this._groups = [];\r\n        this._inboxMessages = [];\r\n\r\n        this._checkInHandler.subscribe(this);\r\n        this._user.subscribe(this);\r\n    }\r\n\r\n    setInboxMessages(inboxMessages) {\r\n        this._inboxMessages.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._inboxMessages = inboxMessages;\r\n\r\n        this._inboxMessages.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n    }\r\n\r\n    getInboxMessages() {\r\n        return this._inboxMessages;\r\n    }\r\n\r\n    spliceAtIndex(index) {\r\n        this._inboxMessages.splice(index, 1);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addFriends(newFriends) {\r\n        newFriends.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n\r\n        this._friends = this._friends.concat(newFriends);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addFriend(newFriend) {\r\n        newFriend.subscribe(this);\r\n        this._friends.push(newFriend);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getFriendFromIndex(index) {\r\n        return this._friends[index];\r\n    }\r\n\r\n    getFriends() {\r\n        return this._friends;\r\n    }\r\n\r\n    clearAll() {\r\n        this._user.unsubscribe(this);\r\n        this._checkInHandler.unsubscribe(this);\r\n        this._checkInHandler.clearAll();\r\n\r\n        if (this._slectedBeer) {\r\n            this._slectedBeer.unsubscribe(this);\r\n        }\r\n\r\n        if (this._brewer) {\r\n            this._brewer.unsubscribe(this);\r\n        }\r\n\r\n        this._friends.forEach(res => {\r\n            res.unsubscribe(this);\r\n            res.clearAll();\r\n        });\r\n\r\n        this._groups.forEach(res => {\r\n            res.unsubscribe(this);\r\n            res.clearAll();\r\n        });\r\n\r\n        this._beers.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._inboxMessages.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._user = new User(\"\");\r\n        this._checkInHandler = new CheckInHandler();\r\n        this._friends = [];\r\n        this._groups = [];\r\n        this._beers = [];\r\n        this._inboxMessages = [];\r\n        this._brewer = undefined;\r\n        this._slectedBeer = undefined;\r\n    }\r\n\r\n    getUser() {\r\n        return this._user;\r\n    }\r\n\r\n    getCheckInHandler() {\r\n        return this._checkInHandler;\r\n    }\r\n\r\n    setGroups(groups) {\r\n        this._groups.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n\r\n        this._groups = groups;\r\n\r\n        this._groups.forEach(res => {\r\n            res.subscribe(this);\r\n        })\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    addGroup(group) {\r\n        this._groups.push(group);\r\n        group.subscribe(this);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getGroups() {\r\n        return this._groups;\r\n    }\r\n\r\n    getBrewer() {\r\n        return this._brewer;\r\n    }\r\n\r\n    setBrewer(brewer) {\r\n        if (this._brewer) {\r\n            this._brewer.unsubscribe();\r\n        }\r\n\r\n        this._brewer = brewer;\r\n        this._brewer.subscribe(this);\r\n    }\r\n\r\n    getBeers() {\r\n        return this._beers;\r\n    }\r\n\r\n    setBeers(beers) {\r\n        this._beers.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._beers = beers;\r\n\r\n        this._beers.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getBeer() {\r\n        return this._slectedBeer;\r\n    }\r\n\r\n    setBeer(beer) {\r\n        if (this._slectedBeer) {\r\n            this.unsubscribe(this)\r\n        }\r\n\r\n        this._slectedBeer = beer;\r\n        beer.subscribe(this);\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    update() {\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getFriendFromUri(uri) {\r\n        for (let i = 0; i < this._friends.length; i++) {\r\n            if (this._friends[i].getUri() === uri) {\r\n                return this._friends[i];\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    getGroupFromIndex(index) {\r\n        return this._groups[index];\r\n    }\r\n\r\n    getGroupFromCheckInLocationUri(uri) {\r\n        for (let i = 0; i < this._groups.length; i++) {\r\n            if (this._groups[i].getCheckInLocation() === uri) {\r\n                return this._groups[i];\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n}\r\n\r\nexport default ModelHolder;","/**\n * Libs\n */\nimport React from 'react';\nimport solidAuth from 'solid-auth-client';\nimport {Link, withRouter} from \"react-router-dom\";\nimport SolidCommunicator from './solid/SolidCommunicator';\n\n/**\n * Components\n */\nimport NavBar from './component/NavBar';\nimport AppRoutes from './routes/AppRoutes';\nimport AclErrorPage from './routes/extrapage/AclErrorPage';\nimport FetchingPage from './routes/extrapage/FetchingPage';\n\n/**\n * Errors\n */\nimport AccessError from './error/AccessError';\n\n/**\n * Assests\n */\nimport './App.scss';\nimport Knipsel from './assets/Knipsel.png';\nimport ModelHolder from \"./model/ModelHolder\";\nimport Logo from \"./assets/logo.png\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loggedIn: false,\n            searchQuery: '',\n            modelHolder: new ModelHolder(),\n            solidCommunicator: undefined,\n            accessError: false,\n            fetchingFiles: false\n        };\n\n        this.state.modelHolder.subscribe(this);\n    }\n\n    componentDidMount() {\n        this.checkLoggedIn();\n    }\n\n    update = () => {\n        this.setState({\n            modelHolder: this.state.modelHolder\n        })\n    };\n\n    clearSearchQuery = () => {\n        this.setState({\n            searchQuery: ''\n        })\n    };\n\n    checkLoggedIn = async () => {\n        let session = await solidAuth.currentSession();\n        //TODO error handling\n\n        if (session) {\n            this.setState({\n                fetchingFiles: true\n            });\n\n            //make new user\n            this.state.modelHolder.getUser().setUri(session.webId);\n\n            try {\n                let solidCommunicator = await SolidCommunicator.build(this.state.modelHolder);\n\n                this.setState({\n                    solidCommunicator: solidCommunicator,\n                    loggedIn: true,\n                    fetchingFiles: false\n                });\n\n                this.props.history.push(`/profile`);\n            } catch (e) {\n                if (e instanceof AccessError) {\n                    this.setState({\n                        accessError: true,\n                        fetchingFiles: false\n                    })\n                } else {\n                    throw e; // let others bubble up\n                }\n            }\n        }\n    };\n\n    onClickLogOut = () => {\n        solidAuth.logout().then(res => {\n            this.state.modelHolder.clearAll();\n\n            this.setState({\n                loggedIn: false,\n                userObject: undefined,\n                accessError: false\n            });\n        });\n    };\n\n    onLoggedIn = () => {\n        this.checkLoggedIn();\n    };\n\n    onBeerSearch = (text) => {\n        let location = this.props.location.pathname;\n\n        this.setState({\n            searchQuery: text\n        });\n\n        if (text) {\n            if (location !== \"/beerresults\") {\n                this.props.history.push(\"/beerresults\");\n            }\n\n            /**\n             * Vindt hier de bier\n             */\n        } else {\n            this.props.history.goBack();\n        }\n    };\n\n    onDeleteButtonClicked = () =>{\n      this.clearSearchQuery();\n      if (this.props.location.pathname === \"/beerresults\") {\n        this.props.history.goBack();\n      }\n    }\n\n    render() {\n        let navBar;\n        let app;\n\n        if (this.state.fetchingFiles) {\n            navBar = (\n                <NavBar onSearchBarButtonClick={this.onDeleteButtonClicked}>\n                    <Link to=\"/\">&nbsp;</Link>\n                </NavBar>)\n        } else if (this.state.accessError) {\n            navBar = (\n                <NavBar onSearchBarButtonClick={this.onDeleteButtonClicked}>\n                    <Link to=\"/\" onClick={this.onClickLogOut}>Log out</Link>\n                </NavBar>)\n        } else if (this.state.loggedIn) {\n            navBar = (\n                <NavBar onSearchBarButtonClick={this.onDeleteButtonClicked}\n                        onBeerSearch={this.onBeerSearch}\n                        loggedIn={this.state.loggedIn}\n                        searchQuery={this.state.searchQuery}>\n                    <Link to=\"/profile\">Profile</Link>\n                    <Link to=\"/friend\">Friends</Link>\n                    <Link to=\"/groups\">Groups</Link>\n                    <Link to=\"/inbox\">Inbox</Link>\n                    <Link to=\"/\" onClick={this.onClickLogOut}>Log out</Link>\n                </NavBar>\n            )\n        } else {\n            navBar = (\n                <NavBar onBeerSearch={this.onBeerSearch} loggedIn={this.state.loggedIn}>\n                    <Link to=\"/LogIn\">Log in</Link>\n                </NavBar>\n            )\n        }\n\n        if (this.state.fetchingFiles) {\n            app = (<FetchingPage/>);\n        } else if (this.state.accessError) {\n            app = (<AclErrorPage/>);\n        } else {\n            app = (<AppRoutes\n                loggedIn={this.state.loggedIn}\n                modelHolder={this.state.modelHolder}\n                solidCommunicator={this.state.solidCommunicator}\n                clearSearchQuery={this.clearSearchQuery}\n                onLoggedIn={this.onLoggedIn}\n                searchQuery = {this.state.searchQuery}\n                onBeerSearch={this.onBeerSearch}\n            />)\n        }\n\n        return (\n            <div id=\"AppRoot\">\n                <header>\n                    <Link to=\"/\">\n                        <img src={Logo}/>\n                    </Link>\n                    {navBar}\n                </header>\n\n                {app}\n                <footer>\n          <span>\n            This application works with\n            </span>\n                    <a href=\"https://solid.inrupt.com\">\n                        <img alt=\"Solid inrupt\" src={Knipsel}/>\n                    </a>\n                </footer>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter, HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n <HashRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/profilePic.b6681619.png\";"],"sourceRoot":""}